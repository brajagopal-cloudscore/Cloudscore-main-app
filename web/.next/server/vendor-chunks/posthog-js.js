"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/../../node_modules/posthog-js/dist/module.js":
/*!****************************************************!*\
  !*** ../../node_modules/posthog-js/dist/module.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ he),\n/* harmony export */   Compression: () => (/* binding */ de),\n/* harmony export */   DisplaySurveyType: () => (/* binding */ Uo),\n/* harmony export */   PostHog: () => (/* binding */ Fa),\n/* harmony export */   SurveyEventName: () => (/* binding */ Lo),\n/* harmony export */   SurveyEventProperties: () => (/* binding */ No),\n/* harmony export */   SurveyPosition: () => (/* binding */ Oo),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ Do),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Ao),\n/* harmony export */   SurveySchedule: () => (/* binding */ jo),\n/* harmony export */   SurveyType: () => (/* binding */ Fo),\n/* harmony export */   SurveyWidgetType: () => (/* binding */ Mo),\n/* harmony export */   \"default\": () => (/* binding */ Da),\n/* harmony export */   posthog: () => (/* binding */ Da),\n/* harmony export */   severityLevels: () => (/* binding */ ve)\n/* harmony export */ });\nvar t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,e=Array.prototype,r=e.forEach,s=e.indexOf,n=null==i?void 0:i.navigator,o=null==i?void 0:i.document,a=null==i?void 0:i.location,l=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,h=null==i?void 0:i.AbortController,d=null==n?void 0:n.userAgent,v=null!=t?t:{},c={DEBUG:!1,LIB_VERSION:\"1.268.8\"};function f(t,i,e,r,s,n,o){try{var a=t[n](o),l=a.value}catch(t){return void e(t)}a.done?i(l):Promise.resolve(l).then(r,s)}function p(t){return function(){var i=this,e=arguments;return new Promise((function(r,s){var n=t.apply(i,e);function o(t){f(n,r,s,o,a,\"next\",t)}function a(t){f(n,r,s,o,a,\"throw\",t)}o(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(null,arguments)}function _(t,i){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==i.indexOf(r))continue;e[r]=t[r]}return e}var m=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];function y(t,i){return-1!==t.indexOf(i)}var b=function(t){return t.trim()},w=function(t){return t.replace(/^\\$/,\"\")};var S=Array.isArray,k=Object.prototype,x=k.hasOwnProperty,E=k.toString,P=S||function(t){return\"[object Array]\"===E.call(t)},R=t=>\"function\"==typeof t,I=t=>t===Object(t)&&!P(t),T=t=>{if(I(t)){for(var i in t)if(x.call(t,i))return!1;return!0}return!1},C=t=>void 0===t,M=t=>\"[object String]\"==E.call(t),O=t=>M(t)&&0===t.trim().length,F=t=>null===t,A=t=>C(t)||F(t),D=t=>\"[object Number]\"==E.call(t),j=t=>\"[object Boolean]\"===E.call(t),L=t=>t instanceof FormData,N=t=>y(m,t);function U(t){return null===t||\"object\"!=typeof t}function z(t,i){return Object.prototype.toString.call(t)===\"[object \"+i+\"]\"}function q(t){return!C(Event)&&function(t,i){try{return t instanceof i}catch(t){return!1}}(t,Event)}var B=[!0,\"true\",1,\"1\",\"yes\"],H=t=>y(B,t),W=[!1,\"false\",0,\"0\",\"no\"];function G(t,i,e,r,s){return i>e&&(r.warn(\"min cannot be greater than max.\"),i=e),D(t)?t>e?(r.warn(\" cannot be  greater than max: \"+e+\". Using max value instead.\"),e):t<i?(r.warn(\" cannot be less than min: \"+i+\". Using min value instead.\"),i):t:(r.warn(\" must be a number. using max or fallback. max: \"+e+\", fallback: \"+s),G(s||e,i,e,r))}class V{constructor(t){this.t=t,this.i={},this.o=()=>{Object.keys(this.i).forEach((t=>{var i=this.h(t)+this.m;i>=this.S?delete this.i[t]:this.k(t,i)}))},this.h=t=>this.i[String(t)],this.k=(t,i)=>{this.i[String(t)]=i},this.consumeRateLimit=t=>{var i,e,r=null!==(i=this.h(t))&&void 0!==i?i:this.S;if(0===(r=Math.max(r-1,0)))return!0;this.k(t,r);var s=0===r;return s&&(null==(e=this.$)||e.call(this,t)),s},this.$=this.t.$,this.S=G(this.t.bucketSize,0,100,this.t.P),this.m=G(this.t.refillRate,0,this.S,this.t.P),this.R=G(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval((()=>{this.o()}),this.R)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var J,K,Y,X=t=>t instanceof Error;function Q(t){var i=globalThis._posthogChunkIds;if(i){var e=Object.keys(i);return Y&&e.length===K||(K=e.length,Y=e.reduce(((e,r)=>{J||(J={});var s=J[r];if(s)e[s[0]]=s[1];else for(var n=t(r),o=n.length-1;o>=0;o--){var a=n[o],l=null==a?void 0:a.filename,u=i[r];if(l&&u){e[l]=u,J[r]=[l,u];break}}return e}),{})),Y}}var Z=\"?\";function tt(t,i,e,r){var s={platform:\"web:javascript\",filename:t,function:\"<anonymous>\"===i?Z:i,in_app:!0};return C(e)||(s.lineno=e),C(r)||(s.colno=r),s}var it=(t,i)=>{var e=-1!==t.indexOf(\"safari-extension\"),r=-1!==t.indexOf(\"safari-web-extension\");return e||r?[-1!==t.indexOf(\"@\")?t.split(\"@\")[0]:Z,e?\"safari-extension:\"+i:\"safari-web-extension:\"+i]:[t,i]},et=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,rt=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,st=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,nt=t=>{var i=et.exec(t);if(i){var[,e,r,s]=i;return tt(e,Z,+r,+s)}var n=rt.exec(t);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){var o=st.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}var[a,l]=it(n[1]||Z,n[2]);return tt(l,a,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},ot=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,at=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,lt=t=>{var i=ot.exec(t);if(i){if(i[3]&&i[3].indexOf(\" > eval\")>-1){var e=at.exec(i[3]);e&&(i[1]=i[1]||\"eval\",i[3]=e[1],i[4]=e[2],i[5]=\"\")}var r=i[3],s=i[1]||Z;return[s,r]=it(s,r),tt(r,s,i[4]?+i[4]:void 0,i[5]?+i[5]:void 0)}},ut=/\\(error: (.*)\\)/,ht=50;function dt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(t,e){void 0===e&&(e=0);for(var r=[],s=t.split(\"\\n\"),n=e;n<s.length;n++){var o=s[n];if(!(o.length>1024)){var a=ut.test(o)?o.replace(ut,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of i){var u=l(a);if(u){r.push(u);break}}if(r.length>=ht)break}}}return function(t){if(!t.length)return[];var i=Array.from(t);return i.reverse(),i.slice(0,ht).map((t=>{return g({},t,{filename:t.filename||(e=i,e[e.length-1]||{}).filename,function:t.function||Z});var e}))}(r)}}class vt{constructor(t,i,e){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===e&&(e=[]),this.coercers=t,this.modifiers=e,this.stackParser=dt(...i)}buildFromUnknown(t,i){void 0===i&&(i={});var e=i&&i.mechanism||{handled:!0,type:\"generic\"},r=this.buildCoercingContext(e,i,0).apply(t),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,e),$exception_level:\"error\"}}modifyFrames(t){var i=this;return p((function*(){for(var e of t)e.stacktrace&&e.stacktrace.frames&&P(e.stacktrace.frames)&&(e.stacktrace.frames=yield i.applyModifiers(e.stacktrace.frames));return t}))()}coerceFallback(t){var i;return{type:\"Error\",value:\"Unknown error\",stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}parseStacktrace(t,i){var e,r;return null!=t.cause&&(e=this.parseStacktrace(t.cause,i)),\"\"!=t.stack&&null!=t.stack&&(r=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),i.chunkIdMap)),g({},t,{cause:e,stack:r})}applyChunkIds(t,i){return t.map((t=>(t.filename&&i&&(t.chunk_id=i[t.filename]),t)))}applyCoercers(t,i){for(var e of this.coercers)if(e.match(t))return e.coerce(t,i);return this.coerceFallback(i)}applyModifiers(t){var i=this;return p((function*(){var e=t;for(var r of i.modifiers)e=yield r(e);return e}))()}convertToExceptionList(t,i){var e,r,s,n={type:t.type,value:t.value,mechanism:{type:null!==(e=i.type)&&void 0!==e?e:\"generic\",handled:null===(r=i.handled)||void 0===r||r,synthetic:null!==(s=t.synthetic)&&void 0!==s&&s}};t.stack&&(n.stacktrace={type:\"raw\",frames:t.stack});var o=[n];return null!=t.cause&&o.push(...this.convertToExceptionList(t.cause,g({},i,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:Q(this.stackParser)}}buildCoercingContext(t,i,e){void 0===e&&(e=0);var r=(e,r)=>{if(r<=4){var s=this.buildCoercingContext(t,i,r);return this.applyCoercers(e,s)}};return g({},i,{syntheticException:0==e?i.syntheticException:void 0,mechanism:t,apply:t=>r(t,e),next:t=>r(t,e+1)})}}class ct{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,i){var e=M(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:e?t.stack:void 0,cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?\"DOMError\":\"DOMException\"}getValue(t){var i=t.name||(this.isDOMError(t)?\"DOMError\":\"DOMException\");return t.message?i+\": \"+t.message:i}isDOMException(t){return z(t,\"DOMException\")}isDOMError(t){return z(t,\"DOMError\")}}class ft{match(t){return(t=>t instanceof Error)(t)}coerce(t,i){return{type:this.getType(t),value:this.getMessage(t,i),stack:this.getStack(t),cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,i){var e=t.message;return e.error&&\"string\"==typeof e.error.message?String(e.error.message):String(e)}getStack(t){return t.stacktrace||t.stack||void 0}}class pt{constructor(){}match(t){return z(t,\"ErrorEvent\")&&null!=t.error}coerce(t,i){var e,r=i.apply(t.error);return r||{type:\"ErrorEvent\",value:t.message,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}var gt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class _t{match(t){return\"string\"==typeof t}coerce(t,i){var e,[r,s]=this.getInfos(t);return{type:null!=r?r:\"Error\",value:null!=s?s:t,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}getInfos(t){var i=\"Error\",e=t,r=t.match(gt);return r&&(i=r[1],e=r[2]),[i,e]}}var mt=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function yt(t,i){void 0===i&&(i=40);var e=Object.keys(t);if(e.sort(),!e.length)return\"[object has no keys]\";for(var r=e.length;r>0;r--){var s=e.slice(0,r).join(\", \");if(!(s.length>i))return r===e.length||s.length<=i?s:s.slice(0,i)+\"...\"}return\"\"}class bt{match(t){return\"object\"==typeof t&&null!==t}coerce(t,i){var e,r=this.getErrorPropertyFromObject(t);return r?i.apply(r):{type:this.getType(t),value:this.getValue(t),stack:null==(e=i.syntheticException)?void 0:e.stack,level:this.isSeverityLevel(t.level)?t.level:\"error\",synthetic:!0}}getType(t){return q(t)?t.constructor.name:\"Error\"}getValue(t){if(\"name\"in t&&\"string\"==typeof t.name){var i=\"'\"+t.name+\"' captured as exception\";return\"message\"in t&&\"string\"==typeof t.message&&(i+=\" with message: '\"+t.message+\"'\"),i}if(\"message\"in t&&\"string\"==typeof t.message)return t.message;var e=this.getObjectClassName(t);return(e&&\"Object\"!==e?\"'\"+e+\"'\":\"Object\")+\" captured as exception with keys: \"+yt(t)}isSeverityLevel(t){return M(t)&&!O(t)&&mt.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(X(e))return e}}getObjectClassName(t){try{var i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){return}}}class wt{match(t){return q(t)}coerce(t,i){var e,r=t.constructor.name;return{type:r,value:r+\" captured as exception with keys: \"+yt(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class St{match(t){return U(t)}coerce(t,i){var e;return{type:\"Error\",value:\"Primitive value captured as exception: \"+String(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class kt{match(t){return z(t,\"PromiseRejectionEvent\")}coerce(t,i){var e,r=this.getUnhandledRejectionReason(t);return U(r)?{type:\"UnhandledRejection\",value:\"Non-Error promise rejection captured with value: \"+String(r),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}:i.apply(r)}getUnhandledRejectionReason(t){if(U(t))return t;try{if(\"reason\"in t)return t.reason;if(\"detail\"in t&&\"reason\"in t.detail)return t.detail.reason}catch(t){}return t}}var $t=i=>{var e={T:function(e){if(t&&(c.DEBUG||v.POSTHOG_DEBUG)&&!C(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[e]?t.console[e].__rrweb_original__:t.console[e]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(i,...n)}},info:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.T(\"log\",...i)},warn:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.T(\"warn\",...i)},error:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.T(\"error\",...i)},critical:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.error(i,...e)},uninitializedWarning:t=>{e.error(\"You must initialize PostHog before calling \"+t)},createLogger:t=>$t(i+\" \"+t)};return e},xt=$t(\"[PostHog.js]\"),Et=xt.createLogger,Pt=Et(\"[ExternalScriptsLoader]\"),Rt=(t,i,e)=>{if(t.config.disable_external_dependency_loading)return Pt.warn(i+\" was requested but loading of external scripts is disabled.\"),e(\"Loading of external scripts is disabled\");var r=null==o?void 0:o.querySelectorAll(\"script\");if(r)for(var s,n=function(){if(r[a].src===i){var t=r[a];return t.__posthog_loading_callback_fired?{v:e()}:(t.addEventListener(\"load\",(i=>{t.__posthog_loading_callback_fired=!0,e(void 0,i)})),t.onerror=t=>e(t),{v:void 0})}},a=0;a<r.length;a++)if(s=n())return s.v;var l=()=>{if(!o)return e(\"document not found\");var r=o.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=i,r.onload=t=>{r.__posthog_loading_callback_fired=!0,e(void 0,t)},r.onerror=t=>e(t),t.config.prepare_external_dependency_script&&(r=t.config.prepare_external_dependency_script(r)),!r)return e(\"prepare_external_dependency_script returned null\");var s,n=o.querySelectorAll(\"body > script\");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):o.body.appendChild(r)};null!=o&&o.body?l():null==o||o.addEventListener(\"DOMContentLoaded\",l)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(t,i,e)=>{var r=\"/static/\"+i+\".js?v=\"+t.version;if(\"remote-config\"===i&&(r=\"/array/\"+t.config.token+\"/config.js\"),\"toolbar\"===i){var s=3e5;r=r+\"&t=\"+Math.floor(Date.now()/s)*s}var n=t.requestRouter.endpointFor(\"assets\",r);Rt(t,n,e)},v.__PosthogExtensions__.loadSiteApp=(t,i,e)=>{var r=t.requestRouter.endpointFor(\"api\",i);Rt(t,r,e)};var It={};function Tt(t,i,e){if(P(t))if(r&&t.forEach===r)t.forEach(i,e);else if(\"length\"in t&&t.length===+t.length)for(var s=0,n=t.length;s<n;s++)if(s in t&&i.call(e,t[s],s)===It)return}function Ct(t,i,e){if(!A(t)){if(P(t))return Tt(t,i,e);if(L(t)){for(var r of t.entries())if(i.call(e,r[1],r[0])===It)return}else for(var s in t)if(x.call(t,s)&&i.call(e,t[s],s)===It)return}}var Mt=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Tt(e,(function(i){for(var e in i)void 0!==i[e]&&(t[e]=i[e])})),t},Ot=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Tt(e,(function(i){Tt(i,(function(i){t.push(i)}))})),t};function Ft(t){for(var i=Object.keys(t),e=i.length,r=new Array(e);e--;)r[e]=[i[e],t[i[e]]];return r}var At=function(t){try{return t()}catch(t){return}},Dt=function(t){return function(){try{for(var i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return t.apply(this,e)}catch(t){xt.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),xt.critical(t)}}},jt=function(t){var i={};return Ct(t,(function(t,e){(M(t)&&t.length>0||D(t))&&(i[e]=t)})),i};function Lt(t,i){return e=t,r=t=>M(t)&&!F(i)?t.slice(0,i):t,s=new Set,function t(i,e){return i!==Object(i)?r?r(i,e):i:s.has(i)?void 0:(s.add(i),P(i)?(n=[],Tt(i,(i=>{n.push(t(i))}))):(n={},Ct(i,((i,e)=>{s.has(i)||(n[e]=t(i,e))}))),n);var n}(e);var e,r,s}var Nt=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function Ut(t){var i=null==t?void 0:t.hostname;if(!M(i))return!1;var e=i.split(\".\").slice(-2).join(\".\");for(var r of Nt)if(e===r)return!1;return!0}function zt(t,i){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}function qt(t,i,e,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==t||t.addEventListener(i,e,{capture:s,passive:n})}var Bt=\"$people_distinct_id\",Ht=\"__alias\",Wt=\"__timers\",Gt=\"$autocapture_disabled_server_side\",Vt=\"$heatmaps_enabled_server_side\",Jt=\"$exception_capture_enabled_server_side\",Kt=\"$error_tracking_suppression_rules\",Yt=\"$error_tracking_capture_extension_exceptions\",Xt=\"$web_vitals_enabled_server_side\",Qt=\"$dead_clicks_enabled_server_side\",Zt=\"$web_vitals_allowed_metrics\",ti=\"$session_recording_remote_config\",ii=\"$session_recording_enabled_server_side\",ei=\"$console_log_recording_enabled_server_side\",ri=\"$session_recording_network_payload_capture\",si=\"$session_recording_masking\",ni=\"$session_recording_canvas_recording\",oi=\"$replay_sample_rate\",ai=\"$replay_minimum_duration\",li=\"$replay_script_config\",ui=\"$sesid\",hi=\"$session_is_sampled\",di=\"$session_recording_url_trigger_activated_session\",vi=\"$session_recording_event_trigger_activated_session\",ci=\"$enabled_feature_flags\",fi=\"$early_access_features\",pi=\"$feature_flag_details\",gi=\"$stored_person_properties\",_i=\"$stored_group_properties\",mi=\"$surveys\",yi=\"$surveys_activated\",bi=\"$flag_call_reported\",wi=\"$user_state\",Si=\"$client_session_props\",ki=\"$capture_rate_limit\",$i=\"$initial_campaign_params\",xi=\"$initial_referrer_info\",Ei=\"$initial_person_info\",Pi=\"$epp\",Ri=\"__POSTHOG_TOOLBAR__\",Ii=\"$posthog_cookieless\",Ti=[Bt,Ht,\"__cmpns\",Wt,ii,Vt,ui,ci,Kt,wi,fi,pi,_i,gi,mi,bi,Si,ki,$i,xi,Pi,Ei];function Ci(t){return t instanceof Element&&(t.id===Ri||!(null==t.closest||!t.closest(\".toolbar-global-fade-container\")))}function Mi(t){return!!t&&1===t.nodeType}function Oi(t,i){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===i.toLowerCase()}function Fi(t){return!!t&&3===t.nodeType}function Ai(t){return!!t&&11===t.nodeType}function Di(t){return t?b(t).split(/\\s+/):[]}function ji(i){var e=null==t?void 0:t.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Li(t){var i=\"\";switch(typeof t.className){case\"string\":i=t.className;break;case\"object\":i=(t.className&&\"baseVal\"in t.className?t.className.baseVal:null)||t.getAttribute(\"class\")||\"\";break;default:i=\"\"}return Di(i)}function Ni(t){return A(t)?null:b(t).split(/(\\s+)/).filter((t=>re(t))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Ui(t){var i=\"\";return Ki(t)&&!Yi(t)&&t.childNodes&&t.childNodes.length&&Ct(t.childNodes,(function(t){var e;Fi(t)&&t.textContent&&(i+=null!==(e=Ni(t.textContent))&&void 0!==e?e:\"\")})),b(i)}function zi(t){return C(t.target)?t.srcElement||null:null!=(i=t.target)&&i.shadowRoot?t.composedPath()[0]||null:t.target||null;var i}var qi=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Bi(t,i){if(C(i))return!0;var e,r=function(t){if(i.some((i=>t.matches(i))))return{v:!0}};for(var s of t)if(e=r(s))return e.v;return!1}function Hi(t){var i=t.parentNode;return!(!i||!Mi(i))&&i}var Wi=[\".ph-no-rageclick\",\".ph-no-capture\"];var Gi=t=>!t||Oi(t,\"html\")||!Mi(t),Vi=(i,e)=>{if(!t||Gi(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,s=[i],n=i;n.parentNode&&!Oi(n,\"body\");)if(Ai(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var o=Hi(n);if(!o)break;if(e||qi.indexOf(o.tagName.toLowerCase())>-1)r=!0;else{var a=t.getComputedStyle(o);a&&\"pointer\"===a.getPropertyValue(\"cursor\")&&(r=!0)}s.push(o),n=o}return{parentIsUsefulElement:r,targetElementList:s}};function Ji(i,e,r,s,n){var o,a,l,u;if(void 0===r&&(r=void 0),!t||Gi(i))return!1;if(null!=(o=r)&&o.url_allowlist&&!ji(r.url_allowlist))return!1;if(null!=(a=r)&&a.url_ignorelist&&ji(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((t=>e.type===t)))return!1}var{parentIsUsefulElement:d,targetElementList:v}=Vi(i,s);if(!function(t,i){var e=null==i?void 0:i.element_allowlist;if(C(e))return!0;var r,s=function(t){if(e.some((i=>t.tagName.toLowerCase()===i)))return{v:!0}};for(var n of t)if(r=s(n))return r.v;return!1}(v,r))return!1;if(!Bi(v,null==(u=r)?void 0:u.css_selector_allowlist))return!1;var c=t.getComputedStyle(i);if(c&&\"pointer\"===c.getPropertyValue(\"cursor\")&&\"click\"===e.type)return!0;var f=i.tagName.toLowerCase();switch(f){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(e.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(e.type)>=0;default:return d?(n||[\"click\"]).indexOf(e.type)>=0:(n||[\"click\"]).indexOf(e.type)>=0&&(qi.indexOf(f)>-1||\"true\"===i.getAttribute(\"contenteditable\"))}}function Ki(t){for(var i=t;i.parentNode&&!Oi(i,\"body\");i=i.parentNode){var e=Li(i);if(y(e,\"ph-sensitive\")||y(e,\"ph-no-capture\"))return!1}if(y(Li(t),\"ph-include\"))return!0;var r=t.type||\"\";if(M(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=t.name||t.id||\"\";if(M(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Yi(t){return!!(Oi(t,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(t.type)||Oi(t,\"select\")||Oi(t,\"textarea\")||\"true\"===t.getAttribute(\"contenteditable\"))}var Xi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",Qi=new RegExp(\"^(?:\"+Xi+\")$\"),Zi=new RegExp(Xi),te=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",ie=new RegExp(\"^(\"+te+\")$\"),ee=new RegExp(\"(\"+te+\")\");function re(t,i){if(void 0===i&&(i=!0),A(t))return!1;if(M(t)){if(t=b(t),(i?Qi:Zi).test((t||\"\").replace(/[- ]/g,\"\")))return!1;if((i?ie:ee).test(t))return!1}return!0}function se(t){var i=Ui(t);return re(i=(i+\" \"+ne(t)).trim())?i:\"\"}function ne(t){var i=\"\";return t&&t.childNodes&&t.childNodes.length&&Ct(t.childNodes,(function(t){var e;if(t&&\"span\"===(null==(e=t.tagName)?void 0:e.toLowerCase()))try{var r=Ui(t);i=(i+\" \"+r).trim(),t.childNodes&&t.childNodes.length&&(i=(i+\" \"+ne(t)).trim())}catch(t){xt.error(\"[AutoCapture]\",t)}})),i}function oe(t){return function(t){var i=t.map((t=>{var i,e,r=\"\";if(t.tag_name&&(r+=t.tag_name),t.attr_class)for(var s of(t.attr_class.sort(),t.attr_class))r+=\".\"+s.replace(/\"/g,\"\");var n=g({},t.text?{text:t.text}:{},{\"nth-child\":null!==(i=t.nth_child)&&void 0!==i?i:0,\"nth-of-type\":null!==(e=t.nth_of_type)&&void 0!==e?e:0},t.href?{href:t.href}:{},t.attr_id?{attr_id:t.attr_id}:{},t.attributes),o={};return Ft(n).sort(((t,i)=>{var[e]=t,[r]=i;return e.localeCompare(r)})).forEach((t=>{var[i,e]=t;return o[ae(i.toString())]=ae(e.toString())})),r+=\":\",r+=Ft(o).map((t=>{var[i,e]=t;return i+'=\"'+e+'\"'})).join(\"\")}));return i.join(\";\")}(function(t){return t.map((t=>{var i,e,r={text:null==(i=t.$el_text)?void 0:i.slice(0,400),tag_name:t.tag_name,href:null==(e=t.attr__href)?void 0:e.slice(0,2048),attr_class:le(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Ft(t).filter((t=>{var[i]=t;return 0===i.indexOf(\"attr__\")})).forEach((t=>{var[i,e]=t;return r.attributes[i]=e})),r}))}(t))}function ae(t){return t.replace(/\"|\\\\\"/g,'\\\\\"')}function le(t){var i=t.attr__class;return i?P(i)?i:Di(i):void 0}class ue{constructor(){this.clicks=[]}isRageClick(t,i,e){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(t-r.x)+Math.abs(i-r.y)<30&&e-r.timestamp<1e3){if(this.clicks.push({x:t,y:i,timestamp:e}),3===this.clicks.length)return!0}else this.clicks=[{x:t,y:i,timestamp:e}];return!1}}var he=\"$copy_autocapture\",de=function(t){return t.GZipJS=\"gzip-js\",t.Base64=\"base64\",t}({}),ve=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],ce=[\"localhost\",\"127.0.0.1\"],fe=t=>{var i=null==o?void 0:o.createElement(\"a\");return C(i)?null:(i.href=t,i)},pe=function(t,i){var e,r;void 0===i&&(i=\"&\");var s=[];return Ct(t,(function(t,i){C(t)||C(i)||\"undefined\"===i||(e=encodeURIComponent((t=>t instanceof File)(t)?t.name:t.toString()),r=encodeURIComponent(i),s[s.length]=r+\"=\"+e)})),s.join(i)},ge=function(t,i){for(var e,r=((t.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===i){e=n;break}}if(!P(e)||e.length<2)return\"\";var o=e[1];try{o=decodeURIComponent(o)}catch(t){xt.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},_e=function(t,i,e){if(!t||!i||!i.length)return t;for(var r=t.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),h=[],d=0;d<u.length;d++){var v=u[d].split(\"=\");P(v)&&(i.includes(v[0])?h.push(v[0]+\"=\"+e):h.push(u[d]))}var c=l;return null!=a&&(c+=\"?\"+h.join(\"&\")),null!=n&&(c+=\"#\"+n),c},me=function(t,i){var e=t.match(new RegExp(i+\"=([^&]*)\"));return e?e[1]:null},ye=Et(\"[AutoCapture]\");function be(t,i){return i.length>t?i.slice(0,t)+\"...\":i}function we(t){if(t.previousElementSibling)return t.previousElementSibling;var i=t;do{i=i.previousSibling}while(i&&!Mi(i));return i}function Se(t,i,e,r){var s=t.tagName.toLowerCase(),n={tag_name:s};qi.indexOf(s)>-1&&!e&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=be(1024,se(t)):n.$el_text=be(1024,Ui(t)));var o=Li(t);o.length>0&&(n.classes=o.filter((function(t){return\"\"!==t}))),Ct(t.attributes,(function(e){var s;if((!Yi(t)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(e.name))&&((null==r||!r.includes(e.name))&&!i&&re(e.value)&&(s=e.name,!M(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=e.value;\"class\"===e.name&&(o=Di(o).join(\" \")),n[\"attr__\"+e.name]=be(1024,o)}}));for(var a=1,l=1,u=t;u=we(u);)a++,u.tagName===t.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function ke(i,e){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=e,h=[i],d=i;d.parentNode&&!Oi(d,\"body\");)Ai(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var v,c=[],f={},p=!1,g=!1;if(Ct(h,(t=>{var i=Ki(t);\"a\"===t.tagName.toLowerCase()&&(p=t.getAttribute(\"href\"),p=i&&p&&re(p)&&p),y(Li(t),\"ph-no-capture\")&&(g=!0),c.push(Se(t,o,a,l));var e=function(t){if(!Ki(t))return{};var i={};return Ct(t.attributes,(function(t){if(t.name&&0===t.name.indexOf(\"data-ph-capture-attribute\")){var e=t.name.replace(\"data-ph-capture-attribute-\",\"\"),r=t.value;e&&r&&re(r)&&(i[e]=r)}})),i}(t);Mt(f,e)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===i.tagName.toLowerCase()||\"button\"===i.tagName.toLowerCase()?c[0].$el_text=se(i):c[0].$el_text=Ui(i)),p){var _,m;c[0].attr__href=p;var b=null==(_=fe(p))?void 0:_.host,w=null==t||null==(m=t.location)?void 0:m.host;b&&w&&b!==w&&(v=p)}return{props:Mt({$event_type:n.type,$ce_version:1},u?{}:{$elements:c},{$elements_chain:oe(c)},null!=(r=c[0])&&r.$el_text?{$el_text:null==(s=c[0])?void 0:s.$el_text}:{},v&&\"click\"===n.type?{$external_click_url:v}:{},f)}}class $e{constructor(t){this.C=!1,this.M=null,this.rageclicks=new ue,this.O=!1,this.instance=t,this.F=null}get A(){var t,i,e=I(this.instance.config.autocapture)?this.instance.config.autocapture:{};return e.url_allowlist=null==(t=e.url_allowlist)?void 0:t.map((t=>new RegExp(t))),e.url_ignorelist=null==(i=e.url_ignorelist)?void 0:i.map((t=>new RegExp(t))),e}D(){if(this.isBrowserSupported()){if(t&&o){var i=i=>{i=i||(null==t?void 0:t.event);try{this.j(i)}catch(t){ye.error(\"Failed to capture event\",t)}};if(qt(o,\"submit\",i,{capture:!0}),qt(o,\"change\",i,{capture:!0}),qt(o,\"click\",i,{capture:!0}),this.A.capture_copied_text){var e=i=>{i=i||(null==t?void 0:t.event),this.j(i,he)};qt(o,\"copy\",e,{capture:!0}),qt(o,\"cut\",e,{capture:!0})}}}else ye.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.O=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Gt]:!!t.autocapture_opt_out}),this.M=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.F=t}getElementSelectors(t){var i,e=[];return null==(i=this.F)||i.forEach((i=>{var r=null==o?void 0:o.querySelectorAll(i);null==r||r.forEach((r=>{t===r&&e.push(i)}))})),e}get isEnabled(){var t,i,e=null==(t=this.instance.persistence)?void 0:t.props[Gt],r=this.M;if(F(r)&&!j(e)&&!this.instance.L())return!1;var s=null!==(i=this.M)&&void 0!==i?i:!!e;return!!this.instance.config.autocapture&&!s}j(i,e){if(void 0===e&&(e=\"$autocapture\"),this.isEnabled){var r,s=zi(i);if(Fi(s)&&(s=s.parentNode||null),\"$autocapture\"===e&&\"click\"===i.type&&i instanceof MouseEvent)this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(i.clientX,i.clientY,(new Date).getTime())&&function(i,e){if(!t||Gi(i))return!1;var r,s;if(!1===(r=j(e)?!!e&&Wi:null!==(s=null==e?void 0:e.css_selector_ignorelist)&&void 0!==s?s:Wi))return!1;var{targetElementList:n}=Vi(i,!1);return!Bi(n,r)}(s,this.instance.config.rageclick)&&this.j(i,\"$rageclick\");var n=e===he;if(s&&Ji(s,i,this.A,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=ke(s,{e:i,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.O});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),e===he){var u,h=Ni(null==t||null==(u=t.getSelection())?void 0:u.toString()),d=i.type||\"clipboard\";if(!h)return!1;o.$selected_content=h,o.$copy_type=d}return this.instance.capture(e,o),!0}}}isBrowserSupported(){return R(null==o?void 0:o.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return D(t)&&isFinite(t)&&Math.floor(t)===t});var xe=\"0123456789abcdef\";class Ee{constructor(t){if(this.bytes=t,16!==t.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(t,i,e,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(e)||!Number.isInteger(r)||t<0||i<0||e<0||r<0||t>0xffffffffffff||i>4095||e>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|e>>>24,s[9]=e>>>16,s[10]=e>>>8,s[11]=e,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new Ee(s)}toString(){for(var t=\"\",i=0;i<this.bytes.length;i++)t=t+xe.charAt(this.bytes[i]>>>4)+xe.charAt(15&this.bytes[i]),3!==i&&5!==i&&7!==i&&9!==i||(t+=\"-\");if(36!==t.length)throw new Error(\"Invalid UUIDv7 was generated\");return t}clone(){return new Ee(this.bytes.slice(0))}equals(t){return 0===this.compareTo(t)}compareTo(t){for(var i=0;i<16;i++){var e=this.bytes[i]-t.bytes[i];if(0!==e)return Math.sign(e)}return 0}}class Pe{constructor(){this.N=0,this.U=0,this.q=new Te}generate(){var t=this.generateOrAbort();if(C(t)){this.N=0;var i=this.generateOrAbort();if(C(i))throw new Error(\"Could not generate UUID after timestamp reset\");return i}return t}generateOrAbort(){var t=Date.now();if(t>this.N)this.N=t,this.B();else{if(!(t+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return Ee.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}}var Re,Ie=t=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var i=0;i<t.length;i++)t[i]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};t&&!C(t.crypto)&&crypto.getRandomValues&&(Ie=t=>crypto.getRandomValues(t));class Te{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(Ie(this.H),this.W=0),this.H[this.W++]}}var Ce=()=>Me().toString(),Me=()=>(Re||(Re=new Pe)).generate(),Oe=\"\";var Fe=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function Ae(t,i){if(i){var e=function(t,i){if(void 0===i&&(i=o),Oe)return Oe;if(!i)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(t))return\"\";for(var e=t.split(\".\"),r=Math.min(e.length,8),s=\"dmn_chk_\"+Ce();!Oe&&r--;){var n=e.slice(r).join(\".\"),a=s+\"=1;domain=.\"+n+\";path=/\";i.cookie=a+\";max-age=3\",i.cookie.includes(s)&&(i.cookie=a+\";max-age=0\",Oe=n)}return Oe}(t);if(!e){var r=(t=>{var i=t.match(Fe);return i?i[0]:\"\"})(t);r!==e&&xt.info(\"Warning: cookie subdomain discovery mismatch\",r,e),e=r}return e?\"; domain=.\"+e:\"\"}return\"\"}var De={G:()=>!!o,V:function(t){xt.error(\"cookieStore error: \"+t)},J:function(t){if(o){try{for(var i=t+\"=\",e=o.cookie.split(\";\").filter((t=>t.length)),r=0;r<e.length;r++){for(var s=e[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}}catch(t){}return null}},K:function(t){var i;try{i=JSON.parse(De.J(t))||{}}catch(t){}return i},Y:function(t,i,e,r,s){if(o)try{var n=\"\",a=\"\",l=Ae(o.location.hostname,r);if(e){var u=new Date;u.setTime(u.getTime()+24*e*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(a=\"; secure\");var h=t+\"=\"+encodeURIComponent(JSON.stringify(i))+n+\"; SameSite=Lax; path=/\"+l+a;return h.length>3686.4&&xt.warn(\"cookieStore warning: large cookie, len=\"+h.length),o.cookie=h,h}catch(t){return}},X:function(t,i){if(null!=o&&o.cookie)try{De.Y(t,\"\",-1,i)}catch(t){return}}},je=null,Le={G:function(){if(!F(je))return je;var i=!0;if(C(t))i=!1;else try{var e=\"__mplssupport__\";Le.Y(e,\"xyz\"),'\"xyz\"'!==Le.J(e)&&(i=!1),Le.X(e)}catch(t){i=!1}return i||xt.error(\"localStorage unsupported; falling back to cookie store\"),je=i,i},V:function(t){xt.error(\"localStorage error: \"+t)},J:function(i){try{return null==t?void 0:t.localStorage.getItem(i)}catch(t){Le.V(t)}return null},K:function(t){try{return JSON.parse(Le.J(t))||{}}catch(t){}return null},Y:function(i,e){try{null==t||t.localStorage.setItem(i,JSON.stringify(e))}catch(t){Le.V(t)}},X:function(i){try{null==t||t.localStorage.removeItem(i)}catch(t){Le.V(t)}}},Ne=[\"distinct_id\",ui,hi,Pi,Ei],Ue=g({},Le,{K:function(t){try{var i={};try{i=De.K(t)||{}}catch(t){}var e=Mt(i,JSON.parse(Le.J(t)||\"{}\"));return Le.Y(t,e),e}catch(t){}return null},Y:function(t,i,e,r,s,n){try{Le.Y(t,i,void 0,void 0,n);var o={};Ne.forEach((t=>{i[t]&&(o[t]=i[t])})),Object.keys(o).length&&De.Y(t,o,e,r,s,n)}catch(t){Le.V(t)}},X:function(i,e){try{null==t||t.localStorage.removeItem(i),De.X(i,e)}catch(t){Le.V(t)}}}),ze={},qe={G:function(){return!0},V:function(t){xt.error(\"memoryStorage error: \"+t)},J:function(t){return ze[t]||null},K:function(t){return ze[t]||null},Y:function(t,i){ze[t]=i},X:function(t){delete ze[t]}},Be=null,He={G:function(){if(!F(Be))return Be;if(Be=!0,C(t))Be=!1;else try{var i=\"__support__\";He.Y(i,\"xyz\"),'\"xyz\"'!==He.J(i)&&(Be=!1),He.X(i)}catch(t){Be=!1}return Be},V:function(t){xt.error(\"sessionStorage error: \",t)},J:function(i){try{return null==t?void 0:t.sessionStorage.getItem(i)}catch(t){He.V(t)}return null},K:function(t){try{return JSON.parse(He.J(t))||null}catch(t){}return null},Y:function(i,e){try{null==t||t.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){He.V(t)}},X:function(i){try{null==t||t.sessionStorage.removeItem(i)}catch(t){He.V(t)}}},We=function(t){return t[t.PENDING=-1]=\"PENDING\",t[t.DENIED=0]=\"DENIED\",t[t.GRANTED=1]=\"GRANTED\",t}({});class Ge{constructor(t){this._instance=t}get A(){return this._instance.config}get consent(){return this.Z()?We.DENIED:this.tt}isOptedOut(){return\"always\"===this.A.cookieless_mode||(this.consent===We.DENIED||this.consent===We.PENDING&&(this.A.opt_out_capturing_by_default||\"on_reject\"===this.A.cookieless_mode))}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===We.DENIED}optInOut(t){this.it.Y(this.et,t?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:t,opt_out_capturing_cookie_prefix:i,consent_persistence_name:e}=this._instance.config;return e||(i?i+t:\"__ph_opt_in_out_\"+t)}get tt(){var t=this.it.J(this.et);return H(t)?We.GRANTED:y(W,t)?We.DENIED:We.PENDING}get it(){if(!this.rt){var t=this.A.opt_out_capturing_persistence_type;this.rt=\"localStorage\"===t?Le:De;var i=\"localStorage\"===t?De:Le;i.J(this.et)&&(this.rt.J(this.et)||this.optInOut(H(i.J(this.et))),i.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!zt([null==n?void 0:n.doNotTrack,null==n?void 0:n.msDoNotTrack,v.doNotTrack],(t=>H(t)))}}var Ve=Et(\"[Dead Clicks]\"),Je=()=>!0,Ke=t=>{var i,e=!(null==(i=t.instance.persistence)||!i.get_property(Qt)),r=t.instance.config.capture_dead_clicks;return j(r)?r:e};class Ye{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(t,i,e){this.instance=t,this.isEnabled=i,this.onCapture=e,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[Qt]:null==t?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt((()=>{this.ot()}))}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.initDeadClicksAutocapture&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this.instance,\"dead-clicks-autocapture\",(i=>{i?Ve.error(\"failed to load script\",i):t()}))}ot(){var t;if(o){if(!this.st&&null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture){var i=I(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.st=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.st.start(o),Ve.info(\"starting...\")}}else Ve.error(\"`document` not found. Cannot start.\")}stop(){this.st&&(this.st.stop(),this.st=void 0,Ve.info(\"stopping...\"))}}var Xe=Et(\"[ExceptionAutocapture]\");class Qe{constructor(i){var e,r,s;this.lt=()=>{var i;if(t&&this.isEnabled&&null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions){var e=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=e(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=r(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=s(this.captureException.bind(this)))}catch(t){Xe.error(\"failed to start\",t),this.vt()}}},this._instance=i,this.ct=!(null==(e=this._instance.persistence)||!e.props[Jt]),this.A=this.ft(),this.gt=new V({refillRate:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==r?r:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,P:Xe}),this.startIfEnabled()}ft(){var t=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return I(t)?i=g({},i,t):(C(t)?this.ct:t)&&(i=g({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Xe.info(\"enabled\"),this.nt(this.lt))}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"exception-autocapture\",(i=>{if(i)return Xe.error(\"failed to load script\",i);t()}))}vt(){var t,i,e;null==(t=this.ut)||t.call(this),this.ut=void 0,null==(i=this.ht)||i.call(this),this.ht=void 0,null==(e=this.dt)||e.call(this),this.dt=void 0}onRemoteConfig(t){var i=t.autocaptureExceptions;this.ct=!!i||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Jt]:this.ct}),this.startIfEnabled()}captureException(t){var i,e,r=null!==(i=null==t||null==(e=t.$exception_list)||null==(e=e[0])?void 0:e.type)&&void 0!==i?i:\"Exception\";this.gt.consumeRateLimit(r)?Xe.info(\"Skipping exception capture because of client rate limiting.\",{exception:r}):this._instance.exceptions.sendExceptionEvent(t)}}function Ze(t,i,e){try{if(!(i in t))return()=>{};var r=t[i],s=e(r);return R(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[i]=s,()=>{t[i]=r}}catch(t){return()=>{}}}class tr{constructor(i){var e;this._instance=i,this._t=(null==t||null==(e=t.location)?void 0:e.pathname)||\"\"}get isEnabled(){return\"history_change\"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(xt.info(\"History API monitoring enabled, starting...\"),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,xt.info(\"History API monitoring stopped\")}monitorHistoryChanges(){var i,e;if(t&&t.history){var r=this;null!=(i=t.history.pushState)&&i.__posthog_wrapped__||Ze(t.history,\"pushState\",(t=>function(i,e,s){t.call(this,i,e,s),r.bt(\"pushState\")})),null!=(e=t.history.replaceState)&&e.__posthog_wrapped__||Ze(t.history,\"replaceState\",(t=>function(i,e,s){t.call(this,i,e,s),r.bt(\"replaceState\")})),this.wt()}}bt(i){try{var e,r=null==t||null==(e=t.location)?void 0:e.pathname;if(!r)return;r!==this._t&&this.isEnabled&&this._instance.capture(\"$pageview\",{navigation_type:i}),this._t=r}catch(t){xt.error(\"Error capturing \"+i+\" pageview\",t)}}wt(){if(!this.yt){var i=()=>{this.bt(\"popstate\")};qt(t,\"popstate\",i),this.yt=()=>{t&&t.removeEventListener(\"popstate\",i)}}}}function ir(t){var i,e;return(null==(i=JSON.stringify(t,(e=[],function(t,i){if(I(i)){for(;e.length>0&&e[e.length-1]!==this;)e.pop();return e.includes(i)?\"[Circular]\":(e.push(i),i)}return i})))?void 0:i.length)||0}function er(t,i){if(void 0===i&&(i=6606028.8),t.size>=i&&t.data.length>1){var e=Math.floor(t.data.length/2),r=t.data.slice(0,e),s=t.data.slice(e);return[er({size:ir(r),data:r,sessionId:t.sessionId,windowId:t.windowId}),er({size:ir(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap((t=>t))}return[t]}var rr=(t=>(t[t.DomContentLoaded=0]=\"DomContentLoaded\",t[t.Load=1]=\"Load\",t[t.FullSnapshot=2]=\"FullSnapshot\",t[t.IncrementalSnapshot=3]=\"IncrementalSnapshot\",t[t.Meta=4]=\"Meta\",t[t.Custom=5]=\"Custom\",t[t.Plugin=6]=\"Plugin\",t))(rr||{}),sr=(t=>(t[t.Mutation=0]=\"Mutation\",t[t.MouseMove=1]=\"MouseMove\",t[t.MouseInteraction=2]=\"MouseInteraction\",t[t.Scroll=3]=\"Scroll\",t[t.ViewportResize=4]=\"ViewportResize\",t[t.Input=5]=\"Input\",t[t.TouchMove=6]=\"TouchMove\",t[t.MediaInteraction=7]=\"MediaInteraction\",t[t.StyleSheetRule=8]=\"StyleSheetRule\",t[t.CanvasMutation=9]=\"CanvasMutation\",t[t.Font=10]=\"Font\",t[t.Log=11]=\"Log\",t[t.Drag=12]=\"Drag\",t[t.StyleDeclaration=13]=\"StyleDeclaration\",t[t.Selection=14]=\"Selection\",t[t.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",t[t.CustomElement=16]=\"CustomElement\",t))(sr||{}),nr=\"[SessionRecording]\",or=\"redacted\",ar={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\",\"bam.nr-data.net\"]},lr=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],ur=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],hr=[\"/s/\",\"/e/\",\"/i/\"];function dr(t,i,e,r){if(A(t))return t;var s=(null==i?void 0:i[\"content-length\"])||function(t){return new Blob([t]).size}(t);return M(s)&&(s=parseInt(s)),s>e?nr+\" \"+r+\" body too large to record (\"+s+\" bytes)\":t}function vr(t,i){if(A(t))return t;var e=t;return re(e,!1)||(e=nr+\" \"+i+\" body \"+or),Ct(ur,(t=>{var r,s;null!=(r=e)&&r.length&&-1!==(null==(s=e)?void 0:s.indexOf(t))&&(e=nr+\" \"+i+\" body \"+or+\" as might contain: \"+t)})),e}var cr=(t,i)=>{var e,r,s,n={payloadSizeLimitBytes:ar.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ar.performanceEntryTypeToObserve],payloadHostDenyList:[...i.payloadHostDenyList||[],...ar.payloadHostDenyList]},o=!1!==t.session_recording.recordHeaders&&i.recordHeaders,a=!1!==t.session_recording.recordBody&&i.recordBody,l=!1!==t.capture_performance&&i.recordPerformance,u=(e=n,s=Math.min(1e6,null!==(r=e.payloadSizeLimitBytes)&&void 0!==r?r:1e6),t=>(null!=t&&t.requestBody&&(t.requestBody=dr(t.requestBody,t.requestHeaders,s,\"Request\")),null!=t&&t.responseBody&&(t.responseBody=dr(t.responseBody,t.responseHeaders,s,\"Response\")),t)),h=i=>{return u(((t,i)=>{var e,r=fe(t.name),s=0===i.indexOf(\"http\")?null==(e=fe(i))?void 0:e.pathname:i;\"/\"===s&&(s=\"\");var n=null==r?void 0:r.pathname.replace(s||\"\",\"\");if(!(r&&n&&hr.some((t=>0===n.indexOf(t)))))return t})((r=(e=i).requestHeaders,A(r)||Ct(Object.keys(null!=r?r:{}),(t=>{lr.includes(t.toLowerCase())&&(r[t]=or)})),e),t.api_host));var e,r},d=R(t.session_recording.maskNetworkRequestFn);return d&&R(t.session_recording.maskCapturedNetworkRequestFn)&&xt.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(t.session_recording.maskCapturedNetworkRequestFn=i=>{var e=t.session_recording.maskNetworkRequestFn({url:i.name});return g({},i,{name:null==e?void 0:e.url})}),n.maskRequestFn=R(t.session_recording.maskCapturedNetworkRequestFn)?i=>{var e,r=h(i);return r&&null!==(e=null==t.session_recording.maskCapturedNetworkRequestFn?void 0:t.session_recording.maskCapturedNetworkRequestFn(r))&&void 0!==e?e:void 0}:t=>function(t){if(!C(t))return t.requestBody=vr(t.requestBody,\"Request\"),t.responseBody=vr(t.responseBody,\"Response\"),t}(h(t)),g({},ar,n,{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};class fr{constructor(t,i){var e,r;void 0===i&&(i={}),this.St={},this.kt=t=>{if(!this.St[t]){var i,e;this.St[t]=!0;var r=this.$t(t);null==(i=(e=this.t).onBlockedNode)||i.call(e,t,r)}},this.xt=t=>{var i=this.$t(t);if(\"svg\"!==(null==i?void 0:i.nodeName)&&i instanceof Element){var e=i.closest(\"svg\");if(e)return[this._rrweb.mirror.getId(e),e]}return[t,i]},this.$t=t=>this._rrweb.mirror.getNode(t),this.Et=t=>{var i,e,r,s,n,o,a,l;return(null!==(i=null==(e=t.removes)?void 0:e.length)&&void 0!==i?i:0)+(null!==(r=null==(s=t.attributes)?void 0:s.length)&&void 0!==r?r:0)+(null!==(n=null==(o=t.texts)?void 0:o.length)&&void 0!==n?n:0)+(null!==(a=null==(l=t.adds)?void 0:l.length)&&void 0!==a?a:0)},this.throttleMutations=t=>{if(3!==t.type||0!==t.data.source)return t;var i=t.data,e=this.Et(i);i.attributes&&(i.attributes=i.attributes.filter((t=>{var[i]=this.xt(t.id);return!this.gt.consumeRateLimit(i)&&t})));var r=this.Et(i);return 0!==r||e===r?t:void 0},this._rrweb=t,this.t=i,this.gt=new V({bucketSize:null!==(e=this.t.bucketSize)&&void 0!==e?e:100,refillRate:null!==(r=this.t.refillRate)&&void 0!==r?r:10,refillInterval:1e3,$:this.kt,P:xt})}}var pr=Uint8Array,gr=Uint16Array,_r=Uint32Array,mr=new pr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yr=new pr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),br=new pr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wr=function(t,i){for(var e=new gr(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];var s=new _r(e[30]);for(r=1;r<30;++r)for(var n=e[r];n<e[r+1];++n)s[n]=n-e[r]<<5|r;return[e,s]},Sr=wr(mr,2),kr=Sr[0],$r=Sr[1];kr[28]=258,$r[258]=28;for(var xr=wr(yr,0)[1],Er=new gr(32768),Pr=0;Pr<32768;++Pr){var Rr=(43690&Pr)>>>1|(21845&Pr)<<1;Rr=(61680&(Rr=(52428&Rr)>>>2|(13107&Rr)<<2))>>>4|(3855&Rr)<<4,Er[Pr]=((65280&Rr)>>>8|(255&Rr)<<8)>>>1}var Ir=function(t,i,e){for(var r=t.length,s=0,n=new gr(i);s<r;++s)++n[t[s]-1];var o,a=new gr(i);for(s=0;s<i;++s)a[s]=a[s-1]+n[s-1]<<1;if(e){o=new gr(1<<i);var l=15-i;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],h=i-t[s],d=a[t[s]-1]++<<h,v=d|(1<<h)-1;d<=v;++d)o[Er[d]>>>l]=u}else for(o=new gr(r),s=0;s<r;++s)o[s]=Er[a[t[s]-1]++]>>>15-t[s];return o},Tr=new pr(288);for(Pr=0;Pr<144;++Pr)Tr[Pr]=8;for(Pr=144;Pr<256;++Pr)Tr[Pr]=9;for(Pr=256;Pr<280;++Pr)Tr[Pr]=7;for(Pr=280;Pr<288;++Pr)Tr[Pr]=8;var Cr=new pr(32);for(Pr=0;Pr<32;++Pr)Cr[Pr]=5;var Mr=Ir(Tr,9,0),Or=Ir(Cr,5,0),Fr=function(t){return(t/8>>0)+(7&t&&1)},Ar=function(t,i,e){(null==e||e>t.length)&&(e=t.length);var r=new(t instanceof gr?gr:t instanceof _r?_r:pr)(e-i);return r.set(t.subarray(i,e)),r},Dr=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8},jr=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},Lr=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,n=e.slice();if(!s)return[new pr(0),0];if(1==s){var o=new pr(e[0].s+1);return o[e[0].s]=1,[o,1]}e.sort((function(t,i){return t.f-i.f})),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=e[e[u].f<e[d].f?u++:d++],l=e[u!=h&&e[u].f<e[d].f?u++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};var v=n[0].s;for(r=1;r<s;++r)n[r].s>v&&(v=n[r].s);var c=new gr(v+1),f=Nr(e[h-1],c,0);if(f>i){r=0;var p=0,g=f-i,_=1<<g;for(n.sort((function(t,i){return c[i.s]-c[t.s]||t.f-i.f}));r<s;++r){var m=n[r].s;if(!(c[m]>i))break;p+=_-(1<<f-c[m]),c[m]=i}for(p>>>=g;p>0;){var y=n[r].s;c[y]<i?p-=1<<i-c[y]++-1:++r}for(;r>=0&&p;--r){var b=n[r].s;c[b]==i&&(--c[b],++p)}f=i}return[new pr(c),f]},Nr=function(t,i,e){return-1==t.s?Math.max(Nr(t.l,i,e+1),Nr(t.r,i,e+1)):i[t.s]=e},Ur=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new gr(++i),r=0,s=t[0],n=1,o=function(t){e[r++]=t},a=1;a<=i;++a)if(t[a]==s&&a!=i)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=t[a]}return[e.subarray(0,r),i]},zr=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},qr=function(t,i,e){var r=e.length,s=Fr(i+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var n=0;n<r;++n)t[s+n+4]=e[n];return 8*(s+4+r)},Br=function(t,i,e,r,s,n,o,a,l,u,h){Dr(i,h++,e),++s[256];for(var d=Lr(s,15),v=d[0],c=d[1],f=Lr(n,15),p=f[0],g=f[1],_=Ur(v),m=_[0],y=_[1],b=Ur(p),w=b[0],S=b[1],k=new gr(19),x=0;x<m.length;++x)k[31&m[x]]++;for(x=0;x<w.length;++x)k[31&w[x]]++;for(var E=Lr(k,7),P=E[0],R=E[1],I=19;I>4&&!P[br[I-1]];--I);var T,C,M,O,F=u+5<<3,A=zr(s,Tr)+zr(n,Cr)+o,D=zr(s,v)+zr(n,p)+o+14+3*I+zr(k,P)+(2*k[16]+3*k[17]+7*k[18]);if(F<=A&&F<=D)return qr(i,h,t.subarray(l,l+u));if(Dr(i,h,1+(D<A)),h+=2,D<A){T=Ir(v,c,0),C=v,M=Ir(p,g,0),O=p;var j=Ir(P,R,0);Dr(i,h,y-257),Dr(i,h+5,S-1),Dr(i,h+10,I-4),h+=14;for(x=0;x<I;++x)Dr(i,h+3*x,P[br[x]]);h+=3*I;for(var L=[m,w],N=0;N<2;++N){var U=L[N];for(x=0;x<U.length;++x){var z=31&U[x];Dr(i,h,j[z]),h+=P[z],z>15&&(Dr(i,h,U[x]>>>5&127),h+=U[x]>>>12)}}}else T=Mr,C=Tr,M=Or,O=Cr;for(x=0;x<a;++x)if(r[x]>255){z=r[x]>>>18&31;jr(i,h,T[z+257]),h+=C[z+257],z>7&&(Dr(i,h,r[x]>>>23&31),h+=mr[z]);var q=31&r[x];jr(i,h,M[q]),h+=O[q],q>3&&(jr(i,h,r[x]>>>5&8191),h+=yr[q])}else jr(i,h,T[r[x]]),h+=C[r[x]];return jr(i,h,T[256]),h+C[256]},Hr=new _r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Wr=function(){for(var t=new _r(256),i=0;i<256;++i){for(var e=i,r=9;--r;)e=(1&e&&3988292384)^e>>>1;t[i]=e}return t}(),Gr=function(){var t=4294967295;return{p:function(i){for(var e=t,r=0;r<i.length;++r)e=Wr[255&e^i[r]]^e>>>8;t=e},d:function(){return 4294967295^t}}},Vr=function(t,i,e,r,s){return function(t,i,e,r,s,n){var o=t.length,a=new pr(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!i||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?u=qr(l,u,t.subarray(h,d)):(l[h]=n,u=qr(l,u,t.subarray(h,o)))}else{for(var v=Hr[i-1],c=v>>>13,f=8191&v,p=(1<<e)-1,g=new gr(32768),_=new gr(p+1),m=Math.ceil(e/3),y=2*m,b=function(i){return(t[i]^t[i+1]<<m^t[i+2]<<y)&p},w=new _r(25e3),S=new gr(288),k=new gr(32),x=0,E=0,P=(h=0,0),R=0,I=0;h<o;++h){var T=b(h),C=32767&h,M=_[T];if(g[C]=M,_[T]=C,R<=h){var O=o-h;if((x>7e3||P>24576)&&O>423){u=Br(t,l,0,w,S,k,E,P,I,h-I,u),P=x=E=0,I=h;for(var F=0;F<286;++F)S[F]=0;for(F=0;F<30;++F)k[F]=0}var A=2,D=0,j=f,L=C-M&32767;if(O>2&&T==b(h-L))for(var N=Math.min(c,O)-1,U=Math.min(32767,h),z=Math.min(258,O);L<=U&&--j&&C!=M;){if(t[h+A]==t[h+A-L]){for(var q=0;q<z&&t[h+q]==t[h+q-L];++q);if(q>A){if(A=q,D=L,q>N)break;var B=Math.min(L,q-2),H=0;for(F=0;F<B;++F){var W=h-L+F+32768&32767,G=W-g[W]+32768&32767;G>H&&(H=G,M=W)}}}L+=(C=M)-(M=g[C])+32768&32767}if(D){w[P++]=268435456|$r[A]<<18|xr[D];var V=31&$r[A],J=31&xr[D];E+=mr[V]+yr[J],++S[257+V],++k[J],R=h+A,++x}else w[P++]=t[h],++S[t[h]]}}u=Br(t,l,n,w,S,k,E,P,I,h-I,u)}return Ar(a,0,r+Fr(u)+s)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,e,r,!0)},Jr=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8},Kr=function(t,i){var e=i.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=i.level<2?4:9==i.level?2:0,t[9]=3,0!=i.mtime&&Jr(t,4,Math.floor(new Date(i.mtime||Date.now())/1e3)),e){t[3]=8;for(var r=0;r<=e.length;++r)t[r+10]=e.charCodeAt(r)}},Yr=function(t){return 10+(t.filename&&t.filename.length+1||0)};function Xr(t,i){void 0===i&&(i={});var e=Gr(),r=t.length;e.p(t);var s=Vr(t,i,Yr(i),8),n=s.length;return Kr(s,i),Jr(s,n-8,e.d()),Jr(s,n-4,r),s}function Qr(t,i){var e=t.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var r=new pr(t.length+(t.length>>>1)),s=0,n=function(t){r[s++]=t},o=0;o<e;++o){if(s+5>r.length){var a=new pr(s+8+(e-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||i?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Ar(r,0,s)}function Zr(t,i){return function(t){for(var i=0,e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return Math.abs(i)}(t)%100<G(100*i,0,100,xt)}var ts=\"disabled\",is=\"sampled\",es=\"active\",rs=\"buffering\",ss=\"paused\",ns=\"trigger\",os=ns+\"_activated\",as=ns+\"_pending\",ls=ns+\"_\"+ts;function us(t,i){return i.some((i=>\"regex\"===i.matching&&new RegExp(i.url).test(t)))}class hs{constructor(t){this.Pt=t}triggerStatus(t){var i=this.Pt.map((i=>i.triggerStatus(t)));return i.includes(os)?os:i.includes(as)?as:ls}stop(){this.Pt.forEach((t=>t.stop()))}}class ds{constructor(t){this.Pt=t}triggerStatus(t){var i=new Set;for(var e of this.Pt)i.add(e.triggerStatus(t));switch(i.delete(ls),i.size){case 0:return ls;case 1:return Array.from(i)[0];default:return as}}stop(){this.Pt.forEach((t=>t.stop()))}}class vs{triggerStatus(){return as}stop(){}}var cs=t=>\"sessionRecording\"in t;class fs{constructor(t){this.Rt=[],this.It=[],this.urlBlocked=!1,this._instance=t}onConfig(t){var i,e;this.Rt=(cs(t)?null==(i=t.sessionRecording)?void 0:i.urlTriggers:null==t?void 0:t.urlTriggers)||[],this.It=(cs(t)?null==(e=t.sessionRecording)?void 0:e.urlBlocklist:null==t?void 0:t.urlBlocklist)||[]}onRemoteConfig(t){this.onConfig(t)}Tt(t){var i;return 0===this.Rt.length?ls:(null==(i=this._instance)?void 0:i.get_property(di))===t?os:as}triggerStatus(t){var i=this.Tt(t),e=i===os?os:i===as?as:ls;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:e}),e}checkUrlTriggerConditions(i,e,r){if(void 0!==t&&t.location.href){var s=t.location.href,n=this.urlBlocked,o=us(s,this.It);n&&o||(o&&!n?i():!o&&n&&e(),us(s,this.Rt)&&r(\"url\"))}}stop(){}}class ps{constructor(t){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=t}triggerStatus(){var t=as;return A(this.linkedFlag)&&(t=ls),this.linkedFlagSeen&&(t=os),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:t}),t}onConfig(t,i){var e;if(this.linkedFlag=(cs(t)?null==(e=t.sessionRecording)?void 0:e.linkedFlag:null==t?void 0:t.linkedFlag)||null,!A(this.linkedFlag)&&!this.linkedFlagSeen){var r=M(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=M(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags(((t,e)=>{var n=!1;if(I(e)&&r in e){var o=e[r];n=j(o)?!0===o:s?o===s:!!o}this.linkedFlagSeen=n,n&&i(r,s)}))}}onRemoteConfig(t,i){this.onConfig(t,i)}stop(){this.Ct()}}class gs{constructor(t){this.Mt=[],this._instance=t}onConfig(t){var i;this.Mt=(cs(t)?null==(i=t.sessionRecording)?void 0:i.eventTriggers:null==t?void 0:t.eventTriggers)||[]}onRemoteConfig(t){this.onConfig(t)}Ot(t){var i;return 0===this.Mt.length?ls:(null==(i=this._instance)?void 0:i.get_property(vi))===t?os:as}triggerStatus(t){var i=this.Ot(t),e=i===os?os:i===as?as:ls;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:e}),e}stop(){}}function _s(t){return t.isRecordingEnabled?rs:ts}function ms(t){if(!t.receivedFlags)return rs;if(!t.isRecordingEnabled)return ts;if(t.urlTriggerMatching.urlBlocked)return ss;var i=!0===t.isSampled,e=new hs([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return i?is:e===os?es:e===as?rs:!1===t.isSampled?ts:es}function ys(t){if(!t.receivedFlags)return rs;if(!t.isRecordingEnabled)return ts;if(t.urlTriggerMatching.urlBlocked)return ss;var i=new ds([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),e=i!==ls,r=j(t.isSampled);return e&&i===as?rs:e&&i===ls||r&&!t.isSampled?ts:!0===t.isSampled?is:es}var bs=\"[SessionRecording]\",ws=Et(bs);function Ss(){var t;return null==v||null==(t=v.__PosthogExtensions__)||null==(t=t.rrweb)?void 0:t.record}var ks=3e5,$s=[sr.MouseMove,sr.MouseInteraction,sr.Scroll,sr.ViewportResize,sr.Input,sr.TouchMove,sr.MediaInteraction,sr.Drag],xs=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function Es(t){return function(t,i){for(var e=\"\",r=0;r<t.length;){var s=t[r++];e+=String.fromCharCode(s)}return e}(Xr(Qr(JSON.stringify(t))))}function Ps(t){return t.type===rr.Custom&&\"sessionIdle\"===t.data.tag}class Rs{get sessionId(){return this.Ft}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(bs+\" must be started with a valid sessionManager.\");return this._instance.sessionManager}get Lt(){var t,i;return this.Nt.triggerStatus(this.sessionId)===as?6e4:null!==(t=null==(i=this._instance.config.session_recording)?void 0:i.full_snapshot_interval_millis)&&void 0!==t?t:ks}get Ut(){var t=this._instance.get_property(hi);return j(t)?t:null}get zt(){var t,i,e=null==(t=this.H)?void 0:t.data[(null==(i=this.H)?void 0:i.data.length)-1],{sessionStartTimestamp:r}=this.jt.checkAndGetSessionAndWindowId(!0);return e?e.timestamp-r:null}get qt(){var i=!!this._instance.get_property(ii),e=!this._instance.config.disable_session_recording;return t&&i&&e}get Bt(){var t=!!this._instance.get_property(ei),i=this._instance.config.enable_recording_console_log;return null!=i?i:t}get Ht(){var t,i,e,r,s,n,o=this._instance.config.session_recording.captureCanvas,a=this._instance.get_property(ni),l=null!==(t=null!==(i=null==o?void 0:o.recordCanvas)&&void 0!==i?i:null==a?void 0:a.enabled)&&void 0!==t&&t,u=null!==(e=null!==(r=null==o?void 0:o.canvasFps)&&void 0!==r?r:null==a?void 0:a.fps)&&void 0!==e?e:4,h=null!==(s=null!==(n=null==o?void 0:o.canvasQuality)&&void 0!==n?n:null==a?void 0:a.quality)&&void 0!==s?s:.4;if(\"string\"==typeof h){var d=parseFloat(h);h=isNaN(d)?.4:d}return{enabled:l,fps:G(u,0,12,ws.createLogger(\"canvas recording fps\"),4),quality:G(h,0,1,ws.createLogger(\"canvas recording quality\"),.4)}}get Wt(){var t,i,e=this._instance.get_property(ri),r={recordHeaders:null==(t=this._instance.config.session_recording)?void 0:t.recordHeaders,recordBody:null==(i=this._instance.config.session_recording)?void 0:i.recordBody},s=(null==r?void 0:r.recordHeaders)||(null==e?void 0:e.recordHeaders),n=(null==r?void 0:r.recordBody)||(null==e?void 0:e.recordBody),o=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,a=!!(j(o)?o:null==e?void 0:e.capturePerformance);return s||n||a?{recordHeaders:s,recordBody:n,recordPerformance:a}:void 0}get Gt(){var t,i,e,r,s,n,o=this._instance.get_property(si),a={maskAllInputs:null==(t=this._instance.config.session_recording)?void 0:t.maskAllInputs,maskTextSelector:null==(i=this._instance.config.session_recording)?void 0:i.maskTextSelector,blockSelector:null==(e=this._instance.config.session_recording)?void 0:e.blockSelector},l=null!==(r=null==a?void 0:a.maskAllInputs)&&void 0!==r?r:null==o?void 0:o.maskAllInputs,u=null!==(s=null==a?void 0:a.maskTextSelector)&&void 0!==s?s:null==o?void 0:o.maskTextSelector,h=null!==(n=null==a?void 0:a.blockSelector)&&void 0!==n?n:null==o?void 0:o.blockSelector;return C(l)&&C(u)&&C(h)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:h}}get Vt(){var t=this._instance.get_property(oi);return D(t)?t:null}get Jt(){var t=this._instance.get_property(ai);return D(t)?t:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.Ut,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):rs}constructor(t){if(this.Yt=_s,this.Kt=!1,this.ti=[],this.ii=\"unknown\",this.ei=Date.now(),this.Nt=new vs,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.tryAddCustomEvent(\"browser offline\",{})},this.di=()=>{this.tryAddCustomEvent(\"browser online\",{})},this.vi=()=>{if(null!=o&&o.visibilityState){var t=\"window \"+o.visibilityState;this.tryAddCustomEvent(t,{})}},this._instance=t,this.Dt=!1,this.ci=\"/s/\",this.fi=void 0,this.Kt=!1,!this._instance.sessionManager)throw ws.error(\"started without valid sessionManager\"),new Error(bs+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error(bs+' cannot be used with cookieless_mode=\"always\"');this.Zt=new ps(this._instance),this.Xt=new fs(this._instance),this.Qt=new gs(this._instance);var{sessionId:i,windowId:e}=this.jt.checkAndGetSessionAndWindowId();this.Ft=i,this.pi=e,this.H=this.gi(),this.At>=this.jt.sessionTimeoutMs&&ws.warn(\"session_idle_threshold_ms (\"+this.At+\") is greater than the session timeout (\"+this.jt.sessionTimeoutMs+\"). Session will never be detected as idle\")}startIfEnabledOrStop(i){this.qt?(this.mi(i),qt(t,\"beforeunload\",this.li),qt(t,\"offline\",this.hi),qt(t,\"online\",this.di),qt(t,\"visibilitychange\",this.vi),this.yi(),this.bi(),A(this.ri)&&(this.ri=this._instance.on(\"eventCaptured\",(t=>{try{if(\"$pageview\"===t.event){var i=null!=t&&t.properties.$current_url?this.wi(null==t?void 0:t.properties.$current_url):\"\";if(!i)return;this.tryAddCustomEvent(\"$pageview\",{href:i})}}catch(t){ws.error(\"Could not add $pageview to rrweb session\",t)}}))),this.si||(this.si=this.jt.onSessionId(((t,i,e)=>{var r,s;e&&(this.tryAddCustomEvent(\"$session_id_change\",{sessionId:t,windowId:i,changeReason:e}),null==(r=this._instance)||null==(r=r.persistence)||r.unregister(vi),null==(s=this._instance)||null==(s=s.persistence)||s.unregister(di))})))):this.stopRecording()}stopRecording(){var i,e,r,s;this.Dt&&this.fi&&(this.fi(),this.fi=void 0,this.Dt=!1,null==t||t.removeEventListener(\"beforeunload\",this.li),null==t||t.removeEventListener(\"offline\",this.hi),null==t||t.removeEventListener(\"online\",this.di),null==t||t.removeEventListener(\"visibilitychange\",this.vi),this.gi(),clearInterval(this.Si),null==(i=this.ri)||i.call(this),this.ri=void 0,null==(e=this.ai)||e.call(this),this.ai=void 0,null==(r=this.si)||r.call(this),this.si=void 0,null==(s=this.oi)||s.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),ws.info(\"stopped\"))}ki(){var t;null==(t=this._instance.persistence)||t.unregister(hi)}$i(t){var i,e=this.Ft!==t,r=this.Vt;if(D(r)){var s=this.Ut,n=e||!j(s),o=n?Zr(t,r):s;n&&(o?this.xi(is):ws.warn(\"Sample rate (\"+r+\") has determined that this sessionId (\"+t+\") will not be sent to the server.\"),this.tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:r,isSampled:o})),null==(i=this._instance.persistence)||i.register({[hi]:o})}else this.ki()}onRemoteConfig(t){var i,e,r,s;(this.tryAddCustomEvent(\"$remote_config_received\",t),this.Ei(t),null!=(i=t.sessionRecording)&&i.endpoint)&&(this.ci=null==(s=t.sessionRecording)?void 0:s.endpoint);this.yi(),\"any\"===(null==(e=t.sessionRecording)?void 0:e.triggerMatchType)?(this.Yt=ms,this.Nt=new hs([this.Qt,this.Xt])):(this.Yt=ys,this.Nt=new ds([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(r=t.sessionRecording)?void 0:r.triggerMatchType}),this.Xt.onConfig(t),this.Qt.onConfig(t),this.Zt.onConfig(t,((t,i)=>{this.xi(\"linked_flag_matched\",{flag:t,variant:i})})),this.Kt=!0,this.startIfEnabledOrStop()}yi(){D(this.Vt)&&A(this.oi)&&(this.oi=this.jt.onSessionId((t=>{this.$i(t)})))}Ei(t){if(this._instance.persistence){var i,e=this._instance.persistence,r=()=>{var i,r,s,n,o,a,l,u,h,d=null==(i=t.sessionRecording)?void 0:i.sampleRate,v=A(d)?null:parseFloat(d);A(v)&&this.ki();var c=null==(r=t.sessionRecording)?void 0:r.minimumDurationMilliseconds;e.register({[ii]:!!t.sessionRecording,[ei]:null==(s=t.sessionRecording)?void 0:s.consoleLogRecordingEnabled,[ri]:g({capturePerformance:t.capturePerformance},null==(n=t.sessionRecording)?void 0:n.networkPayloadCapture),[si]:null==(o=t.sessionRecording)?void 0:o.masking,[ni]:{enabled:null==(a=t.sessionRecording)?void 0:a.recordCanvas,fps:null==(l=t.sessionRecording)?void 0:l.canvasFps,quality:null==(u=t.sessionRecording)?void 0:u.canvasQuality},[oi]:v,[ai]:C(c)?null:c,[li]:null==(h=t.sessionRecording)?void 0:h.scriptConfig})};r(),null==(i=this.ni)||i.call(this),this.ni=this.jt.onSessionId(r)}}log(t,i){var e;void 0===i&&(i=\"log\"),null==(e=this._instance.sessionRecording)||e.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}mi(t){if(!C(Object.assign)&&!C(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var i;if(this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),Ss())this.Pi();else null==(i=v.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,this.Ri,(t=>{if(t)return ws.error(\"could not load recorder\",t);this.Pi()}));ws.info(\"starting\"),this.status===es&&this.xi(t||\"recording_initialized\")}}get Ri(){var t;return(null==(t=this._instance)||null==(t=t.persistence)||null==(t=t.get_property(li))?void 0:t.script)||\"recorder\"}Ii(t){var i;return 3===t.type&&-1!==$s.indexOf(null==(i=t.data)?void 0:i.source)}Ti(t){var i=this.Ii(t);i||this.ii||t.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.Si),this.tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:t.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var e=!1;if(i&&(this.ei=t.timestamp,this.ii)){var r=\"unknown\"===this.ii;this.ii=!1,r||(this.tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:t.type}),e=!0)}if(!this.ii){var{windowId:s,sessionId:n}=this.jt.checkAndGetSessionAndWindowId(!i,t.timestamp),o=this.Ft!==n,a=this.pi!==s;this.pi=s,this.Ft=n,o||a?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):e&&this.Ci()}}Mi(t){try{return t.rrwebMethod(),!0}catch(i){return this.ti.length<10?this.ti.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ws.warn(\"could not emit queued rrweb event.\",i,t),!1}}tryAddCustomEvent(t,i){return this.Mi(xs((()=>Ss().addCustomEvent(t,i))))}Oi(){return this.Mi(xs((()=>Ss().takeFullSnapshot())))}Pi(){var t,i,e,r,s={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},n=this._instance.config.session_recording;for(var[o,a]of Object.entries(n||{}))o in s&&(\"maskInputOptions\"===o?s.maskInputOptions=g({password:!0},a):s[o]=a);(this.Ht&&this.Ht.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.Ht.fps},s.dataURLOptions={type:\"image/webp\",quality:this.Ht.quality}),this.Gt)&&(s.maskAllInputs=null===(i=this.Gt.maskAllInputs)||void 0===i||i,s.maskTextSelector=null!==(e=this.Gt.maskTextSelector)&&void 0!==e?e:void 0,s.blockSelector=null!==(r=this.Gt.blockSelector)&&void 0!==r?r:void 0);var l=Ss();if(l){this.Fi=null!==(t=this.Fi)&&void 0!==t?t:new fr(l,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(t,i)=>{var e=\"Too many mutations on node '\"+t+\"'. Rate limiting. This could be due to SVG animations or something similar\";ws.info(e,{node:i}),this.log(bs+\" \"+e,\"warn\")}});var u=this.Ai();this.fi=l(g({emit:t=>{this.onRRwebEmit(t)},plugins:u},s)),this.ei=Date.now(),this.ii=j(this.ii)?this.ii:\"unknown\",this.tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:s,activePlugins:u.map((t=>null==t?void 0:t.name))}),this.tryAddCustomEvent(\"$posthog_config\",{config:this._instance.config})}else ws.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}Ci(){if(this.Si&&clearInterval(this.Si),!0!==this.ii){var t=this.Lt;t&&(this.Si=setInterval((()=>{this.Oi()}),t))}}Ai(){var t,i,e=[],r=null==(t=v.__PosthogExtensions__)||null==(t=t.rrwebPlugins)?void 0:t.getRecordConsolePlugin;r&&this.Bt&&e.push(r());var s=null==(i=v.__PosthogExtensions__)||null==(i=i.rrwebPlugins)?void 0:i.getRecordNetworkPlugin;this.Wt&&R(s)&&(!ce.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(s(cr(this._instance.config,this.Wt))):ws.info(\"NetworkCapture not started because we are on localhost.\"));return e}onRRwebEmit(t){var i;if(this.Di(),t&&I(t)){if(t.type===rr.Meta){var e=this.wi(t.data.href);if(this.ji=e,!e)return;t.data.href=e}else this.Li();if(this.Xt.checkUrlTriggerConditions((()=>this.Ni()),(()=>this.Ui()),(t=>this.zi(t))),!this.Xt.urlBlocked||(r=t).type===rr.Custom&&\"recording paused\"===r.data.tag){var r;t.type===rr.FullSnapshot&&this.Ci(),t.type===rr.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===as&&this.gi();var s=this.Fi?this.Fi.throttleMutations(t):t;if(s){var n=function(t){var i=t;if(i&&I(i)&&6===i.type&&I(i.data)&&\"rrweb/console@1\"===i.data.plugin){i.data.payload.payload.length>10&&(i.data.payload.payload=i.data.payload.payload.slice(0,10),i.data.payload.payload.push(\"...[truncated]\"));for(var e=[],r=0;r<i.data.payload.payload.length;r++)i.data.payload.payload[r]&&i.data.payload.payload[r].length>2e3?e.push(i.data.payload.payload[r].slice(0,2e3)+\"...[truncated]\"):e.push(i.data.payload.payload[r]);return i.data.payload.payload=e,t}return t}(s);if(this.Ti(n),!0!==this.ii||Ps(n)){if(Ps(n)){var o=n.data.payload;if(o){var a=o.lastActivityTimestamp,l=o.threshold;n.timestamp=a+l}}var u=null===(i=this._instance.config.session_recording.compress_events)||void 0===i||i?function(t){if(ir(t)<1024)return t;try{if(t.type===rr.FullSnapshot)return g({},t,{data:Es(t.data),cv:\"2024-10\"});if(t.type===rr.IncrementalSnapshot&&t.data.source===sr.Mutation)return g({},t,{cv:\"2024-10\",data:g({},t.data,{texts:Es(t.data.texts),attributes:Es(t.data.attributes),removes:Es(t.data.removes),adds:Es(t.data.adds)})});if(t.type===rr.IncrementalSnapshot&&t.data.source===sr.StyleSheetRule)return g({},t,{cv:\"2024-10\",data:g({},t.data,{adds:t.data.adds?Es(t.data.adds):void 0,removes:t.data.removes?Es(t.data.removes):void 0})})}catch(t){ws.error(\"could not compress event - will use uncompressed event\",t)}return t}(n):n,h={$snapshot_bytes:ir(u),$snapshot_data:u,$session_id:this.Ft,$window_id:this.pi};this.status!==ts?this.qi(h):this.gi()}}}}}Li(){if(!this._instance.config.capture_pageview&&t){var i=this.wi(t.location.href);this.ji!==i&&(this.tryAddCustomEvent(\"$url_changed\",{href:i}),this.ji=i)}}Di(){if(this.ti.length){var t=[...this.ti];this.ti=[],t.forEach((t=>{Date.now()-t.enqueuedAt<=2e3&&this.Mi(t)}))}}wi(t){var i=this._instance.config.session_recording;if(i.maskNetworkRequestFn){var e,r={url:t};return null==(e=r=i.maskNetworkRequestFn(r))?void 0:e.url}return t}gi(){return this.H={size:0,data:[],sessionId:this.Ft,windowId:this.pi},this.H}ui(){this.Bi&&(clearTimeout(this.Bi),this.Bi=void 0);var t=this.Jt,i=this.zt,e=D(i)&&i>=0,r=D(t)&&e&&i<t;if(this.status===rs||this.status===ss||this.status===ts||r)return this.Bi=setTimeout((()=>{this.ui()}),2e3),this.H;this.H.data.length>0&&er(this.H).forEach((t=>{this.Hi({$snapshot_bytes:t.size,$snapshot_data:t.data,$session_id:t.sessionId,$window_id:t.windowId,$lib:\"web\",$lib_version:c.LIB_VERSION})}));return this.gi()}qi(t){var i,e=2+((null==(i=this.H)?void 0:i.data.length)||0);!this.ii&&(this.H.size+t.$snapshot_bytes+e>943718.4||this.H.sessionId!==this.Ft)&&(this.H=this.ui()),this.H.size+=t.$snapshot_bytes,this.H.data.push(t.$snapshot_data),this.Bi||this.ii||(this.Bi=setTimeout((()=>{this.ui()}),2e3))}Hi(t){this._instance.capture(\"$snapshot\",t,{_url:this._instance.requestRouter.endpointFor(\"api\",this.ci),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}zi(t){var i;this.Nt.triggerStatus(this.sessionId)===as&&(null==(i=this._instance)||null==(i=i.persistence)||i.register({[\"url\"===t?di:vi]:this.Ft}),this.ui(),this.xi(t+\"_trigger_matched\"))}Ni(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.Si),ws.info(\"recording paused due to URL blocker\"),this.tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Ci(),this.tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),ws.info(\"recording resumed\"))}bi(){0!==this.Qt.Mt.length&&A(this.ai)&&(this.ai=this._instance.on(\"eventCaptured\",(t=>{try{this.Qt.Mt.includes(t.event)&&this.zi(\"event\")}catch(t){ws.error(\"Could not activate event trigger\",t)}})))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.xi(\"linked_flag_overridden\")}overrideSampling(){var t;null==(t=this._instance.persistence)||t.register({[hi]:!0}),this.Oi(),this.xi(\"sampling_overridden\")}overrideTrigger(t){this.zi(t)}xi(t,i){this._instance.register_for_session({$session_recording_start_reason:t}),ws.info(t.replace(\"_\",\" \"),i),y([\"recording_initialized\",\"session_id_changed\"],t)||this.tryAddCustomEvent(t,i)}get sdkDebugProperties(){var{sessionStartTimestamp:t}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.zt,$sdk_debug_session_start:t}}}var Is=Et(\"[SegmentIntegration]\");function Ts(t,i){var e=t.config.segment;if(!e)return i();!function(t,i){var e=t.config.segment;if(!e)return i();var r=e=>{var r=()=>e.anonymousId()||Ce();t.config.get_device_id=r,e.id()&&(t.register({distinct_id:e.id(),$device_id:r()}),t.persistence.set_property(wi,\"identified\")),i()},s=e.user();\"then\"in s&&R(s.then)?s.then((t=>r(t))):r(s)}(t,(()=>{e.register((t=>{Promise&&Promise.resolve||Is.warn(\"This browser does not have Promise support, and can not use the segment integration\");var i=(i,e)=>{if(!e)return i;i.event.userId||i.event.anonymousId===t.get_distinct_id()||(Is.info(\"No userId set, resetting PostHog\"),t.reset()),i.event.userId&&i.event.userId!==t.get_distinct_id()&&(Is.info(\"UserId set, identifying with PostHog\"),t.identify(i.event.userId));var r=t.calculateEventProperties(e,i.event.properties);return i.event.properties=Object.assign({},r,i.event.properties),i};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:t=>i(t,t.event.event),page:t=>i(t,\"$pageview\"),identify:t=>i(t,\"$identify\"),screen:t=>i(t,\"$screen\")}})(t)).then((()=>{i()}))}))}var Cs=\"posthog-js\";function Ms(t,i){var{organization:e,projectId:r,prefix:s,severityAllowList:n=[\"error\"],sendExceptionsToPostHog:o=!0}=void 0===i?{}:i;return i=>{var a,l,u,h,d;if(!(\"*\"===n||n.includes(i.level))||!t.__loaded)return i;i.tags||(i.tags={});var v=t.requestRouter.endpointFor(\"ui\",\"/project/\"+t.config.token+\"/person/\"+t.get_distinct_id());i.tags[\"PostHog Person URL\"]=v,t.sessionRecordingStarted()&&(i.tags[\"PostHog Recording URL\"]=t.get_session_replay_url({withTimestamp:!0}));var c=(null==(a=i.exception)?void 0:a.values)||[],f=c.map((t=>g({},t,{stacktrace:t.stacktrace?g({},t.stacktrace,{type:\"raw\",frames:(t.stacktrace.frames||[]).map((t=>g({},t,{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null==(l=c[0])?void 0:l.value)||i.message,$exception_type:null==(u=c[0])?void 0:u.type,$exception_personURL:v,$exception_level:i.level,$exception_list:f,$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(null==(h=c[0])?void 0:h.value)||i.message,$sentry_exception_type:null==(d=c[0])?void 0:d.type,$sentry_tags:i.tags};return e&&r&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+e+\"/issues/?project=\"+r+\"&query=\"+i.event_id),o&&t.exceptions.sendExceptionEvent(p),i}}class Os{constructor(t,i,e,r,s,n){this.name=Cs,this.setupOnce=function(o){o(Ms(t,{organization:i,projectId:e,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var Fs=null!=t&&t.location?me(t.location.hash,\"__posthog\")||me(location.hash,\"state\"):null,As=\"_postHogToolbarParams\",Ds=Et(\"[Toolbar]\"),js=function(t){return t[t.UNINITIALIZED=0]=\"UNINITIALIZED\",t[t.LOADING=1]=\"LOADING\",t[t.LOADED=2]=\"LOADED\",t}(js||{});class Ls{constructor(t){this.instance=t}Wi(t){v.ph_toolbar_state=t}Gi(){var t;return null!==(t=v.ph_toolbar_state)&&void 0!==t?t:js.UNINITIALIZED}maybeLoadToolbar(i,e,r){if(void 0===i&&(i=void 0),void 0===e&&(e=void 0),void 0===r&&(r=void 0),!t||!o)return!1;i=null!=i?i:t.location,r=null!=r?r:t.history;try{if(!e){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(t){return!1}e=null==t?void 0:t.localStorage}var s,n=Fs||me(i.hash,\"__posthog\")||me(i.hash,\"state\"),a=n?At((()=>JSON.parse(atob(decodeURIComponent(n)))))||At((()=>JSON.parse(decodeURIComponent(n)))):null;return a&&\"ph_authorize\"===a.action?((s=a).source=\"url\",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,\"\",i.pathname+i.search):i.hash=\"\")):((s=JSON.parse(e.getItem(As)||\"{}\")).source=\"localstorage\",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(t){return!1}}Vi(t){var i=v.ph_load_toolbar||v.ph_load_editor;!A(i)&&R(i)?i(t,this.instance):Ds.warn(\"No toolbar load function found\")}loadToolbar(i){var e=!(null==o||!o.getElementById(Ri));if(!t||e)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=g({token:this.instance.config.token},i,{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(As,JSON.stringify(g({},s,{source:void 0}))),this.Gi()===js.LOADED)this.Vi(s);else if(this.Gi()===js.UNINITIALIZED){var n;this.Wi(js.LOADING),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,\"toolbar\",(t=>{if(t)return Ds.error(\"[Toolbar] Failed to load\",t),void this.Wi(js.UNINITIALIZED);this.Wi(js.LOADED),this.Vi(s)})),qt(t,\"turbolinks:load\",(()=>{this.Wi(js.UNINITIALIZED),this.loadToolbar(s)}))}return!0}Ji(t){return this.loadToolbar(t)}maybeLoadEditor(t,i,e){return void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.maybeLoadToolbar(t,i,e)}}var Ns=Et(\"[TracingHeaders]\");class Us{constructor(t){this.Ki=void 0,this.Yi=void 0,this.lt=()=>{var t,i;C(this.Ki)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager));C(this.Yi)&&(null==(i=v.__PosthogExtensions__)||null==(i=i.tracingHeadersPatchFns)||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.tracingHeadersPatchFns&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"tracing-headers\",(i=>{if(i)return Ns.error(\"failed to load script\",i);t()}))}startIfEnabledOrStop(){var t,i;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(t=this.Ki)||t.call(this),null==(i=this.Yi)||i.call(this),this.Ki=void 0,this.Yi=void 0)}}var zs=Et(\"[Web Vitals]\"),qs=9e5;class Bs{constructor(t){var i;this.Xi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Qi=()=>{clearTimeout(this.Zi),0!==this.H.metrics.length&&(this._instance.capture(\"$web_vitals\",this.H.metrics.reduce(((t,i)=>g({},t,{[\"$web_vitals_\"+i.name+\"_event\"]:g({},i),[\"$web_vitals_\"+i.name+\"_value\"]:i.value})),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.te=t=>{var i,e=null==(i=this._instance.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0);if(C(e))zs.error(\"Could not read session ID. Dropping metrics!\");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.ie();if(!C(r))if(A(null==t?void 0:t.name)||A(null==t?void 0:t.value))zs.error(\"Invalid metric received\",t);else if(this.ee&&t.value>=this.ee)zs.error(\"Ignoring metric with value >= \"+this.ee,t);else this.H.url!==r&&(this.Qi(),this.Zi=setTimeout(this.Qi,this.flushToCaptureTimeoutMs)),C(this.H.url)&&(this.H.url=r),this.H.firstMetricTimestamp=C(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.H.metrics.push(g({},t,{$current_url:r,$session_id:e.sessionId,$window_id:e.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Qi()}},this.lt=()=>{var t,i,e,r,s=v.__PosthogExtensions__;C(s)||C(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:i,onFCP:e,onINP:r}=s.postHogWebVitalsCallbacks),t&&i&&e&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&t(this.te.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&i(this.te.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&e(this.te.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this.te.bind(this)),this.C=!0):zs.error(\"web vitals callbacks not loaded - not starting\")},this._instance=t,this.Xi=!(null==(i=this._instance.persistence)||!i.props[Xt]),this.startIfEnabled()}get allowedMetrics(){var t,i,e=I(this._instance.config.capture_performance)?null==(t=this._instance.config.capture_performance)?void 0:t.web_vitals_allowed_metrics:void 0;return C(e)?(null==(i=this._instance.persistence)?void 0:i.props[Zt])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:e}get flushToCaptureTimeoutMs(){return(I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ee(){var t=I(this._instance.config.capture_performance)&&D(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:qs;return 0<t&&t<=6e4?qs:t}get isEnabled(){var t=null==a?void 0:a.protocol;if(\"http:\"!==t&&\"https:\"!==t)return zs.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var i=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:j(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return j(i)?i:this.Xi}startIfEnabled(){this.isEnabled&&!this.C&&(zs.info(\"enabled, starting...\"),this.nt(this.lt))}onRemoteConfig(t){var i=I(t.capturePerformance)&&!!t.capturePerformance.web_vitals,e=I(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Xt]:i}),this._instance.persistence.register({[Zt]:e})),this.Xi=i,this.startIfEnabled()}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.postHogWebVitalsCallbacks&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"web-vitals\",(i=>{i?zs.error(\"failed to load script\",i):t()}))}ie(){var i=t?t.location.href:void 0;return i||zs.error(\"Could not determine current URL\"),i}}var Hs=Et(\"[Heatmaps]\");function Ws(t){return I(t)&&\"clientX\"in t&&\"clientY\"in t&&D(t.clientX)&&D(t.clientY)}class Gs{constructor(t){var i;this.rageclicks=new ue,this.Xi=!1,this.C=!1,this.re=null,this.instance=t,this.Xi=!(null==(i=this.instance.persistence)||!i.props[Vt])}get flushIntervalMilliseconds(){var t=5e3;return I(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return C(this.instance.config.capture_heatmaps)?C(this.instance.config.enable_heatmaps)?this.Xi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.C)return;Hs.info(\"starting...\"),this.se(),this.re=setInterval(this.ne.bind(this),this.flushIntervalMilliseconds)}else{var t,i;clearInterval(null!==(t=this.re)&&void 0!==t?t:void 0),null==(i=this.oe)||i.stop(),this.getAndClearBuffer()}}onRemoteConfig(t){var i=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Vt]:i}),this.Xi=i,this.startIfEnabled()}getAndClearBuffer(){var t=this.H;return this.H=void 0,t}ae(t){this.le(t.originalEvent,\"deadclick\")}se(){t&&o&&(qt(t,\"beforeunload\",this.ne.bind(this)),qt(o,\"click\",(i=>this.le(i||(null==t?void 0:t.event))),{capture:!0}),qt(o,\"mousemove\",(i=>this.ue(i||(null==t?void 0:t.event))),{capture:!0}),this.oe=new Ye(this.instance,Je,this.ae.bind(this)),this.oe.startIfEnabled(),this.C=!0)}he(i,e){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(i,e,r){for(var s=i;s&&Mi(s)&&!Oi(s,\"body\");){if(s===r)return!1;if(y(e,null==t?void 0:t.getComputedStyle(s).position))return!0;s=Hi(s)}return!1}(zi(i),[\"fixed\",\"sticky\"],n);return{x:i.clientX+(o?0:s),y:i.clientY+(o?0:r),target_fixed:o,type:e}}le(t,i){var e;if(void 0===i&&(i=\"click\"),!Ci(t.target)&&Ws(t)){var r=this.he(t,i);null!=(e=this.rageclicks)&&e.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this.de(g({},r,{type:\"rageclick\"})),this.de(r)}}ue(t){!Ci(t.target)&&Ws(t)&&(clearTimeout(this.ve),this.ve=setTimeout((()=>{this.de(this.he(t,\"mousemove\"))}),500))}de(i){if(t){var e=t.location.href;this.H=this.H||{},this.H[e]||(this.H[e]=[]),this.H[e].push(i)}}ne(){this.H&&!T(this.H)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class Vs{constructor(t){this._instance=t}doPageView(i,e){var r,s=this.ce(i,e);return this.fe={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:e,timestamp:i},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var i;return this.ce(t,null==(i=this.fe)?void 0:i.pageViewId)}doEvent(){var t;return{$pageview_id:null==(t=this.fe)?void 0:t.pageViewId}}ce(t,i){var e=this.fe;if(!e)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:e.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:h}=s;if(!(C(n)||C(o)||C(a)||C(l)||C(u)||C(h))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),h=Math.ceil(h);var d=n<=1?1:G(o/n,0,1,xt),v=n<=1?1:G(a/n,0,1,xt),c=l<=1?1:G(u/l,0,1,xt),f=l<=1?1:G(h/l,0,1,xt);r=Mt(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:v,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return e.pathname&&(r.$prev_pageview_pathname=e.pathname),e.timestamp&&(r.$prev_pageview_duration=(t.getTime()-e.timestamp.getTime())/1e3),r}}var Js=function(t){var i,e,r,s,n=\"\";for(i=e=0,r=(t=(t+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?e++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),F(a)||(e>i&&(n+=t.substring(i,e)),n+=a,i=e=s+1)}return e>i&&(n+=t.substring(i,t.length)),n},Ks=!!u||!!l,Ys=\"text/plain\",Xs=(t,i)=>{var[e,r]=t.split(\"?\"),s=g({},i);null==r||r.split(\"&\").forEach((t=>{var[i]=t.split(\"=\");delete s[i]}));var n=pe(s);return e+\"?\"+(n=n?(r?r+\"&\":\"\")+n:r)},Qs=(t,i)=>JSON.stringify(t,((t,i)=>\"bigint\"==typeof i?i.toString():i),i),Zs=t=>{var{data:i,compression:e}=t;if(i){if(e===de.GZipJS){var r=Xr(Qr(Qs(i)),{mtime:0}),s=new Blob([r],{type:Ys});return{contentType:Ys,body:s,estimatedSize:s.size}}if(e===de.Base64){var n=function(t){var i,e,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",h=[];if(!t)return t;t=Js(t);do{i=(n=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[l++]=o.charAt(i)+o.charAt(e)+o.charAt(r)+o.charAt(s)}while(a<t.length);switch(u=h.join(\"\"),t.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(Qs(i)),o=(t=>\"data=\"+encodeURIComponent(\"string\"==typeof t?t:Qs(t)))(n);return{contentType:\"application/x-www-form-urlencoded\",body:o,estimatedSize:new Blob([o]).size}}var a=Qs(i);return{contentType:\"application/json\",body:a,estimatedSize:new Blob([a]).size}}},tn=[];l&&tn.push({transport:\"fetch\",method:t=>{var i,e,{contentType:r,body:s,estimatedSize:n}=null!==(i=Zs(t))&&void 0!==i?i:{},o=new Headers;Ct(t.headers,(function(t,i){o.append(i,t)})),r&&o.append(\"Content-Type\",r);var a=t.url,u=null;if(h){var d=new h;u={signal:d.signal,timeout:setTimeout((()=>d.abort()),t.timeout)}}l(a,g({method:(null==t?void 0:t.method)||\"GET\",headers:o,keepalive:\"POST\"===t.method&&(n||0)<52428.8,body:s,signal:null==(e=u)?void 0:e.signal},t.fetchOptions)).then((i=>i.text().then((e=>{var r={statusCode:i.status,text:e};if(200===i.status)try{r.json=JSON.parse(e)}catch(t){xt.error(t)}null==t.callback||t.callback(r)})))).catch((i=>{xt.error(i),null==t.callback||t.callback({statusCode:0,text:i})})).finally((()=>u?clearTimeout(u.timeout):null))}}),u&&tn.push({transport:\"XHR\",method:t=>{var i,e=new u;e.open(t.method||\"GET\",t.url,!0);var{contentType:r,body:s}=null!==(i=Zs(t))&&void 0!==i?i:{};Ct(t.headers,(function(t,i){e.setRequestHeader(i,t)})),r&&e.setRequestHeader(\"Content-Type\",r),t.timeout&&(e.timeout=t.timeout),t.disableXHRCredentials||(e.withCredentials=!0),e.onreadystatechange=()=>{if(4===e.readyState){var i={statusCode:e.status,text:e.responseText};if(200===e.status)try{i.json=JSON.parse(e.responseText)}catch(t){}null==t.callback||t.callback(i)}},e.send(s)}}),null!=n&&n.sendBeacon&&tn.push({transport:\"sendBeacon\",method:t=>{var i=Xs(t.url,{beacon:\"1\"});try{var e,{contentType:r,body:s}=null!==(e=Zs(t))&&void 0!==e?e:{},o=\"string\"==typeof s?new Blob([s],{type:r}):s;n.sendBeacon(i,o)}catch(t){}}});var en=function(t,i){if(!function(t){try{new RegExp(t)}catch(t){return!1}return!0}(i))return!1;try{return new RegExp(i).test(t)}catch(t){return!1}};function rn(t,i,e){return Qs({distinct_id:t,userPropertiesToSet:i,userPropertiesToSetOnce:e})}var sn={exact:(t,i)=>i.some((i=>t.some((t=>i===t)))),is_not:(t,i)=>i.every((i=>t.every((t=>i!==t)))),regex:(t,i)=>i.some((i=>t.some((t=>en(i,t))))),not_regex:(t,i)=>i.every((i=>t.every((t=>!en(i,t))))),icontains:(t,i)=>i.map(nn).some((i=>t.map(nn).some((t=>i.includes(t))))),not_icontains:(t,i)=>i.map(nn).every((i=>t.map(nn).every((t=>!i.includes(t)))))},nn=t=>t.toLowerCase(),on=Et(\"[Error tracking]\");class an{constructor(t){var i,e;this.pe=[],this.ge=new vt([new ct,new kt,new pt,new ft,new wt,new bt,new _t,new St],[nt,lt]),this._instance=t,this.pe=null!==(i=null==(e=this._instance.persistence)?void 0:e.get_property(Kt))&&void 0!==i?i:[]}onRemoteConfig(t){var i,e,r,s=null!==(i=null==(e=t.errorTracking)?void 0:e.suppressionRules)&&void 0!==i?i:[],n=null==(r=t.errorTracking)?void 0:r.captureExtensionExceptions;this.pe=s,this._instance.persistence&&this._instance.persistence.register({[Kt]:this.pe,[Yt]:n})}get _e(){var t,i=!!this._instance.get_property(Yt),e=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(t=null!=e?e:i)&&void 0!==t&&t}buildProperties(t,i){return this.ge.buildFromUnknown(t,{syntheticException:null==i?void 0:i.syntheticException,mechanism:{handled:null==i?void 0:i.handled}})}sendExceptionEvent(t){if(this.me(t))on.info(\"Skipping exception capture because a suppression rule matched\");else{if(this._e||!this.ye(t))return this._instance.capture(\"$exception\",t,{_noTruncate:!0,_batchKey:\"exceptionEvent\"});on.info(\"Skipping exception capture because it was thrown by an extension\")}}me(t){var i=t.$exception_list;if(!i||!P(i)||0===i.length)return!1;var e=i.reduce(((t,i)=>{var{type:e,value:r}=i;return M(e)&&e.length>0&&t.$exception_types.push(e),M(r)&&r.length>0&&t.$exception_values.push(r),t}),{$exception_types:[],$exception_values:[]});return this.pe.some((t=>{var i=t.values.map((t=>{var i,r=sn[t.operator],s=P(t.value)?t.value:[t.value],n=null!==(i=e[t.key])&&void 0!==i?i:[];return s.length>0&&r(s,n)}));return\"OR\"===t.type?i.some(Boolean):i.every(Boolean)}))}ye(t){var i=t.$exception_list;return!(!i||!P(i))&&i.flatMap((t=>{var i,e;return null!==(i=null==(e=t.stacktrace)?void 0:e.frames)&&void 0!==i?i:[]})).some((t=>t.filename&&t.filename.startsWith(\"chrome-extension://\")))}}var ln=\"Mobile\",un=\"iOS\",hn=\"Android\",dn=\"Tablet\",vn=hn+\" \"+dn,cn=\"iPad\",fn=\"Apple\",pn=fn+\" Watch\",gn=\"Safari\",_n=\"BlackBerry\",mn=\"Samsung\",yn=mn+\"Browser\",bn=mn+\" Internet\",wn=\"Chrome\",Sn=wn+\" OS\",kn=wn+\" \"+un,$n=\"Internet Explorer\",xn=$n+\" \"+ln,En=\"Opera\",Pn=En+\" Mini\",Rn=\"Edge\",In=\"Microsoft \"+Rn,Tn=\"Firefox\",Cn=Tn+\" \"+un,Mn=\"Nintendo\",On=\"PlayStation\",Fn=\"Xbox\",An=hn+\" \"+ln,Dn=ln+\" \"+gn,jn=\"Windows\",Ln=jn+\" Phone\",Nn=\"Nokia\",Un=\"Ouya\",zn=\"Generic\",qn=zn+\" \"+ln.toLowerCase(),Bn=zn+\" \"+dn.toLowerCase(),Hn=\"Konqueror\",Wn=\"(\\\\d+(\\\\.\\\\d+)?)\",Gn=new RegExp(\"Version/\"+Wn),Vn=new RegExp(Fn,\"i\"),Jn=new RegExp(On+\" \\\\w+\",\"i\"),Kn=new RegExp(Mn+\" \\\\w+\",\"i\"),Yn=new RegExp(_n+\"|PlayBook|BB10\",\"i\"),Xn={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Qn=(t,i)=>i&&y(i,fn)||function(t){return y(t,gn)&&!y(t,wn)&&!y(t,hn)}(t),Zn=function(t,i){return i=i||\"\",y(t,\" OPR/\")&&y(t,\"Mini\")?Pn:y(t,\" OPR/\")?En:Yn.test(t)?_n:y(t,\"IE\"+ln)||y(t,\"WPDesktop\")?xn:y(t,yn)?bn:y(t,Rn)||y(t,\"Edg/\")?In:y(t,\"FBIOS\")?\"Facebook \"+ln:y(t,\"UCWEB\")||y(t,\"UCBrowser\")?\"UC Browser\":y(t,\"CriOS\")?kn:y(t,\"CrMo\")||y(t,wn)?wn:y(t,hn)&&y(t,gn)?An:y(t,\"FxiOS\")?Cn:y(t.toLowerCase(),Hn.toLowerCase())?Hn:Qn(t,i)?y(t,ln)?Dn:gn:y(t,Tn)?Tn:y(t,\"MSIE\")||y(t,\"Trident/\")?$n:y(t,\"Gecko\")?Tn:\"\"},to={[xn]:[new RegExp(\"rv:\"+Wn)],[In]:[new RegExp(Rn+\"?\\\\/\"+Wn)],[wn]:[new RegExp(\"(\"+wn+\"|CrMo)\\\\/\"+Wn)],[kn]:[new RegExp(\"CriOS\\\\/\"+Wn)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Wn)],[gn]:[Gn],[Dn]:[Gn],[En]:[new RegExp(\"(Opera|OPR)\\\\/\"+Wn)],[Tn]:[new RegExp(Tn+\"\\\\/\"+Wn)],[Cn]:[new RegExp(\"FxiOS\\\\/\"+Wn)],[Hn]:[new RegExp(\"Konqueror[:/]?\"+Wn,\"i\")],[_n]:[new RegExp(_n+\" \"+Wn),Gn],[An]:[new RegExp(\"android\\\\s\"+Wn,\"i\")],[bn]:[new RegExp(yn+\"\\\\/\"+Wn)],[$n]:[new RegExp(\"(rv:|MSIE )\"+Wn)],Mozilla:[new RegExp(\"rv:\"+Wn)]},io=function(t,i){var e=Zn(t,i),r=to[e];if(C(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=t.match(n);if(o)return parseFloat(o[o.length-2])}return null},eo=[[new RegExp(Fn+\"; \"+Fn+\" (.*?)[);]\",\"i\"),t=>[Fn,t&&t[1]||\"\"]],[new RegExp(Mn,\"i\"),[Mn,\"\"]],[new RegExp(On,\"i\"),[On,\"\"]],[Yn,[_n,\"\"]],[new RegExp(jn,\"i\"),(t,i)=>{if(/Phone/.test(i)||/WPDesktop/.test(i))return[Ln,\"\"];if(new RegExp(ln).test(i)&&!/IEMobile\\b/.test(i))return[jn+\" \"+ln,\"\"];var e=/Windows NT ([0-9.]+)/i.exec(i);if(e&&e[1]){var r=e[1],s=Xn[r]||\"\";return/arm/i.test(i)&&(s=\"RT\"),[jn,s]}return[jn,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,t=>{if(t&&t[3]){var i=[t[3],t[4],t[5]||\"0\"];return[un,i.join(\".\")]}return[un,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,t=>{var i=\"\";return t&&t.length>=3&&(i=C(t[2])?t[3]:t[2]),[\"watchOS\",i]}],[new RegExp(\"(\"+hn+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+hn+\")\",\"i\"),t=>{if(t&&t[2]){var i=[t[2],t[3],t[4]||\"0\"];return[hn,i.join(\".\")]}return[hn,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,t=>{var i=[\"Mac OS X\",\"\"];if(t&&t[1]){var e=[t[1],t[2],t[3]||\"0\"];i[1]=e.join(\".\")}return i}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[Sn,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],ro=function(t){return Kn.test(t)?Mn:Jn.test(t)?On:Vn.test(t)?Fn:new RegExp(Un,\"i\").test(t)?Un:new RegExp(\"(\"+Ln+\"|WPDesktop)\",\"i\").test(t)?Ln:/iPad/.test(t)?cn:/iPod/.test(t)?\"iPod Touch\":/iPhone/.test(t)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(t)?pn:Yn.test(t)?_n:/(kobo)\\s(ereader|touch)/i.test(t)?\"Kobo\":new RegExp(Nn,\"i\").test(t)?Nn:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(t)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(t)?\"Kindle Fire\":/(Android|ZTE)/i.test(t)?!new RegExp(ln).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?hn:vn:hn:new RegExp(\"(pda|\"+ln+\")\",\"i\").test(t)?qn:new RegExp(dn,\"i\").test(t)&&!new RegExp(dn+\" pc\",\"i\").test(t)?Bn:\"\"},so=\"https?://(.*)\",no=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"epik\",\"qclid\",\"sccid\",\"irclid\",\"_kx\"],oo=Ot([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],no),ao=\"<masked>\",lo=[\"li_fat_id\"];function uo(t,i,e){if(!o)return{};var r,s=i?Ot([],no,e||[]):[],n=ho(_e(o.URL,s,ao),t),a=(r={},Ct(lo,(function(t){var i=De.J(t);r[t]=i||null})),r);return Mt(a,n)}function ho(t,i){var e=oo.concat(i||[]),r={};return Ct(e,(function(i){var e=ge(t,i);r[i]=e||null})),r}function vo(t){var i=function(t){return t?0===t.search(so+\"google.([^/?]*)\")?\"google\":0===t.search(so+\"bing.com\")?\"bing\":0===t.search(so+\"yahoo.com\")?\"yahoo\":0===t.search(so+\"duckduckgo.com\")?\"duckduckgo\":null:null}(t),e=\"yahoo\"!=i?\"q\":\"p\",r={};if(!F(i)){r.$search_engine=i;var s=o?ge(o.referrer,e):\"\";s.length&&(r.ph_keyword=s)}return r}function co(){return navigator.language||navigator.userLanguage}function fo(){return(null==o?void 0:o.referrer)||\"$direct\"}function po(t,i){var e=t?Ot([],no,i||[]):[],r=null==a?void 0:a.href.substring(0,1e3);return{r:fo().substring(0,1e3),u:r?_e(r,e,ao):void 0}}function go(t){var i,{r:e,u:r}=t,s={$referrer:e,$referring_domain:null==e?void 0:\"$direct\"==e?\"$direct\":null==(i=fe(e))?void 0:i.host};if(r){s.$current_url=r;var n=fe(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname;var o=ho(r);Mt(s,o)}if(e){var a=vo(e);Mt(s,a)}return s}function _o(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}}function mo(){try{return(new Date).getTimezoneOffset()}catch(t){return}}function yo(i,e){if(!d)return{};var r,s,n,o=i?Ot([],no,e||[]):[],[l,u]=function(t){for(var i=0;i<eo.length;i++){var[e,r]=eo[i],s=e.exec(t),n=s&&(R(r)?r(s,t):r);if(n)return n}return[\"\",\"\"]}(d);return Mt(jt({$os:l,$os_version:u,$browser:Zn(d,navigator.vendor),$device:ro(d),$device_type:(s=d,n=ro(s),n===cn||n===vn||\"Kobo\"===n||\"Kindle Fire\"===n||n===Bn?dn:n===Mn||n===Fn||n===On||n===Un?\"Console\":n===pn?\"Wearable\":n?ln:\"Desktop\"),$timezone:_o(),$timezone_offset:mo()}),{$current_url:_e(null==a?void 0:a.href,o,ao),$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:io(d,navigator.vendor),$browser_language:co(),$browser_language_prefix:(r=co(),\"string\"==typeof r?r.split(\"-\")[0]:void 0),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var bo=Et(\"[FeatureFlags]\"),wo=\"$active_feature_flags\",So=\"$override_feature_flags\",ko=\"$feature_flag_payloads\",$o=\"$override_feature_flag_payloads\",xo=\"$feature_flag_request_id\",Eo=t=>{var i={};for(var[e,r]of Ft(t||{}))r&&(i[e]=r);return i},Po=t=>{var i=t.flags;return i?(t.featureFlags=Object.fromEntries(Object.keys(i).map((t=>{var e;return[t,null!==(e=i[t].variant)&&void 0!==e?e:i[t].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(i).filter((t=>i[t].enabled)).filter((t=>{var e;return null==(e=i[t].metadata)?void 0:e.payload})).map((t=>{var e;return[t,null==(e=i[t].metadata)?void 0:e.payload]})))):bo.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),t},Ro=function(t){return t.FeatureFlags=\"feature_flags\",t.Recordings=\"recordings\",t}({});class Io{constructor(t){this.be=!1,this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this._instance=t,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.xe=!0;else{var t=!this.Pe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Re({disableFlags:t})}}get hasLoadedFlags(){return this.we}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(pi),i=this._instance.get_property(So),e=this._instance.get_property($o);if(!e&&!i)return t||{};var r=Mt({},t||{}),s=[...new Set([...Object.keys(e||{}),...Object.keys(i||{})])];for(var n of s){var o,a,l=r[n],u=null==i?void 0:i[n],h=C(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=C(u)?l.variant:\"string\"==typeof u?u:void 0,v=null==e?void 0:e[n],c=g({},l,{enabled:h,variant:h?null!=d?d:null==l?void 0:l.variant:void 0});if(h!==(null==l?void 0:l.enabled)&&(c.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(c.original_variant=null==l?void 0:l.variant),v)c.metadata=g({},null==l?void 0:l.metadata,{payload:v,original_payload:null==l||null==(a=l.metadata)?void 0:a.payload});r[n]=c}return this.be||(bo.warn(\" Overriding feature flag details!\",{flagDetails:t,overriddenPayloads:e,finalDetails:r}),this.be=!0),r}getFlagVariants(){var t=this._instance.get_property(ci),i=this._instance.get_property(So);if(!i)return t||{};for(var e=Mt({},t),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.be||(bo.warn(\" Overriding feature flags!\",{enabledFlags:t,overriddenFlags:i,finalFlags:e}),this.be=!0),e}getFlagPayloads(){var t=this._instance.get_property(ko),i=this._instance.get_property($o);if(!i)return t||{};for(var e=Mt({},t||{}),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.be||(bo.warn(\" Overriding feature flag payloads!\",{flagPayloads:t,overriddenPayloads:i,finalPayloads:e}),this.be=!0),e}reloadFeatureFlags(){this.ke||this._instance.config.advanced_disable_feature_flags||this.Pe||(this.Pe=setTimeout((()=>{this.Re()}),5))}Ie(){clearTimeout(this.Pe),this.Pe=void 0}ensureFlagsLoaded(){this.we||this.Se||this.Pe||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.ke=t}Re(t){var i;if(this.Ie(),!this._instance.L())if(this.Se)this.$e=!0;else{var e={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},(null==(i=this._instance.persistence)?void 0:i.get_initial_props())||{},this._instance.get_property(gi)||{}),group_properties:this._instance.get_property(_i)};(null!=t&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(e.disable_flags=!0);var r=this._instance.config.__preview_remote_config,s=r?\"/flags/?v=2\":\"/flags/?v=2&config=true\",n=this._instance.config.advanced_only_evaluate_survey_feature_flags?\"&only_evaluate_survey_feature_flags=true\":\"\",o=this._instance.requestRouter.endpointFor(\"api\",s+n);r&&(e.timezone=_o()),this.Se=!0,this._instance.Te({method:\"POST\",url:o,data:e,compression:this._instance.config.disable_compression?void 0:de.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:t=>{var i,r,s=!0;(200===t.statusCode&&(this.$e||(this.$anon_distinct_id=void 0),s=!1),this.Se=!1,this.xe)||(this.xe=!0,this._instance.Ce(null!==(r=t.json)&&void 0!==r?r:{}));if(!e.disable_flags||this.$e)if(this.Ee=!s,t.json&&null!=(i=t.json.quotaLimited)&&i.includes(Ro.FeatureFlags))bo.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\");else{var n;if(!e.disable_flags)this.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},s);this.$e&&(this.$e=!1,this.Re())}}})}}getFeatureFlag(t,i){if(void 0===i&&(i={}),this.we||this.getFlags()&&this.getFlags().length>0){var e=this.getFlagVariants()[t],r=\"\"+e,s=this._instance.get_property(xo)||void 0,n=this._instance.get_property(bi)||{};if((i.send_event||!(\"send_event\"in i))&&(!(t in n)||!n[t].includes(r))){var o,a,l,u,h,d,v,c,f;P(n[t])?n[t].push(r):n[t]=[r],null==(o=this._instance.persistence)||o.register({[bi]:n});var p=this.getFeatureFlagDetails(t),g={$feature_flag:t,$feature_flag_response:e,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(a=this._instance.config.bootstrap)||null==(a=a.featureFlags)?void 0:a[t])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[t])||null,$used_bootstrap_value:!this.Ee};C(null==p||null==(u=p.metadata)?void 0:u.version)||(g.$feature_flag_version=p.metadata.version);var _,m=null!==(h=null==p||null==(d=p.reason)?void 0:d.description)&&void 0!==h?h:null==p||null==(v=p.reason)?void 0:v.code;if(m&&(g.$feature_flag_reason=m),null!=p&&null!=(c=p.metadata)&&c.id&&(g.$feature_flag_id=p.metadata.id),C(null==p?void 0:p.original_variant)&&C(null==p?void 0:p.original_enabled)||(g.$feature_flag_original_response=C(p.original_variant)?p.original_enabled:p.original_variant),null!=p&&null!=(f=p.metadata)&&f.original_payload)g.$feature_flag_original_payload=null==p||null==(_=p.metadata)?void 0:_.original_payload;this._instance.capture(\"$feature_flag_called\",g)}return e}bo.warn('getFeatureFlag for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,i){var e=this._instance.config.token;this._instance.Te({method:\"POST\",url:this._instance.requestRouter.endpointFor(\"api\",\"/flags/?v=2&config=true\"),data:{distinct_id:this._instance.get_distinct_id(),token:e},compression:this._instance.config.disable_compression?void 0:de.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,s=null==(r=e.json)?void 0:r.featureFlagPayloads;i((null==s?void 0:s[t])||void 0)}})}isFeatureEnabled(t,i){if(void 0===i&&(i={}),this.we||this.getFlags()&&this.getFlags().length>0){var e=this.getFeatureFlag(t,i);return C(e)?void 0:!!e}bo.warn('isFeatureEnabled for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((i=>i!==t))}receivedFeatureFlags(t,i){if(this._instance.persistence){this.we=!0;var e=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(t,i,e,r,s){void 0===e&&(e={}),void 0===r&&(r={}),void 0===s&&(s={});var n=Po(t),o=n.flags,a=n.featureFlags,l=n.featureFlagPayloads;if(a){var u=t.requestId;if(P(a)){bo.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var h={};if(a)for(var d=0;d<a.length;d++)h[a[d]]=!0;i&&i.register({[wo]:a,[ci]:h})}else{var v=a,c=l,f=o;t.errorsWhileComputingFlags&&(v=g({},e,v),c=g({},r,c),f=g({},s,f)),i&&i.register(g({[wo]:Object.keys(Eo(v)),[ci]:v||{},[ko]:c||{},[pi]:f||{}},u?{[xo]:u}:{}))}}}(t,this._instance.persistence,e,r,s),this.Me(i)}}override(t,i){void 0===i&&(i=!1),bo.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:t,suppressWarning:i})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return bo.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===t)return this._instance.persistence.unregister(So),this._instance.persistence.unregister($o),void this.Me();if(t&&\"object\"==typeof t&&(\"flags\"in t||\"payloads\"in t)){var i,e=t;if(this.be=Boolean(null!==(i=e.suppressWarning)&&void 0!==i&&i),\"flags\"in e)if(!1===e.flags)this._instance.persistence.unregister(So);else if(e.flags)if(P(e.flags)){for(var r={},s=0;s<e.flags.length;s++)r[e.flags[s]]=!0;this._instance.persistence.register({[So]:r})}else this._instance.persistence.register({[So]:e.flags});return\"payloads\"in e&&(!1===e.payloads?this._instance.persistence.unregister($o):e.payloads&&this._instance.persistence.register({[$o]:e.payloads})),void this.Me()}this.Me()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.we){var{flags:i,flagVariants:e}=this.Oe();t(i,e)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,i,e){var r,s=(this._instance.get_property(fi)||[]).find((i=>i.flagKey===t)),n={[\"$feature_enrollment/\"+t]:i},o={$feature_flag:t,$feature_enrollment:i,$set:n};s&&(o.$early_access_feature_name=s.name),e&&(o.$feature_enrollment_stage=e),this._instance.capture(\"$feature_enrollment_update\",o),this.setPersonPropertiesForFlags(n,!1);var a=g({},this.getFlagVariants(),{[t]:i});null==(r=this._instance.persistence)||r.register({[wo]:Object.keys(Eo(a)),[ci]:a}),this.Me()}getEarlyAccessFeatures(t,i,e){void 0===i&&(i=!1);var r=this._instance.get_property(fi),s=e?\"&\"+e.map((t=>\"stage=\"+t)).join(\"&\"):\"\";if(r&&!i)return t(r);this._instance.Te({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\"+this._instance.config.token+s),method:\"GET\",callback:i=>{var e,r;if(i.json){var s=i.json.earlyAccessFeatures;return null==(e=this._instance.persistence)||e.unregister(fi),null==(r=this._instance.persistence)||r.register({[fi]:s}),t(s)}}})}Oe(){var t=this.getFlags(),i=this.getFlagVariants();return{flags:t.filter((t=>i[t])),flagVariants:Object.keys(i).filter((t=>i[t])).reduce(((t,e)=>(t[e]=i[e],t)),{})}}Me(t){var{flags:i,flagVariants:e}=this.Oe();this.featureFlagEventHandlers.forEach((r=>r(i,e,{errorsLoading:t})))}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(gi)||{};this._instance.register({[gi]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(gi)}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(_i)||{};0!==Object.keys(e).length&&Object.keys(e).forEach((i=>{e[i]=g({},e[i],t[i]),delete t[i]})),this._instance.register({[_i]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var i=this._instance.get_property(_i)||{};this._instance.register({[_i]:g({},i,{[t]:{}})})}else this._instance.unregister(_i)}reset(){this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.$anon_distinct_id=void 0,this.Ie(),this.be=!1}}var To=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Co{constructor(t,i){this.A=t,this.props={},this.Fe=!1,this.Ae=(t=>{var i=\"\";return t.token&&(i=t.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),t.persistence_name?\"ph_\"+t.persistence_name:\"ph_\"+i+\"_posthog\"})(t),this.it=this.De(t),this.load(),t.debug&&xt.info(\"Persistence loaded\",t.persistence,g({},this.props)),this.update_config(t,t,i),this.save()}isDisabled(){return!!this.je}De(t){-1===To.indexOf(t.persistence.toLowerCase())&&(xt.critical(\"Unknown persistence type \"+t.persistence+\"; falling back to localStorage+cookie\"),t.persistence=\"localStorage+cookie\");var i=t.persistence.toLowerCase();return\"localstorage\"===i&&Le.G()?Le:\"localstorage+cookie\"===i&&Ue.G()?Ue:\"sessionstorage\"===i&&He.G()?He:\"memory\"===i?qe:\"cookie\"===i?De:Ue.G()?Ue:De}properties(){var t={};return Ct(this.props,(function(i,e){if(e===ci&&I(i))for(var r=Object.keys(i),n=0;n<r.length;n++)t[\"$feature/\"+r[n]]=i[r[n]];else a=e,l=!1,(F(o=Ti)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Ct(o,(function(t){if(l||(l=t===a))return It})),l))||(t[e]=i);var o,a,l})),t}load(){if(!this.je){var t=this.it.K(this.Ae);t&&(this.props=Mt({},t))}}save(){this.je||this.it.Y(this.Ae,this.props,this.Le,this.Ne,this.Ue,this.A.debug)}remove(){this.it.X(this.Ae,!1),this.it.X(this.Ae,!0)}clear(){this.remove(),this.props={}}register_once(t,i,e){if(I(t)){C(i)&&(i=\"None\"),this.Le=C(e)?this.ze:e;var r=!1;if(Ct(t,((t,e)=>{this.props.hasOwnProperty(e)&&this.props[e]!==i||(this.props[e]=t,r=!0)})),r)return this.save(),!0}return!1}register(t,i){if(I(t)){this.Le=C(i)?this.ze:i;var e=!1;if(Ct(t,((i,r)=>{t.hasOwnProperty(r)&&this.props[r]!==i&&(this.props[r]=i,e=!0)})),e)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.Fe){var t=uo(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);T(jt(t))||this.register(t),this.Fe=!0}}update_search_keyword(){var t;this.register((t=null==o?void 0:o.referrer)?vo(t):{})}update_referrer_info(){var t;this.register_once({$referrer:fo(),$referring_domain:null!=o&&o.referrer&&(null==(t=fe(o.referrer))?void 0:t.host)||\"$direct\"},void 0)}set_initial_person_info(){this.props[$i]||this.props[xi]||this.register_once({[Ei]:po(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Ct([xi,$i],(i=>{var e=this.props[i];e&&Ct(e,(function(i,e){t[\"$initial_\"+w(e)]=i}))}));var i,e,r=this.props[Ei];if(r){var s=(i=go(r),e={},Ct(i,(function(t,i){e[\"$initial_\"+w(i)]=t})),e);Mt(t,s)}return t}safe_merge(t){return Ct(this.props,(function(i,e){e in t||(t[e]=i)})),t}update_config(t,i,e){if(this.ze=this.Le=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!e),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==i.persistence){var r=this.De(t),s=this.props;this.clear(),this.it=r,this.props=s,this.save()}}set_disabled(t){this.je=t,this.je?this.remove():this.save()}set_cross_subdomain(t){t!==this.Ne&&(this.Ne=t,this.remove(),this.save())}set_secure(t){t!==this.Ue&&(this.Ue=t,this.remove(),this.save())}set_event_timer(t,i){var e=this.props[Wt]||{};e[t]=i,this.props[Wt]=e,this.save()}remove_event_timer(t){var i=(this.props[Wt]||{})[t];return C(i)||(delete this.props[Wt][t],this.save()),i}get_property(t){return this.props[t]}set_property(t,i){this.props[t]=i,this.save()}}var Mo=function(t){return t.Button=\"button\",t.Tab=\"tab\",t.Selector=\"selector\",t}({}),Oo=function(t){return t.TopLeft=\"top_left\",t.TopRight=\"top_right\",t.TopCenter=\"top_center\",t.MiddleLeft=\"middle_left\",t.MiddleRight=\"middle_right\",t.MiddleCenter=\"middle_center\",t.Left=\"left\",t.Center=\"center\",t.Right=\"right\",t.NextToTrigger=\"next_to_trigger\",t}({}),Fo=function(t){return t.Popover=\"popover\",t.API=\"api\",t.Widget=\"widget\",t.ExternalSurvey=\"external_survey\",t}({}),Ao=function(t){return t.Open=\"open\",t.MultipleChoice=\"multiple_choice\",t.SingleChoice=\"single_choice\",t.Rating=\"rating\",t.Link=\"link\",t}({}),Do=function(t){return t.NextQuestion=\"next_question\",t.End=\"end\",t.ResponseBased=\"response_based\",t.SpecificQuestion=\"specific_question\",t}({}),jo=function(t){return t.Once=\"once\",t.Recurring=\"recurring\",t.Always=\"always\",t}({}),Lo=function(t){return t.SHOWN=\"survey shown\",t.DISMISSED=\"survey dismissed\",t.SENT=\"survey sent\",t}({}),No=function(t){return t.SURVEY_ID=\"$survey_id\",t.SURVEY_NAME=\"$survey_name\",t.SURVEY_RESPONSE=\"$survey_response\",t.SURVEY_ITERATION=\"$survey_iteration\",t.SURVEY_ITERATION_START_DATE=\"$survey_iteration_start_date\",t.SURVEY_PARTIALLY_COMPLETED=\"$survey_partially_completed\",t.SURVEY_SUBMISSION_ID=\"$survey_submission_id\",t.SURVEY_QUESTIONS=\"$survey_questions\",t.SURVEY_COMPLETED=\"$survey_completed\",t}({}),Uo=function(t){return t.Popover=\"popover\",t.Inline=\"inline\",t}({});class zo{constructor(){this.qe={},this.qe={}}on(t,i){return this.qe[t]||(this.qe[t]=[]),this.qe[t].push(i),()=>{this.qe[t]=this.qe[t].filter((t=>t!==i))}}emit(t,i){for(var e of this.qe[t]||[])e(i);for(var r of this.qe[\"*\"]||[])r(t,i)}}class qo{constructor(t){this.Be=new zo,this.He=(t,i)=>this.We(t,i)&&this.Ge(t,i)&&this.Ve(t,i),this.We=(t,i)=>null==i||!i.event||(null==t?void 0:t.event)===(null==i?void 0:i.event),this._instance=t,this.Je=new Set,this.Ke=new Set}init(){var t;if(!C(null==(t=this._instance)?void 0:t.Ye)){var i;null==(i=this._instance)||i.Ye(((t,i)=>{this.on(t,i)}))}}register(t){var i,e;if(!C(null==(i=this._instance)?void 0:i.Ye)&&(t.forEach((t=>{var i,e;null==(i=this.Ke)||i.add(t),null==(e=t.steps)||e.forEach((t=>{var i;null==(i=this.Je)||i.add((null==t?void 0:t.event)||\"\")}))})),null!=(e=this._instance)&&e.autocapture)){var r,s=new Set;t.forEach((t=>{var i;null==(i=t.steps)||i.forEach((t=>{null!=t&&t.selector&&s.add(null==t?void 0:t.selector)}))})),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(t,i){var e;null!=i&&0!=t.length&&(this.Je.has(t)||this.Je.has(null==i?void 0:i.event))&&this.Ke&&(null==(e=this.Ke)?void 0:e.size)>0&&this.Ke.forEach((t=>{this.Xe(i,t)&&this.Be.emit(\"actionCaptured\",t.name)}))}Qe(t){this.onAction(\"actionCaptured\",(i=>t(i)))}Xe(t,i){if(null==(null==i?void 0:i.steps))return!1;for(var e of i.steps)if(this.He(t,e))return!0;return!1}onAction(t,i){return this.Be.on(t,i)}Ge(t,i){if(null!=i&&i.url){var e,r=null==t||null==(e=t.properties)?void 0:e.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!qo.Ze(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||\"contains\"))return!1}return!0}static Ze(i,e,r){switch(r){case\"regex\":return!!t&&en(i,e);case\"exact\":return e===i;case\"contains\":var s=qo.tr(e).replace(/_/g,\".\").replace(/%/g,\".*\");return en(i,s);default:return!1}}static tr(t){return t.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}Ve(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.ir(t).some((t=>!(null!=i&&i.href&&!qo.Ze(t.href||\"\",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||\"exact\"))&&((null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!qo.Ze(t.text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\")&&!qo.Ze(t.$el_text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\"))))))return!1;if(null!=i&&i.selector){var e,r=null==t||null==(e=t.properties)?void 0:e.$element_selectors;if(!r)return!1;if(!r.includes(null==i?void 0:i.selector))return!1}return!0}ir(t){return null==(null==t?void 0:t.properties.$elements)?[]:null==t?void 0:t.properties.$elements}}var Bo=Et(\"[Surveys]\");var Ho=\"seenSurvey_\",Wo=(t,i)=>{var e=\"$survey_\"+i+\"/\"+t.id;return t.current_iteration&&t.current_iteration>0&&(e=\"$survey_\"+i+\"/\"+t.id+\"/\"+t.current_iteration),e},Go=t=>{var i=\"\"+Ho+t.id;return t.current_iteration&&t.current_iteration>0&&(i=\"\"+Ho+t.id+\"_\"+t.current_iteration),i},Vo=[Fo.Popover,Fo.Widget,Fo.API],Jo={ignoreConditions:!1,ignoreDelay:!1,displayType:Uo.Popover};class Ko{constructor(t){this._instance=t,this.er=new Map,this.rr=new Map}register(t){var i;C(null==(i=this._instance)?void 0:i.Ye)||(this.sr(t),this.nr(t))}nr(t){var i=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.actions)&&(null==(e=t.conditions)||null==(e=e.actions)||null==(e=e.values)?void 0:e.length)>0}));if(0!==i.length){if(null==this.ar){this.ar=new qo(this._instance),this.ar.init();this.ar.Qe((t=>{this.onAction(t)}))}i.forEach((t=>{var i,e,r,s,n;t.conditions&&null!=(i=t.conditions)&&i.actions&&null!=(e=t.conditions)&&null!=(e=e.actions)&&e.values&&(null==(r=t.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.ar)||s.register(t.conditions.actions.values),null==(n=t.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach((i=>{if(i&&i.name){var e=this.rr.get(i.name);e&&e.push(t.id),this.rr.set(i.name,e||[t.id])}})))}))}}sr(t){var i;if(0!==t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.events)&&(null==(e=t.conditions)||null==(e=e.events)||null==(e=e.values)?void 0:e.length)>0})).length){null==(i=this._instance)||i.Ye(((t,i)=>{this.onEvent(t,i)})),t.forEach((t=>{var i;null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||i.forEach((i=>{if(i&&i.name){var e=this.er.get(i.name);e&&e.push(t.id),this.er.set(i.name,e||[t.id])}}))}))}}onEvent(t,i){var e,r,s=(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[yi])||[];if(Lo.SHOWN===t&&i&&s.length>0){var n;Bo.info(\"survey event matched, removing survey from activated surveys\",{event:t,eventPayload:i,existingActivatedSurveys:s});var o=null==i||null==(n=i.properties)?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.lr(s))}}else if(this.er.has(t)){Bo.info(\"survey event name matched\",{event:t,eventPayload:i,surveys:this.er.get(t)});var l=[];null==(r=this._instance)||r.getSurveys((i=>{l=i.filter((i=>{var e;return null==(e=this.er.get(t))?void 0:e.includes(i.id)}))}));var u=l.filter((e=>{var r,s=null==(r=e.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find((i=>i.name===t));return!!s&&(!s.propertyFilters||Object.entries(s.propertyFilters).every((t=>{var e,[r,s]=t,n=null==i||null==(e=i.properties)?void 0:e[r];if(C(n)||F(n))return!1;var o=[String(n)],a=sn[s.operator];return a?a(s.values,o):(Bo.warn(\"Unknown property comparison operator: \"+s.operator),!1)})))}));this.lr(s.concat(u.map((t=>t.id))||[]))}}onAction(t){var i,e=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[yi])||[];this.rr.has(t)&&this.lr(e.concat(this.rr.get(t)||[]))}lr(t){var i;Bo.info(\"updating activated surveys\",{activatedSurveys:t}),null==(i=this._instance)||null==(i=i.persistence)||i.register({[yi]:[...new Set(t)]})}getSurveys(){var t,i=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[yi];return i||[]}getEventToSurveys(){return this.er}ur(){return this.ar}}class Yo{constructor(t){this.hr=void 0,this._surveyManager=null,this.dr=!1,this.vr=!1,this.cr=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var i=t.surveys;if(A(i))return Bo.warn(\"Flags not loaded yet. Not loading surveys.\");var e=P(i);this.hr=e?i.length>0:i,Bo.info(\"flags response received, isSurveysEnabled: \"+this.hr),this.loadIfEnabled()}}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");for(var t=[],i=0;i<localStorage.length;i++){var e=localStorage.key(i);(null!=e&&e.startsWith(Ho)||null!=e&&e.startsWith(\"inProgressSurvey_\"))&&t.push(e)}t.forEach((t=>localStorage.removeItem(t)))}loadIfEnabled(){if(!this._surveyManager)if(this.vr)Bo.info(\"Already initializing surveys, skipping...\");else if(this._instance.config.disable_surveys)Bo.info(\"Disabled. Not loading surveys.\");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Bo.info(\"Not loading surveys in cookieless mode without consent.\");else{var t=null==v?void 0:v.__PosthogExtensions__;if(t){if(!C(this.hr)||this._instance.config.advanced_enable_surveys){var i=this.hr||this._instance.config.advanced_enable_surveys;this.vr=!0;try{var e=t.generateSurveys;if(e)return void this.pr(e,i);var r=t.loadExternalDependency;if(!r)return void this.gr(\"PostHog loadExternalDependency extension not found.\");r(this._instance,\"surveys\",(e=>{e||!t.generateSurveys?this.gr(\"Could not load surveys script\",e):this.pr(t.generateSurveys,i)}))}catch(t){throw this.gr(\"Error initializing surveys\",t),t}finally{this.vr=!1}}}else Bo.error(\"PostHog Extensions not found.\")}}pr(t,i){this._surveyManager=t(this._instance,i),this._surveyEventReceiver=new Ko(this._instance),Bo.info(\"Surveys loaded successfully\"),this._r({isLoaded:!0})}gr(t,i){Bo.error(t,i),this._r({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.cr.push(t),this._surveyManager&&this._r({isLoaded:!0}),()=>{this.cr=this.cr.filter((i=>i!==t))}}getSurveys(t,i){if(void 0===i&&(i=!1),this._instance.config.disable_surveys)return Bo.info(\"Disabled. Not loading surveys.\"),t([]);var e=this._instance.get_property(mi);if(e&&!i)return t(e,{isLoaded:!0});if(this.dr)return t([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this.dr=!0,this._instance.Te({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\"+this._instance.config.token),method:\"GET\",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var e;this.dr=!1;var r=i.statusCode;if(200!==r||!i.json){var s=\"Surveys API could not be loaded, status: \"+r;return Bo.error(s),t([],{isLoaded:!1,error:s})}var n,o=i.json.surveys||[],a=o.filter((t=>function(t){return!(!t.start_date||t.end_date)}(t)&&(function(t){var i;return!(null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||!i.length)}(t)||function(t){var i;return!(null==(i=t.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length)}(t))));a.length>0&&(null==(n=this._surveyEventReceiver)||n.register(a));return null==(e=this._instance.persistence)||e.register({[mi]:o}),t(o,{isLoaded:!0})}})}catch(t){throw this.dr=!1,t}}_r(t){for(var i of this.cr)try{if(!t.isLoaded)return i([],t);this.getSurveys(i)}catch(t){Bo.error(\"Error in survey callback\",t)}}getActiveMatchingSurveys(t,i){if(void 0===i&&(i=!1),!A(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,i);Bo.warn(\"init was not called\")}mr(t){var i=null;return this.getSurveys((e=>{var r;i=null!==(r=e.find((i=>i.id===t)))&&void 0!==r?r:null})),i}yr(t){if(A(this._surveyManager))return{eligible:!1,reason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=\"string\"==typeof t?this.mr(t):t;return i?this._surveyManager.checkSurveyEligibility(i):{eligible:!1,reason:\"Survey not found\"}}canRenderSurvey(t){if(A(this._surveyManager))return Bo.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=this.yr(t);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(t,i){return A(this._surveyManager)?(Bo.warn(\"init was not called\"),Promise.resolve({visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"})):new Promise((e=>{this.getSurveys((i=>{var r,s=null!==(r=i.find((i=>i.id===t)))&&void 0!==r?r:null;if(s){var n=this.yr(s);e({visible:n.eligible,disabledReason:n.reason})}else e({visible:!1,disabledReason:\"Survey not found\"})}),i)}))}renderSurvey(t,i){var e;if(A(this._surveyManager))Bo.warn(\"init was not called\");else{var r=\"string\"==typeof t?this.mr(t):t;if(null!=r&&r.id)if(Vo.includes(r.type)){var s=null==o?void 0:o.querySelector(i);if(s)return null!=(e=r.appearance)&&e.surveyPopupDelaySeconds?(Bo.info(\"Rendering survey \"+r.id+\" with delay of \"+r.appearance.surveyPopupDelaySeconds+\" seconds\"),void setTimeout((()=>{var t,i;Bo.info(\"Rendering survey \"+r.id+\" with delay of \"+(null==(t=r.appearance)?void 0:t.surveyPopupDelaySeconds)+\" seconds\"),null==(i=this._surveyManager)||i.renderSurvey(r,s),Bo.info(\"Survey \"+r.id+\" rendered\")}),1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);Bo.warn(\"Survey element not found\")}else Bo.warn(\"Surveys of type \"+r.type+\" cannot be rendered in the app\");else Bo.warn(\"Survey not found\")}}displaySurvey(t,i){var e;if(A(this._surveyManager))Bo.warn(\"init was not called\");else{var r=this.mr(t);if(r){var s=r;if(null!=(e=r.appearance)&&e.surveyPopupDelaySeconds&&i.ignoreDelay&&(s=g({},r,{appearance:g({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===i.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void Bo.warn(\"Survey is not eligible to be displayed: \",n.disabledReason)}i.displayType!==Uo.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,i.selector)}else Bo.warn(\"Survey not found\")}}}var Xo=Et(\"[RateLimiter]\");class Qo{constructor(t){var i,e;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=t=>{var i=t.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach((t=>{Xo.info((t||\"events\")+\" is quota limited.\"),this.serverLimits[t]=(new Date).getTime()+6e4}))}catch(t){return void Xo.warn('could not rate limit - continuing. Error: \"'+(null==t?void 0:t.message)+'\"',{text:i})}},this.instance=t,this.captureEventsPerSecond=(null==(i=t.config.rate_limiting)?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(e=t.config.rate_limiting)?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var i,e,r;void 0===t&&(t=!1);var s=(new Date).getTime(),n=null!==(i=null==(e=this.instance.persistence)?void 0:e.get_property(ki))&&void 0!==i?i:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||t||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \"+this.captureEventsPerSecond+\" events per second and \"+this.captureEventsBurstLimit+\" events burst limit.\"},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(r=this.instance.persistence)||r.set_property(ki,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(t){var i=this.serverLimits[t||\"events\"]||!1;return!1!==i&&(new Date).getTime()<i}}var Zo=Et(\"[RemoteConfig]\");class ta{constructor(t){this._instance=t}get remoteConfig(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.config}br(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.loadExternalDependency?null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"remote-config\",(()=>t(this.remoteConfig))):(Zo.error(\"PostHog Extensions not found. Cannot load remote config.\"),t())}wr(t){this._instance.Te({method:\"GET\",url:this._instance.requestRouter.endpointFor(\"assets\",\"/array/\"+this._instance.config.token+\"/config\"),callback:i=>{t(i.json)}})}load(){try{if(this.remoteConfig)return Zo.info(\"Using preloaded remote config\",this.remoteConfig),void this.Ce(this.remoteConfig);if(this._instance.L())return void Zo.warn(\"Remote config is disabled. Falling back to local config.\");this.br((t=>{if(!t)return Zo.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this.wr((t=>{this.Ce(t)}));this.Ce(t)}))}catch(t){Zo.error(\"Error loading remote config\",t)}}Ce(t){t?this._instance.config.__preview_remote_config?(this._instance.Ce(t),!1!==t.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Zo.info(\"__preview_remote_config is disabled. Logging config instead\",t):Zo.error(\"Failed to fetch remote config from PostHog.\")}}var ia=3e3;class ea{constructor(t,i){this.Sr=!0,this.kr=[],this.$r=G((null==i?void 0:i.flush_interval_ms)||ia,250,5e3,xt.createLogger(\"flush interval\"),ia),this.Er=t}enqueue(t){this.kr.push(t),this.Pr||this.Rr()}unload(){this.Ir();var t=this.kr.length>0?this.Tr():{},i=Object.values(t);[...i.filter((t=>0===t.url.indexOf(\"/e\"))),...i.filter((t=>0!==t.url.indexOf(\"/e\")))].map((t=>{this.Er(g({},t,{transport:\"sendBeacon\"}))}))}enable(){this.Sr=!1,this.Rr()}Rr(){var t=this;this.Sr||(this.Pr=setTimeout((()=>{if(this.Ir(),this.kr.length>0){var i=this.Tr(),e=function(){var e=i[r],s=(new Date).getTime();e.data&&P(e.data)&&Ct(e.data,(t=>{t.offset=Math.abs(t.timestamp-s),delete t.timestamp})),t.Er(e)};for(var r in i)e()}}),this.$r))}Ir(){clearTimeout(this.Pr),this.Pr=void 0}Tr(){var t={};return Ct(this.kr,(i=>{var e,r=i,s=(r?r.batchKey:null)||r.url;C(t[s])&&(t[s]=g({},r,{data:[]})),null==(e=t[s].data)||e.push(r.data)})),this.kr=[],t}}var ra=[\"retriesPerformedSoFar\"];class sa{constructor(i){this.Cr=!1,this.Mr=3e3,this.kr=[],this._instance=i,this.kr=[],this.Or=!0,!C(t)&&\"onLine\"in t.navigator&&(this.Or=t.navigator.onLine,qt(t,\"online\",(()=>{this.Or=!0,this.ne()})),qt(t,\"offline\",(()=>{this.Or=!1})))}get length(){return this.kr.length}retriableRequest(t){var{retriesPerformedSoFar:i}=t,e=_(t,ra);D(i)&&i>0&&(e.url=Xs(e.url,{retry_count:i})),this._instance.Te(g({},e,{callback:t=>{200!==t.statusCode&&(t.statusCode<400||t.statusCode>=500)&&(null!=i?i:0)<10?this.Fr(g({retriesPerformedSoFar:i},e)):null==e.callback||e.callback(t)}}))}Fr(t){var i=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=i+1;var e=function(t){var i=3e3*Math.pow(2,t),e=i/2,r=Math.min(18e5,i),s=(Math.random()-.5)*(r-e);return Math.ceil(r+s)}(i),r=Date.now()+e;this.kr.push({retryAt:r,requestOptions:t});var s=\"Enqueued failed request for retry in \"+e;navigator.onLine||(s+=\" (Browser is offline)\"),xt.warn(s),this.Cr||(this.Cr=!0,this.Ar())}Ar(){this.Dr&&clearTimeout(this.Dr),this.Dr=setTimeout((()=>{this.Or&&this.kr.length>0&&this.ne(),this.Ar()}),this.Mr)}ne(){var t=Date.now(),i=[],e=this.kr.filter((e=>e.retryAt<t||(i.push(e),!1)));if(this.kr=i,e.length>0)for(var{requestOptions:r}of e)this.retriableRequest(r)}unload(){for(var{requestOptions:t}of(this.Dr&&(clearTimeout(this.Dr),this.Dr=void 0),this.kr))try{this._instance.Te(g({},t,{transport:\"sendBeacon\"}))}catch(t){xt.error(t)}this.kr=[]}}class na{constructor(t){this.jr=()=>{var t,i,e,r;this.Lr||(this.Lr={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.Lr.lastScrollY=Math.ceil(n),this.Lr.maxScrollY=Math.max(n,null!==(t=this.Lr.maxScrollY)&&void 0!==t?t:0),this.Lr.maxScrollHeight=Math.max(o,null!==(i=this.Lr.maxScrollHeight)&&void 0!==i?i:0),this.Lr.lastContentY=a,this.Lr.maxContentY=Math.max(a,null!==(e=this.Lr.maxContentY)&&void 0!==e?e:0),this.Lr.maxContentHeight=Math.max(l,null!==(r=this.Lr.maxContentHeight)&&void 0!==r?r:0)},this._instance=t}getContext(){return this.Lr}resetContext(){var t=this.Lr;return setTimeout(this.jr,0),t}startMeasuringScrollPosition(){qt(t,\"scroll\",this.jr,{capture:!0}),qt(t,\"scrollend\",this.jr,{capture:!0}),qt(t,\"resize\",this.jr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var i=P(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var e of i){var r=null==t?void 0:t.document.querySelector(e);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var oa=t=>po(null==t?void 0:t.config.mask_personal_data_properties,null==t?void 0:t.config.custom_personal_data_properties);class aa{constructor(t,i,e,r){this.Nr=t=>{var i=this.Ur();if(!i||i.sessionId!==t){var e={sessionId:t,props:this.zr(this._instance)};this.qr.register({[Si]:e})}},this._instance=t,this.Br=i,this.qr=e,this.zr=r||oa,this.Br.onSessionId(this.Nr)}Ur(){return this.qr.props[Si]}getSetOnceProps(){var t,i=null==(t=this.Ur())?void 0:t.props;return i?\"r\"in i?go(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var t={};return Ct(jt(this.getSetOnceProps()),((i,e)=>{\"$current_url\"===e&&(e=\"url\"),t[\"$session_entry_\"+w(e)]=i})),t}}var la=Et(\"[SessionId]\");class ua{on(t,i){return this.Hr.on(t,i)}constructor(t,i,e){var r;if(this.Wr=[],this.Hr=new zo,this.Gr=(t,i)=>Math.abs(t-i)>this.sessionTimeoutMs,!t.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(\"always\"===t.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode=\"always\"');this.A=t.config,this.qr=t.persistence,this.pi=void 0,this.Ft=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Vr=i||Ce,this.Jr=e||Ce;var s=this.A.persistence_name||this.A.token,n=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*G(n,60,36e3,la.createLogger(\"session_idle_timeout_seconds\"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Kr(),this.Yr=\"ph_\"+s+\"_window_id\",this.Xr=\"ph_\"+s+\"_primary_window_exists\",this.Qr()){var o=He.K(this.Yr),a=He.K(this.Xr);o&&!a?this.pi=o:He.X(this.Yr),He.Y(this.Xr,!0)}if(null!=(r=this.A.bootstrap)&&r.sessionID)try{var l=(t=>{var i=t.replace(/-/g,\"\");if(32!==i.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==i[12])throw new Error(\"Not a UUIDv7\");return parseInt(i.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Zr(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(t){la.error(\"Invalid sessionID in bootstrap\",t)}this.ts()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return C(this.Wr)&&(this.Wr=[]),this.Wr.push(t),this.Ft&&t(this.Ft,this.pi),()=>{this.Wr=this.Wr.filter((i=>i!==t))}}Qr(){return\"memory\"!==this.A.persistence&&!this.qr.je&&He.G()}es(t){t!==this.pi&&(this.pi=t,this.Qr()&&He.Y(this.Yr,t))}rs(){return this.pi?this.pi:this.Qr()?He.K(this.Yr):null}Zr(t,i,e){t===this.Ft&&i===this._sessionActivityTimestamp&&e===this._sessionStartTimestamp||(this._sessionStartTimestamp=e,this._sessionActivityTimestamp=i,this.Ft=t,this.qr.register({[ui]:[i,t,e]}))}ss(){if(this.Ft&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ft,this._sessionStartTimestamp];var t=this.qr.props[ui];return P(t)&&2===t.length&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Zr(null,null,null)}ts(){qt(t,\"beforeunload\",(()=>{this.Qr()&&He.X(this.Xr)}),{capture:!1})}checkAndGetSessionAndWindowId(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),\"always\"===this.A.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode=\"always\"');var e=i||(new Date).getTime(),[r,s,n]=this.ss(),o=this.rs(),a=D(n)&&n>0&&Math.abs(e-n)>864e5,l=!1,u=!s,h=!t&&this.Gr(e,r);u||h||a?(s=this.Vr(),o=this.Jr(),la.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),n=e,l=!0):o||(o=this.Jr(),l=!0);var d=0===r||!t||a?e:r,v=0===n?(new Date).getTime():n;return this.es(o),this.Zr(s,d,v),t||this.Kr(),l&&this.Wr.forEach((t=>t(s,o,l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:v,changeReason:l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}Kr(){clearTimeout(this.ns),this.ns=setTimeout((()=>{var[t]=this.ss();if(this.Gr((new Date).getTime(),t)){var i=this.Ft;this.resetSessionId(),this.Hr.emit(\"forcedIdleReset\",{idleSessionId:i})}}),1.1*this.sessionTimeoutMs)}}var ha=[\"$set_once\",\"$set\"],da=Et(\"[SiteApps]\");class va{constructor(t){this._instance=t,this.os=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ls(t,i){if(i){var e=this.globalsForEvent(i);this.os.push(e),this.os.length>1e3&&(this.os=this.os.slice(10))}}get siteAppLoaders(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ye(this.ls.bind(this));this.us=()=>{t(),this.os=[],this.us=void 0}}}globalsForEvent(t){var i,e,r,s,n,o,a;if(!t)throw new Error(\"Event payload is required\");var l={},u=this._instance.get_property(\"$groups\")||[],h=this._instance.get_property(\"$stored_group_properties\")||{};for(var[d,v]of Object.entries(h))l[d]={id:u[d],type:d,properties:v};var{$set_once:c,$set:f}=t;return{event:g({},_(t,ha),{properties:g({},t.properties,f?{$set:g({},null!==(i=null==(e=t.properties)?void 0:e.$set)&&void 0!==i?i:{},f)}:{},c?{$set_once:g({},null!==(r=null==(s=t.properties)?void 0:s.$set_once)&&void 0!==r?r:{},c)}:{}),elements_chain:null!==(n=null==(o=t.properties)?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null==(a=t.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(t){var i=this.apps[t.id],e=()=>{var e;(!i.errored&&this.os.length&&(da.info(\"Processing \"+this.os.length+\" events for site app with id \"+t.id),this.os.forEach((t=>null==i.processEvent?void 0:i.processEvent(t))),i.processedBuffer=!0),Object.values(this.apps).every((t=>t.processedBuffer||t.errored)))&&(null==(e=this.us)||e.call(this))},r=!1,s=s=>{i.errored=!s,i.loaded=!0,da.info(\"Site app with id \"+t.id+\" \"+(s?\"loaded\":\"errored\")),r&&e()};try{var{processEvent:n}=t.init({posthog:this._instance,callback:t=>{s(t)}});n&&(i.processEvent=n),r=!0}catch(i){da.error(\"Error while initializing PostHog app with config id \"+t.id,i),s(!1)}if(r&&i.loaded)try{e()}catch(e){da.error(\"Error while processing buffered events PostHog app with config id \"+t.id,e),i.errored=!0}}hs(){var t=this.siteAppLoaders||[];for(var i of t)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var e of t)this.setupSiteApp(e)}ds(t){if(0!==Object.keys(this.apps).length){var i=this.globalsForEvent(t);for(var e of Object.values(this.apps))try{null==e.processEvent||e.processEvent(i)}catch(i){da.error(\"Error while processing event \"+t.event+\" for site app \"+e.id,i)}}}onRemoteConfig(t){var i,e,r,s=this;if(null!=(i=this.siteAppLoaders)&&i.length)return this.isEnabled?(this.hs(),void this._instance.on(\"eventCaptured\",(t=>this.ds(t)))):void da.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null==(e=this.us)||e.call(this),null!=(r=t.siteApps)&&r.length)if(this.isEnabled){var n=function(t){var i;v[\"__$$ph_site_app_\"+t]=s._instance,null==(i=v.__PosthogExtensions__)||null==i.loadSiteApp||i.loadSiteApp(s._instance,a,(i=>{if(i)return da.error(\"Error while initializing PostHog app with config id \"+t,i)}))};for(var{id:o,url:a}of t.siteApps)n(o)}else da.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var ca=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"leikibot\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercel-screenshot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleother\",\"google-cloudvertexbot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"google-inspectiontool\",\"bytespider\"],fa=function(t,i){if(!t)return!1;var e=t.toLowerCase();return ca.concat(i||[]).some((t=>{var i=t.toLowerCase();return-1!==e.indexOf(i)}))},pa=function(t,i){if(!t)return!1;var e=t.userAgent;if(e&&fa(e,i))return!0;try{var r=null==t?void 0:t.userAgentData;if(null!=r&&r.brands&&r.brands.some((t=>fa(null==t?void 0:t.brand,i))))return!0}catch(t){}return!!t.webdriver},ga=function(t){return t.US=\"us\",t.EU=\"eu\",t.CUSTOM=\"custom\",t}({}),_a=\"i.posthog.com\";class ma{constructor(t){this.vs={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===t?\"https://us.i.posthog.com\":t}get uiHost(){var t,i=null==(t=this.instance.config.ui_host)?void 0:t.replace(/\\/$/,\"\");return i||(i=this.apiHost.replace(\".\"+_a,\".posthog.com\")),\"https://app.posthog.com\"===i?\"https://us.posthog.com\":i}get region(){return this.vs[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.vs[this.apiHost]=ga.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.vs[this.apiHost]=ga.EU:this.vs[this.apiHost]=ga.CUSTOM),this.vs[this.apiHost]}endpointFor(t,i){if(void 0===i&&(i=\"\"),i&&(i=\"/\"===i[0]?i:\"/\"+i),\"ui\"===t)return this.uiHost+i;if(this.region===ga.CUSTOM)return this.apiHost+i;var e=_a+i;switch(t){case\"assets\":return\"https://\"+this.region+\"-assets.\"+e;case\"api\":return\"https://\"+this.region+\".\"+e}}}var ya={icontains:(i,e)=>!!t&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!t&&-1===e.href.toLowerCase().indexOf(i.toLowerCase()),regex:(i,e)=>!!t&&en(e.href,i),not_regex:(i,e)=>!!t&&!en(e.href,i),exact:(t,i)=>i.href===t,is_not:(t,i)=>i.href!==t};class ba{constructor(t){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(t){void 0===t&&(t=!1),i.getWebExperiments((t=>{ba.cs(\"retrieved web experiments from the server\"),i.fs=new Map,t.forEach((t=>{if(t.feature_flag_key){var e;if(i.fs)ba.cs(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null==(e=i.fs)||e.set(t.feature_flag_key,t);var r=i._instance.getFeatureFlag(t.feature_flag_key);M(r)&&t.variants[r]&&i.ps(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var s in t.variants){var n=t.variants[s];ba.gs(n)&&i.ps(t.name,s,n.transforms)}}))}),t)},this._instance=t,this._instance.onFeatureFlags((t=>{this.onFeatureFlags(t)}))}onFeatureFlags(t){if(this._is_bot())ba.cs(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this._instance.config.disable_web_experiments){if(A(this.fs))return this.fs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ba.cs(\"applying feature flags\",t),t.forEach((t=>{var i;if(this.fs&&null!=(i=this.fs)&&i.has(t)){var e,r=this._instance.getFeatureFlag(t),s=null==(e=this.fs)?void 0:e.get(t);r&&null!=s&&s.variants[r]&&this.ps(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var t=ba.getWindowLocation();if(null!=t&&t.search){var i=ge(null==t?void 0:t.search,\"__experiment_id\"),e=ge(null==t?void 0:t.search,\"__experiment_variant\");i&&e&&(ba.cs(\"previewing web experiments \"+i+\" && \"+e),this.getWebExperiments((t=>{this._s(parseInt(i),e,t)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,i,e){if(this._instance.config.disable_web_experiments&&!e)return t([]);var r=this._instance.get_property(\"$web_experiments\");if(r&&!i)return t(r);this._instance.Te({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\"+this._instance.config.token),method:\"GET\",callback:i=>{if(200!==i.statusCode||!i.json)return t([]);var e=i.json.experiments||[];return t(e)}})}_s(t,i,e){var r=e.filter((i=>i.id===t));r&&r.length>0&&(ba.cs(\"Previewing web experiment [\"+r[0].name+\"] with variant [\"+i+\"]\"),this.ps(r[0].name,i,r[0].variants[i].transforms))}static gs(t){return!A(t.conditions)&&(ba.ys(t)&&ba.bs(t))}static ys(t){var i;if(A(t.conditions)||A(null==(i=t.conditions)?void 0:i.url))return!0;var e,r,s,n=ba.getWindowLocation();return!!n&&(null==(e=t.conditions)||!e.url||ya[null!==(r=null==(s=t.conditions)?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](t.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static bs(t){var i;if(A(t.conditions)||A(null==(i=t.conditions)?void 0:i.utm))return!0;var e=uo();if(e.utm_source){var r,s,n,o,a,l,u,h,d=null==(r=t.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=t.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==e.utm_campaign,v=null==(n=t.conditions)||null==(n=n.utm)||!n.utm_source||(null==(o=t.conditions)||null==(o=o.utm)?void 0:o.utm_source)==e.utm_source,c=null==(a=t.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=t.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==e.utm_medium,f=null==(u=t.conditions)||null==(u=u.utm)||!u.utm_term||(null==(h=t.conditions)||null==(h=h.utm)?void 0:h.utm_term)==e.utm_term;return d&&c&&f&&v}return!1}static cs(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];xt.info(\"[WebExperiments] \"+t,e)}ps(t,i,e){this._is_bot()?ba.cs(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==i?e.forEach((e=>{if(e.selector){var r;ba.cs(\"applying transform of variant \"+i+\" for experiment \"+t+\" \",e);var s=null==(r=document)?void 0:r.querySelectorAll(e.selector);null==s||s.forEach((t=>{var i=t;e.html&&(i.innerHTML=e.html),e.css&&i.setAttribute(\"style\",e.css)}))}})):ba.cs(\"Control variants leave the page unmodified.\")}_is_bot(){return n&&this._instance?pa(n,this._instance.config.custom_blocked_useragents):void 0}}var wa=Et(\"[PostHog ExternalIntegrations]\"),Sa={intercom:\"intercom-integration\",crispChat:\"crisp-chat-integration\"};class ka{constructor(t){this._instance=t}nt(t,i){var e;null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,t,(t=>{if(t)return wa.error(\"failed to load script\",t);i()}))}startIfEnabledOrStop(){var t=this,i=function(i){var e,s,n;(!r||null!=(e=v.__PosthogExtensions__)&&null!=(e=e.integrations)&&e[i]||t.nt(Sa[i],(()=>{var e;null==(e=v.__PosthogExtensions__)||null==(e=e.integrations)||null==(e=e[i])||e.start(t._instance)})),!r&&null!=(s=v.__PosthogExtensions__)&&null!=(s=s.integrations)&&s[i])&&(null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[i])||n.stop())};for(var[e,r]of Object.entries(null!==(s=this._instance.config.integrations)&&void 0!==s?s:{})){var s;i(e)}}}var $a=\"[SessionRecording]\",xa=Et($a);class Ea{get started(){var t;return!(null==(t=this.ws)||!t.isStarted)}get status(){var t;return(null==(t=this.ws)?void 0:t.status)||\"lazy_loading\"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.ni=void 0,this._instance=t,!this._instance.sessionManager)throw xa.error(\"started without valid sessionManager\"),new Error($a+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error($a+' cannot be used with cookieless_mode=\"always\"')}get qt(){var i,e=!(null==(i=this._instance.get_property(ti))||!i.enabled),r=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&e&&r&&!s}startIfEnabledOrStop(t){var i;if(!this.qt||null==(i=this.ws)||!i.isStarted){var e=!C(Object.assign)&&!C(Array.from);this.qt&&e?(this.Ss(t),xa.info(\"starting\")):this.stopRecording()}}Ss(t){var i,e,r;this.qt&&(null!=v&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.rrweb)&&i.record&&null!=(e=v.__PosthogExtensions__)&&e.initSessionRecording?this.Pi(t):null==(r=v.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.Ri,(i=>{if(i)return xa.error(\"could not load recorder\",i);this.Pi(t)})))}stopRecording(){var t;null==(t=this.ws)||t.stop()}ki(){var t;null==(t=this._instance.persistence)||t.unregister(hi)}Ei(t){if(this._instance.persistence){var i,e,r=this._instance.persistence,s=()=>{var i=t.sessionRecording,e=null==i?void 0:i.sampleRate,s=A(e)?null:parseFloat(e);A(s)&&this.ki();var n=null==i?void 0:i.minimumDurationMilliseconds;r.register({[ti]:g({enabled:!!i},i,{networkPayloadCapture:g({capturePerformance:t.capturePerformance},null==i?void 0:i.networkPayloadCapture),canvasRecording:{enabled:null==i?void 0:i.recordCanvas,fps:null==i?void 0:i.canvasFps,quality:null==i?void 0:i.canvasQuality},sampleRate:s,minimumDurationMilliseconds:C(n)?null:n,endpoint:null==i?void 0:i.endpoint,triggerMatchType:null==i?void 0:i.triggerMatchType,masking:null==i?void 0:i.masking,urlTriggers:null==i?void 0:i.urlTriggers})})};s(),null==(i=this.ni)||i.call(this),this.ni=null==(e=this._instance.sessionManager)?void 0:e.onSessionId(s)}}onRemoteConfig(t){\"sessionRecording\"in t?(this.Ei(t),this.startIfEnabledOrStop()):xa.info(\"skipping remote config with no sessionRecording\",t)}log(t,i){var e;void 0===i&&(i=\"log\"),null!=(e=this.ws)&&e.log?this.ws.log(t,i):xa.warn(\"log called before recorder was ready\")}get Ri(){var t,i,e=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.get_property(ti);return(null==e||null==(i=e.scriptConfig)?void 0:i.script)||\"lazy-recorder\"}Pi(t){var i,e;if(null==(i=v.__PosthogExtensions__)||!i.initSessionRecording)throw Error(\"Called on script loaded before session recording is available\");this.ws||(this.ws=null==(e=v.__PosthogExtensions__)?void 0:e.initSessionRecording(this._instance),this.ws._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture);this.ws.start(t)}onRRwebEmit(t){var i;null==(i=this.ws)||null==i.onRRwebEmit||i.onRRwebEmit(t)}overrideLinkedFlag(){var t;null==(t=this.ws)||t.overrideLinkedFlag()}overrideSampling(){var t;null==(t=this.ws)||t.overrideSampling()}overrideTrigger(t){var i;null==(i=this.ws)||i.overrideTrigger(t)}get sdkDebugProperties(){var t;return(null==(t=this.ws)?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,i){var e;return!(null==(e=this.ws)||!e.tryAddCustomEvent(t,i))}}var Pa={},Ra=()=>{},Ia=\"posthog\",Ta=!Ks&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\")),Ca=i=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ut(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:Ra,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:\"2025-05-24\"!==i||\"history_change\",capture_pageleave:\"if_capture_pageview\",defaults:null!=i?i:\"unset\",debug:a&&M(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null==(e=t.location)?void 0:e.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var i=\"Bad HTTP status: \"+t.statusCode+\" \"+t.text;xt.error(i)},get_device_id:t=>t,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:ia},error_tracking:{},_onCapture:Ra,__preview_eager_load_replay:!0}},Ma=t=>{var i={};C(t.process_person)||(i.person_profiles=t.process_person),C(t.xhr_headers)||(i.request_headers=t.xhr_headers),C(t.cookie_name)||(i.persistence_name=t.cookie_name),C(t.disable_cookie)||(i.disable_persistence=t.disable_cookie),C(t.store_google)||(i.save_campaign_params=t.store_google),C(t.verbose)||(i.debug=t.verbose);var e=Mt({},i,t);return P(t.property_blacklist)&&(C(t.property_denylist)?e.property_denylist=t.property_blacklist:P(t.property_denylist)?e.property_denylist=[...t.property_blacklist,...t.property_denylist]:xt.error(\"Invalid value for property_denylist config: \"+t.property_denylist)),e};class Oa{constructor(){this.__forceAllowLocalhost=!1}get ks(){return this.__forceAllowLocalhost}set ks(t){xt.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=t}}class Fa{get decideEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}get flagsEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}constructor(){this.webPerformance=new Oa,this.$s=!1,this.version=c.LIB_VERSION,this.xs=new zo,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Ca(),this.SentryIntegration=Os,this.sentryIntegration=t=>function(t,i){var e=Ms(t,i);return{name:Cs,processEvent:t=>e(t)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this.Es=!1,this.Ps=null,this.Rs=null,this.Is=null,this.featureFlags=new Io(this),this.toolbar=new Ls(this),this.scrollManager=new na(this),this.pageViewManager=new Vs(this),this.surveys=new Yo(this),this.experiments=new ba(this),this.exceptions=new an(this),this.rateLimiter=new Qo(this),this.requestRouter=new ma(this),this.consent=new Ge(this),this.externalIntegrations=new ka(this),this.people={set:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(r),null==e||e({})},set_once:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(void 0,r),null==e||e({})}},this.on(\"eventCaptured\",(t=>xt.info('send \"'+(null==t?void 0:t.event)+'\"',t)))}init(t,i,e){if(e&&e!==Ia){var r,s=null!==(r=Pa[e])&&void 0!==r?r:new Fa;return s._init(t,i,e),Pa[e]=s,Pa[Ia][e]=s,s}return this._init(t,i,e)}_init(i,e,r){var s,n;if(void 0===e&&(e={}),C(i)||O(i))return xt.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return xt.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this.Ts=e,this.Cs=[],e.person_profiles&&(this.Rs=e.person_profiles),this.set_config(Mt({},Ca(e.defaults),Ma(e),{name:r,token:i})),this.config.on_xhr_error&&xt.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=e.disable_compression?void 0:de.GZipJS;var o=this.Ms();this.persistence=new Co(this.config,o),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Co(g({},this.config,{persistence:\"sessionStorage\"}),o);var a=g({},this.persistence.props),l=g({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Os=new ea((t=>this.Fs(t)),this.config.request_queue_config),this.As=new sa(this),this.__request_queue=[];var u=\"always\"===this.config.cookieless_mode||\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new ua(this),this.sessionPropsManager=new aa(this,this.sessionManager,this.persistence)),new Us(this).startIfEnabledOrStop(),this.siteApps=new va(this),null==(s=this.siteApps)||s.init(),u||(this.config.__preview_eager_load_replay?this.sessionRecording=new Rs(this):this.sessionRecording=new Ea(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $e(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Gs(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Bs(this),this.exceptionObserver=new Qe(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Ye(this,Ke),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new tr(this),this.historyAutocapture.startIfEnabled(),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&xt.info(\"Starting in debug mode\",{this:this,config:e,thisC:g({},this.config),p:a,s:l}),void 0!==(null==(n=e.bootstrap)?void 0:n.distinctID)){var h,d,v=this.config.get_device_id(Ce()),f=null!=(h=e.bootstrap)&&h.isIdentifiedID?v:e.bootstrap.distinctID;this.persistence.set_property(wi,null!=(d=e.bootstrap)&&d.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:e.bootstrap.distinctID,$device_id:f})}if(this.Ds()){var p,_,m=Object.keys((null==(p=e.bootstrap)?void 0:p.featureFlags)||{}).filter((t=>{var i;return!(null==(i=e.bootstrap)||null==(i=i.featureFlags)||!i[t])})).reduce(((t,i)=>{var r;return t[i]=(null==(r=e.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,t}),{}),y=Object.keys((null==(_=e.bootstrap)?void 0:_.featureFlagPayloads)||{}).filter((t=>m[t])).reduce(((t,i)=>{var r,s;null!=(r=e.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(t[i]=null==(s=e.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]);return t}),{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:y})}if(u)this.register_once({distinct_id:Ii,$device_id:null},\"\");else if(!this.get_distinct_id()){var b=this.config.get_device_id(Ce());this.register_once({distinct_id:b,$device_id:b},\"\"),this.persistence.set_property(wi,\"anonymous\")}return qt(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),e.segment?Ts(this,(()=>this.js())):this.js(),R(this.config._onCapture)&&this.config._onCapture!==Ra&&(xt.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(t=>this.config._onCapture(t.event,t)))),this.config.ip&&xt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or \"Discard IP data\" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ce(t){var i,e,r,s,n,a,l,u;if(!o||!o.body)return xt.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.Ce(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=y(t.supportedCompression,de.GZipJS)?de.GZipJS:y(t.supportedCompression,de.Base64)?de.Base64:void 0),null!=(i=t.analytics)&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Rs?this.Rs:\"identified_only\"}),null==(e=this.siteApps)||e.onRemoteConfig(t),null==(r=this.sessionRecording)||r.onRemoteConfig(t),null==(s=this.autocapture)||s.onRemoteConfig(t),null==(n=this.heatmaps)||n.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(t),null==(l=this.exceptionObserver)||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(t)}js(){try{this.config.loaded(this)}catch(t){xt.critical(\"`loaded` function failed\",t)}this.Ls(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||\"always\"===this.config.cookieless_mode)&&this.Ns()}),1),new ta(this).load(),this.featureFlags.flags()}Ls(){var t;this.is_capturing()&&(this.config.request_batching&&(null==(t=this.Os)||t.enable()))}_dom_loaded(){this.is_capturing()&&Tt(this.__request_queue,(t=>this.Fs(t))),this.__request_queue=[],this.Ls()}_handle_unload(){var t,i;this.config.request_batching?(this.Us()&&this.capture(\"$pageleave\"),null==(t=this.Os)||t.unload(),null==(i=this.As)||i.unload()):this.Us()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}Te(t){this.__loaded&&(Ta?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Xs(t.url,{ip:this.config.ip?1:0}),t.headers=g({},this.config.request_headers),t.compression=\"best-available\"===t.compression?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=[\"sendBeacon\"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(t=>{var i,e,r,s=g({},t);s.timeout=s.timeout||6e4,s.url=Xs(s.url,{_:(new Date).getTime().toString(),ver:c.LIB_VERSION,compression:s.compression});var n=null!==(i=s.transport)&&void 0!==i?i:\"fetch\",o=tn.filter((t=>!s.disableTransport||!t.transport||!s.disableTransport.includes(t.transport))),a=null!==(e=null==(r=zt(o,(t=>t.transport===n)))?void 0:r.method)&&void 0!==e?e:o[0].method;if(!a)throw new Error(\"No available transport method\");a(s)})(g({},t,{callback:i=>{var e,r;(this.rateLimiter.checkForLimiting(i),i.statusCode>=400)&&(null==(e=(r=this.config).on_request_error)||e.call(r,i));null==t.callback||t.callback(i)}}))))}Fs(t){this.As?this.As.retriableRequest(t):this.Te(t)}_execute_array(t){var i,e=[],r=[],s=[];Tt(t,(t=>{t&&(i=t[0],P(i)?s.push(t):R(t)?t.call(this):P(t)&&\"alias\"===i?e.push(t):P(t)&&-1!==i.indexOf(\"capture\")&&R(this[i])?s.push(t):r.push(t))}));var n=function(t,i){Tt(t,(function(t){if(P(t[0])){var e=i;Ct(t,(function(t){e=e[t[0]].apply(e,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),i)};n(e,this),n(r,this),n(s,this)}Ds(){var t,i;return(null==(t=this.config.bootstrap)?void 0:t.featureFlags)&&Object.keys(null==(i=this.config.bootstrap)?void 0:i.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,i,e){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Os){if(this.is_capturing())if(!C(t)&&M(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=e&&e.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){null!=i&&i.$current_url&&!M(null==i?void 0:i.$current_url)&&(xt.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==i||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,o=(null==e?void 0:e.timestamp)||n,a=Ce(),l={uuid:a,event:t,properties:this.calculateEventProperties(t,i||{},o,a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==e?void 0:e.$set)&&(l.$set=null==e?void 0:e.$set);var u,h=this.zs(null==e?void 0:e.$set_once);if(h&&(l.$set_once=h),(l=Lt(l,null!=e&&e._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,C(null==e?void 0:e.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n),t===Lo.DISMISSED||t===Lo.SENT){var d=null==i?void 0:i[No.SURVEY_ID],v=null==i?void 0:i[No.SURVEY_ITERATION];u={id:d,current_iteration:v},localStorage.getItem(Go(u))||localStorage.setItem(Go(u),\"true\"),l.$set=g({},l.$set,{[Wo({id:d,current_iteration:v},t===Lo.SENT?\"responded\":\"dismissed\")]:!0})}var c=g({},l.properties.$set,l.$set);if(T(c)||this.setPersonPropertiesForFlags(c),!A(this.config.before_send)){var f=this.qs(l);if(!f)return;l=f}this.xs.emit(\"eventCaptured\",l);var p={method:\"POST\",url:null!==(r=null==e?void 0:e._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==e?void 0:e._batchKey};return!this.config.request_batching||e&&(null==e||!e._batchKey)||null!=e&&e.send_instantly?this.Fs(p):this.Os.enqueue(p),l}xt.critical(\"This capture call is ignored due to client rate limiting.\")}}else xt.error(\"No event name provided to posthog.capture\")}else xt.uninitializedWarning(\"posthog.capture\")}Ye(t){return this.on(\"eventCaptured\",(i=>t(i.event,i)))}calculateEventProperties(t,i,e,r,s){if(e=e||new Date,!this.persistence||!this.sessionPersistence)return i;var n=s?void 0:this.persistence.remove_event_timer(t),a=g({},i);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(\"always\"==this.config.cookieless_mode||\"on_reject\"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),\"$snapshot\"===t){var l=g({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!M(a.distinct_id)&&!D(a.distinct_id)||O(a.distinct_id))&&xt.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),a}var u,h=yo(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId(s,e.getTime());a.$session_id=v,a.$window_id=c}this.sessionPropsManager&&Mt(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&Mt(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(f=this.As)?void 0:f.length}catch(t){a.$sdk_debug_error_capturing_properties=String(t)}if(this.requestRouter.region===ga.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=\"$pageview\"!==t||s?\"$pageleave\"!==t||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(e):this.pageViewManager.doPageView(e,r),a=Mt(a,u),\"$pageview\"===t&&o&&(a.title=o.title),!C(n)){var p=e.getTime()-n;a.$duration=parseFloat((p/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?\"bot\":\"browser\"),(a=Mt({},h,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),P(this.config.property_denylist)?Ct(this.config.property_denylist,(function(t){delete a[t]})):xt.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(xt.error(\"sanitize_properties is deprecated. Use before_send instead\"),a=_(a,t));var m=this.Bs();return a.$process_person_profile=m,m&&!s&&this.Hs(\"_calculate_event_properties\"),a}zs(t){var i;if(!this.persistence||!this.Bs())return t;if(this.$s)return t;var e=this.persistence.get_initial_props(),r=null==(i=this.sessionPropsManager)?void 0:i.getSetOnceProps(),s=Mt({},e,r||{},t||{}),n=this.config.sanitize_properties;return n&&(xt.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=n(s,\"$set_once\")),this.$s=!0,T(s)?void 0:s}register(t,i){var e;null==(e=this.persistence)||e.register(t,i)}register_once(t,i,e){var r;null==(r=this.persistence)||r.register_once(t,i,e)}register_for_session(t){var i;null==(i=this.sessionPersistence)||i.register(t)}unregister(t){var i;null==(i=this.persistence)||i.unregister(t)}unregister_for_session(t){var i;null==(i=this.sessionPersistence)||i.unregister(t)}Ws(t,i){this.register({[t]:i})}getFeatureFlag(t,i){return this.featureFlags.getFeatureFlag(t,i)}getFeatureFlagPayload(t){var i=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(i)}catch(t){return i}}isFeatureEnabled(t,i){return this.featureFlags.isFeatureEnabled(t,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,i,e){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,i,e)}getEarlyAccessFeatures(t,i,e){return void 0===i&&(i=!1),this.featureFlags.getEarlyAccessFeatures(t,i,e)}on(t,i){return this.xs.on(t,i)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var i,e;return null!==(i=null==(e=this.sessionManager)?void 0:e.onSessionId(t))&&void 0!==i?i:()=>{}}getSurveys(t,i){void 0===i&&(i=!1),this.surveys.getSurveys(t,i)}getActiveMatchingSurveys(t,i){void 0===i&&(i=!1),this.surveys.getActiveMatchingSurveys(t,i)}renderSurvey(t,i){this.surveys.renderSurvey(t,i)}displaySurvey(t,i){void 0===i&&(i=Jo),this.surveys.displaySurvey(t,i)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,i){return void 0===i&&(i=!1),this.surveys.canRenderSurveyAsync(t,i)}identify(t,i,e){if(!this.__loaded||!this.persistence)return xt.uninitializedWarning(\"posthog.identify\");if(D(t)&&(t=t.toString(),xt.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),t)if([\"distinct_id\",\"distinctid\"].includes(t.toLowerCase()))xt.critical('The string \"'+t+'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==Ii){if(this.Hs(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}t!==r&&t!==this.get_property(Ht)&&(this.unregister(Ht),this.register({distinct_id:t}));var n=\"anonymous\"===(this.persistence.get_property(wi)||\"anonymous\");t!==r&&n?(this.persistence.set_property(wi,\"identified\"),this.setPersonPropertiesForFlags(g({},e||{},i||{}),!1),this.capture(\"$identify\",{distinct_id:t,$anon_distinct_id:r},{$set:i||{},$set_once:e||{}}),this.Is=rn(t,i,e),this.featureFlags.setAnonymousDistinctId(r)):(i||e)&&this.setPersonProperties(i,e),t!==r&&(this.reloadFeatureFlags(),this.unregister(bi))}}else xt.critical('The string \"'+Ii+'\" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else xt.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(t,i){if((t||i)&&this.Hs(\"posthog.setPersonProperties\")){var e=rn(this.get_distinct_id(),t,i);this.Is!==e?(this.setPersonPropertiesForFlags(g({},i||{},t||{})),this.capture(\"$set\",{$set:t||{},$set_once:i||{}}),this.Is=e):xt.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(t,i,e){if(t&&i){if(this.Hs(\"posthog.group\")){var r=this.getGroups();r[t]!==i&&this.resetGroupPropertiesForFlags(t),this.register({$groups:g({},r,{[t]:i})}),e&&(this.capture(\"$groupidentify\",{$group_type:t,$group_key:i,$group_set:e}),this.setGroupPropertiesForFlags({[t]:e})),r[t]===i||e||this.reloadFeatureFlags()}}else xt.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(t,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0),this.Hs(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(t,i)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var i,e,r,s;if(xt.info(\"reset\"),!this.__loaded)return xt.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null==(i=this.persistence)||i.clear(),null==(e=this.sessionPersistence)||e.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(wi,\"anonymous\"),null==(s=this.sessionManager)||s.resetSessionId(),this.Is=null,\"always\"===this.config.cookieless_mode)this.register_once({distinct_id:Ii,$device_id:null},\"\");else{var o=this.config.get_device_id(Ce());this.register_once({distinct_id:o,$device_id:t?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var t,i;return null!==(t=null==(i=this.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==t?t:\"\"}get_session_replay_url(t){if(!this.sessionManager)return\"\";var{sessionId:i,sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\"+this.config.token+\"/replay/\"+i);if(null!=t&&t.withTimestamp&&e){var s,n=null!==(s=t.timestampLookBack)&&void 0!==s?s:10;if(!e)return r;r+=\"?t=\"+Math.max(Math.floor(((new Date).getTime()-e)/1e3)-n,0)}return r}alias(t,i){return t===this.get_property(Bt)?(xt.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this.Hs(\"posthog.alias\")?(C(i)&&(i=this.get_distinct_id()),t!==i?(this.Ws(Ht,t),this.capture(\"$create_alias\",{alias:t,distinct_id:i})):(xt.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(t),-1)):void 0}set_config(t){var i=g({},this.config);if(I(t)){var e,r,s,n,o;Mt(this.config,Ma(t));var a=this.Ms();null==(e=this.persistence)||e.update_config(this.config,i,a),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Co(g({},this.config,{persistence:\"sessionStorage\"}),a),Le.G()&&\"true\"===Le.J(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(c.DEBUG=!0,xt.info(\"set_config\",{config:t,oldConfig:i,newConfig:g({},this.config)})),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Gs(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(t){var i=!0===t,e={sampling:i||!(null==t||!t.sampling),linked_flag:i||!(null==t||!t.linked_flag),url_trigger:i||!(null==t||!t.url_trigger),event_trigger:i||!(null==t||!t.event_trigger)};if(Object.values(e).some(Boolean)){var r,s,n,o,a;if(null==(r=this.sessionManager)||r.checkAndGetSessionAndWindowId(),e.sampling)null==(s=this.sessionRecording)||s.overrideSampling();if(e.linked_flag)null==(n=this.sessionRecording)||n.overrideLinkedFlag();if(e.url_trigger)null==(o=this.sessionRecording)||o.overrideTrigger(\"url\");if(e.event_trigger)null==(a=this.sessionRecording)||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!(null==(t=this.sessionRecording)||!t.started)}captureException(t,i){var e=new Error(\"PostHog syntheticException\"),r=this.exceptions.buildProperties(t,{handled:!0,syntheticException:e});return this.exceptions.sendExceptionEvent(g({},r,i))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var i;return null==(i=this.persistence)?void 0:i.props[t]}getSessionProperty(t){var i;return null==(i=this.sessionPersistence)?void 0:i.props[t]}toString(){var t,i=null!==(t=this.config.name)&&void 0!==t?t:Ia;return i!==Ia&&(i=Ia+\".\"+i),i}_isIdentified(){var t,i;return\"identified\"===(null==(t=this.persistence)?void 0:t.get_property(wi))||\"identified\"===(null==(i=this.sessionPersistence)?void 0:i.get_property(wi))}Bs(){var t,i;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&T(this.getGroups())&&(null==(t=this.persistence)||null==(t=t.props)||!t[Ht])&&(null==(i=this.persistence)||null==(i=i.props)||!i[Pi]))}Us(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||\"history_change\"===this.config.capture_pageview)}createPersonProfile(){this.Bs()||this.Hs(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}Hs(t){return\"never\"===this.config.person_profiles?(xt.error(t+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this.Ws(Pi,!0),!0)}Ms(){if(\"always\"===this.config.cookieless_mode)return!0;var t=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default||\"on_reject\"===this.config.cookieless_mode;return this.config.disable_persistence||t&&!!i}Gs(){var t,i,e,r,s=this.Ms();(null==(t=this.persistence)?void 0:t.je)!==s&&(null==(e=this.persistence)||e.set_disabled(s));(null==(i=this.sessionPersistence)?void 0:i.je)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s));return s}opt_in_capturing(t){if(\"always\"!==this.config.cookieless_mode){var i;if(\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new ua(this),this.persistence&&(this.sessionPropsManager=new aa(this,this.sessionManager,this.persistence)),this.sessionRecording=new Rs(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Gs(),\"on_reject\"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),C(null==t?void 0:t.captureEventName)||null!=t&&t.captureEventName)this.capture(null!==(i=null==t?void 0:t.captureEventName)&&void 0!==i?i:\"$opt_in\",null==t?void 0:t.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this.Ns()}else xt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}opt_out_capturing(){var t;\"always\"!==this.config.cookieless_mode?(\"on_reject\"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Gs(),\"on_reject\"===this.config.cookieless_mode&&(this.register({distinct_id:Ii,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(t=this.sessionRecording)||t.stopRecording(),this.sessionRecording=void 0,this.Ns())):xt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===We.GRANTED?\"granted\":t===We.DENIED?\"denied\":\"pending\"}is_capturing(){return\"always\"===this.config.cookieless_mode||(\"on_reject\"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Gs()}_is_bot(){return n?pa(n,this.config.custom_blocked_useragents):void 0}Ns(){o&&(\"visible\"===o.visibilityState?this.Es||(this.Es=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}),this.Ps&&(o.removeEventListener(\"visibilitychange\",this.Ps),this.Ps=null)):this.Ps||(this.Ps=this.Ns.bind(this),qt(o,\"visibilitychange\",this.Ps)))}debug(i){!1===i?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}L(){var t,i,e,r,s,n,o,a=this.Ts||{};return\"advanced_disable_flags\"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(xt.warn(\"Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version.\"),!0):(e=\"advanced_disable_decide\",r=!1,s=xt,n=(i=\"advanced_disable_flags\")in(t=a)&&!C(t[i]),o=e in t&&!C(t[e]),n?t[i]:o?(s&&s.warn(\"Config field '\"+e+\"' is deprecated. Please use '\"+i+\"' instead. The old field will be removed in a future major version.\"),t[e]):r)}qs(t){if(A(this.config.before_send))return t;var i=P(this.config.before_send)?this.config.before_send:[this.config.before_send],e=t;for(var r of i){if(e=r(e),A(e)){var s=\"Event '\"+t.event+\"' was rejected in beforeSend function\";return N(t.event)?xt.warn(s+\". This can cause unexpected behavior.\"):xt.info(s),null}e.properties&&!T(e.properties)||xt.warn(\"Event '\"+t.event+\"' has no properties after beforeSend function, this is likely an error.\")}return e}getPageViewId(){var t;return null==(t=this.pageViewManager.fe)?void 0:t.pageViewId}captureTraceFeedback(t,i){this.capture(\"$ai_feedback\",{$ai_trace_id:String(t),$ai_feedback_text:i})}captureTraceMetric(t,i,e){this.capture(\"$ai_metric\",{$ai_trace_id:String(t),$ai_metric_name:i,$ai_metric_value:String(e)})}}!function(t,i){for(var e=0;e<i.length;e++)t.prototype[i[e]]=Dt(t.prototype[i[e]])}(Fa,[\"identify\"]);var Aa,Da=(Aa=Pa[Ia]=new Fa,function(){function i(){i.done||(i.done=!0,Ta=!1,Ct(Pa,(function(t){t._dom_loaded()})))}null!=o&&o.addEventListener?\"complete\"===o.readyState?i():qt(o,\"DOMContentLoaded\",i,{capture:!1}):t&&xt.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),Aa);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvZGlzdC9tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaWFBQWlhLElBQUksZ0NBQWdDLDBCQUEwQixJQUFJLHdCQUF3QixTQUFTLGlCQUFpQix5Q0FBeUMsY0FBYyxrQkFBa0IsdUJBQXVCLGtDQUFrQyxtQkFBbUIsY0FBYyxzQkFBc0IsY0FBYyx1QkFBdUIsVUFBVSxJQUFJLGFBQWEsd0RBQXdELFlBQVksbUJBQW1CLEtBQUssbUJBQW1CLGtCQUFrQix3Q0FBd0MsU0FBUyx5QkFBeUIsZ0JBQWdCLG9CQUFvQixTQUFTLG9CQUFvQiwyQkFBMkIsOEJBQThCLFVBQVUsU0FBUyw0UEFBNFAsZ0JBQWdCLHdCQUF3QixrQkFBa0IsZ0JBQWdCLGVBQWUsNEJBQTRCLHdGQUF3RixtQ0FBbUMsMkRBQTJELFNBQVMsdUNBQXVDLFNBQVMsU0FBUyw2TkFBNk4sY0FBYyxvQ0FBb0MsZ0JBQWdCLDREQUE0RCxjQUFjLCtCQUErQixJQUFJLHNCQUFzQixTQUFTLFVBQVUsVUFBVSxvRUFBb0Usc0JBQXNCLDRUQUE0VCxRQUFRLGVBQWUsa0JBQWtCLGFBQWEsaUNBQWlDLHVCQUF1Qix1Q0FBdUMsR0FBRyw0Q0FBNEMsb0JBQW9CLDJCQUEyQixvREFBb0Qsb0NBQW9DLFlBQVksWUFBWSwrQ0FBK0Msb0xBQW9MLFNBQVMsVUFBVSxPQUFPLCtDQUErQyxrQ0FBa0MsY0FBYyxrQ0FBa0MsTUFBTSxxQkFBcUIsd0RBQXdELFFBQVEsRUFBRSxXQUFXLGtCQUFrQixpQ0FBaUMsS0FBSyxLQUFLLDhDQUE4QyxTQUFTLGtCQUFrQixPQUFPLFNBQVMsSUFBSSxNQUFNLFVBQVUscUJBQXFCLE9BQU8sK0VBQStFLDhDQUE4QyxlQUFlLGtGQUFrRiw0R0FBNEcsdU9BQXVPLGlCQUFpQixNQUFNLGNBQWMscUJBQXFCLGlCQUFpQixNQUFNLG1DQUFtQyxvQkFBb0IsbUNBQW1DLDBCQUEwQixvREFBb0Qs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LHNCQUFzQixtRkFBbUYsZ0NBQWdDLEVBQUUsOENBQThDLE9BQU8sZUFBZSxtQ0FBbUMsZ0JBQWdCLE1BQU0sb0RBQW9ELHNCQUFzQixNQUFNLDJEQUEyRCxXQUFXLHFEQUFxRCw4QkFBOEIsZ0JBQWdCLFFBQVEsMEpBQTBKLEtBQUssUUFBUSw4UEFBOFAsS0FBSyxzTEFBc0wsc0JBQXNCLDhFQUE4RSxHQUFHLEVBQUUsTUFBTSxpS0FBaUssS0FBSyxtREFBbUQsd0hBQXdILCtDQUErQyxLQUFLLHdCQUF3Qiw4RkFBOEYsNEdBQTRHLFNBQVMsb0JBQW9CLDJDQUEyQyxNQUFNLHVsQkFBdWxCLGtCQUFrQixFQUFFLHdDQUF3QyxrR0FBa0csb0JBQW9CLE1BQU0sMk5BQTJOLCtCQUErQixzUEFBc1AseUJBQXlCLGdDQUFnQywwQkFBMEIsaUNBQWlDLDhCQUE4QiwyQkFBMkIsaUVBQWlFLGVBQWUsd0xBQXdMLDZCQUE2QiwrQkFBK0IsVUFBVSw0REFBNEQsS0FBSyxpRkFBaUYsY0FBYyxFQUFFLGtCQUFrQixxSkFBcUosU0FBUyxpSUFBaUksU0FBUyx1T0FBdU8sU0FBUyxHQUFHLElBQUksZ0NBQWdDLG1tQkFBbW1CLE1BQU0sdUNBQXVDLHVGQUF1RixnQkFBZ0IsZ0JBQWdCLGdFQUFnRSxxRkFBcUYscUlBQXFJLFNBQVMsZ0JBQWdCLE1BQU0sNkRBQTZELDBCQUEwQiw2QkFBNkIsMkNBQTJDLEVBQUUsMEJBQTBCLDJCQUEyQixvRUFBb0UsR0FBRyxlQUFlLFlBQVksV0FBVyw0Q0FBNEMsa0JBQWtCLHVDQUF1QyxhQUFhLDRDQUE0QyxnQkFBZ0IsSUFBSSxxRkFBcUYsV0FBVyx3R0FBd0csT0FBb1Y7QUFDMzZuTCIsInNvdXJjZXMiOlsiL1VzZXJzL2JyYWphZ29wYWxtdWtoZXJqZWUvYWktZ292ZXJuZW5jZS9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAsaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnQsZT1BcnJheS5wcm90b3R5cGUscj1lLmZvckVhY2gscz1lLmluZGV4T2Ysbj1udWxsPT1pP3ZvaWQgMDppLm5hdmlnYXRvcixvPW51bGw9PWk/dm9pZCAwOmkuZG9jdW1lbnQsYT1udWxsPT1pP3ZvaWQgMDppLmxvY2F0aW9uLGw9bnVsbD09aT92b2lkIDA6aS5mZXRjaCx1PW51bGwhPWkmJmkuWE1MSHR0cFJlcXVlc3QmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBuZXcgaS5YTUxIdHRwUmVxdWVzdD9pLlhNTEh0dHBSZXF1ZXN0OnZvaWQgMCxoPW51bGw9PWk/dm9pZCAwOmkuQWJvcnRDb250cm9sbGVyLGQ9bnVsbD09bj92b2lkIDA6bi51c2VyQWdlbnQsdj1udWxsIT10P3Q6e30sYz17REVCVUc6ITEsTElCX1ZFUlNJT046XCIxLjI2OC44XCJ9O2Z1bmN0aW9uIGYodCxpLGUscixzLG4sbyl7dHJ5e3ZhciBhPXRbbl0obyksbD1hLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIGUodCl9YS5kb25lP2kobCk6UHJvbWlzZS5yZXNvbHZlKGwpLnRoZW4ocixzKX1mdW5jdGlvbiBwKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBpPXRoaXMsZT1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLHMpe3ZhciBuPXQuYXBwbHkoaSxlKTtmdW5jdGlvbiBvKHQpe2YobixyLHMsbyxhLFwibmV4dFwiLHQpfWZ1bmN0aW9uIGEodCl7ZihuLHIscyxvLGEsXCJ0aHJvd1wiLHQpfW8odm9pZCAwKX0pKX19ZnVuY3Rpb24gZygpe3JldHVybiBnPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIGU9YXJndW1lbnRzW2ldO2Zvcih2YXIgciBpbiBlKSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKX1yZXR1cm4gdH0sZy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gXyh0LGkpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIGU9e307Zm9yKHZhciByIGluIHQpaWYoe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpKXtpZigtMSE9PWkuaW5kZXhPZihyKSljb250aW51ZTtlW3JdPXRbcl19cmV0dXJuIGV9dmFyIG09W1wiJHNuYXBzaG90XCIsXCIkcGFnZXZpZXdcIixcIiRwYWdlbGVhdmVcIixcIiRzZXRcIixcInN1cnZleSBkaXNtaXNzZWRcIixcInN1cnZleSBzZW50XCIsXCJzdXJ2ZXkgc2hvd25cIixcIiRpZGVudGlmeVwiLFwiJGdyb3VwaWRlbnRpZnlcIixcIiRjcmVhdGVfYWxpYXNcIixcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIsXCIkd2ViX2V4cGVyaW1lbnRfYXBwbGllZFwiLFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCJdO2Z1bmN0aW9uIHkodCxpKXtyZXR1cm4tMSE9PXQuaW5kZXhPZihpKX12YXIgYj1mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9LHc9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxcJC8sXCJcIil9O3ZhciBTPUFycmF5LmlzQXJyYXksaz1PYmplY3QucHJvdG90eXBlLHg9ay5oYXNPd25Qcm9wZXJ0eSxFPWsudG9TdHJpbmcsUD1TfHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1FLmNhbGwodCl9LFI9dD0+XCJmdW5jdGlvblwiPT10eXBlb2YgdCxJPXQ9PnQ9PT1PYmplY3QodCkmJiFQKHQpLFQ9dD0+e2lmKEkodCkpe2Zvcih2YXIgaSBpbiB0KWlmKHguY2FsbCh0LGkpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSxDPXQ9PnZvaWQgMD09PXQsTT10PT5cIltvYmplY3QgU3RyaW5nXVwiPT1FLmNhbGwodCksTz10PT5NKHQpJiYwPT09dC50cmltKCkubGVuZ3RoLEY9dD0+bnVsbD09PXQsQT10PT5DKHQpfHxGKHQpLEQ9dD0+XCJbb2JqZWN0IE51bWJlcl1cIj09RS5jYWxsKHQpLGo9dD0+XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1FLmNhbGwodCksTD10PT50IGluc3RhbmNlb2YgRm9ybURhdGEsTj10PT55KG0sdCk7ZnVuY3Rpb24gVSh0KXtyZXR1cm4gbnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fWZ1bmN0aW9uIHoodCxpKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09XCJbb2JqZWN0IFwiK2krXCJdXCJ9ZnVuY3Rpb24gcSh0KXtyZXR1cm4hQyhFdmVudCkmJmZ1bmN0aW9uKHQsaSl7dHJ5e3JldHVybiB0IGluc3RhbmNlb2YgaX1jYXRjaCh0KXtyZXR1cm4hMX19KHQsRXZlbnQpfXZhciBCPVshMCxcInRydWVcIiwxLFwiMVwiLFwieWVzXCJdLEg9dD0+eShCLHQpLFc9WyExLFwiZmFsc2VcIiwwLFwiMFwiLFwibm9cIl07ZnVuY3Rpb24gRyh0LGksZSxyLHMpe3JldHVybiBpPmUmJihyLndhcm4oXCJtaW4gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXguXCIpLGk9ZSksRCh0KT90PmU/KHIud2FybihcIiBjYW5ub3QgYmUgIGdyZWF0ZXIgdGhhbiBtYXg6IFwiK2UrXCIuIFVzaW5nIG1heCB2YWx1ZSBpbnN0ZWFkLlwiKSxlKTp0PGk/KHIud2FybihcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIraStcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLGkpOnQ6KHIud2FybihcIiBtdXN0IGJlIGEgbnVtYmVyLiB1c2luZyBtYXggb3IgZmFsbGJhY2suIG1heDogXCIrZStcIiwgZmFsbGJhY2s6IFwiK3MpLEcoc3x8ZSxpLGUscikpfWNsYXNzIFZ7Y29uc3RydWN0b3IodCl7dGhpcy50PXQsdGhpcy5pPXt9LHRoaXMubz0oKT0+e09iamVjdC5rZXlzKHRoaXMuaSkuZm9yRWFjaCgodD0+e3ZhciBpPXRoaXMuaCh0KSt0aGlzLm07aT49dGhpcy5TP2RlbGV0ZSB0aGlzLmlbdF06dGhpcy5rKHQsaSl9KSl9LHRoaXMuaD10PT50aGlzLmlbU3RyaW5nKHQpXSx0aGlzLms9KHQsaSk9Pnt0aGlzLmlbU3RyaW5nKHQpXT1pfSx0aGlzLmNvbnN1bWVSYXRlTGltaXQ9dD0+e3ZhciBpLGUscj1udWxsIT09KGk9dGhpcy5oKHQpKSYmdm9pZCAwIT09aT9pOnRoaXMuUztpZigwPT09KHI9TWF0aC5tYXgoci0xLDApKSlyZXR1cm4hMDt0aGlzLmsodCxyKTt2YXIgcz0wPT09cjtyZXR1cm4gcyYmKG51bGw9PShlPXRoaXMuJCl8fGUuY2FsbCh0aGlzLHQpKSxzfSx0aGlzLiQ9dGhpcy50LiQsdGhpcy5TPUcodGhpcy50LmJ1Y2tldFNpemUsMCwxMDAsdGhpcy50LlApLHRoaXMubT1HKHRoaXMudC5yZWZpbGxSYXRlLDAsdGhpcy5TLHRoaXMudC5QKSx0aGlzLlI9Ryh0aGlzLnQucmVmaWxsSW50ZXJ2YWwsMCw4NjRlNSx0aGlzLnQuUCksdGhpcy5JPXNldEludGVydmFsKCgoKT0+e3RoaXMubygpfSksdGhpcy5SKX1zdG9wKCl7dGhpcy5JJiYoY2xlYXJJbnRlcnZhbCh0aGlzLkkpLHRoaXMuST12b2lkIDApfX12YXIgSixLLFksWD10PT50IGluc3RhbmNlb2YgRXJyb3I7ZnVuY3Rpb24gUSh0KXt2YXIgaT1nbG9iYWxUaGlzLl9wb3N0aG9nQ2h1bmtJZHM7aWYoaSl7dmFyIGU9T2JqZWN0LmtleXMoaSk7cmV0dXJuIFkmJmUubGVuZ3RoPT09S3x8KEs9ZS5sZW5ndGgsWT1lLnJlZHVjZSgoKGUscik9PntKfHwoSj17fSk7dmFyIHM9SltyXTtpZihzKWVbc1swXV09c1sxXTtlbHNlIGZvcih2YXIgbj10KHIpLG89bi5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9bltvXSxsPW51bGw9PWE/dm9pZCAwOmEuZmlsZW5hbWUsdT1pW3JdO2lmKGwmJnUpe2VbbF09dSxKW3JdPVtsLHVdO2JyZWFrfX1yZXR1cm4gZX0pLHt9KSksWX19dmFyIFo9XCI/XCI7ZnVuY3Rpb24gdHQodCxpLGUscil7dmFyIHM9e3BsYXRmb3JtOlwid2ViOmphdmFzY3JpcHRcIixmaWxlbmFtZTp0LGZ1bmN0aW9uOlwiPGFub255bW91cz5cIj09PWk/WjppLGluX2FwcDohMH07cmV0dXJuIEMoZSl8fChzLmxpbmVubz1lKSxDKHIpfHwocy5jb2xubz1yKSxzfXZhciBpdD0odCxpKT0+e3ZhciBlPS0xIT09dC5pbmRleE9mKFwic2FmYXJpLWV4dGVuc2lvblwiKSxyPS0xIT09dC5pbmRleE9mKFwic2FmYXJpLXdlYi1leHRlbnNpb25cIik7cmV0dXJuIGV8fHI/Wy0xIT09dC5pbmRleE9mKFwiQFwiKT90LnNwbGl0KFwiQFwiKVswXTpaLGU/XCJzYWZhcmktZXh0ZW5zaW9uOlwiK2k6XCJzYWZhcmktd2ViLWV4dGVuc2lvbjpcIitpXTpbdCxpXX0sZXQ9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLHJ0PS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxzdD0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8sbnQ9dD0+e3ZhciBpPWV0LmV4ZWModCk7aWYoaSl7dmFyWyxlLHIsc109aTtyZXR1cm4gdHQoZSxaLCtyLCtzKX12YXIgbj1ydC5leGVjKHQpO2lmKG4pe2lmKG5bMl0mJjA9PT1uWzJdLmluZGV4T2YoXCJldmFsXCIpKXt2YXIgbz1zdC5leGVjKG5bMl0pO28mJihuWzJdPW9bMV0sblszXT1vWzJdLG5bNF09b1szXSl9dmFyW2EsbF09aXQoblsxXXx8WixuWzJdKTtyZXR1cm4gdHQobCxhLG5bM10/K25bM106dm9pZCAwLG5bNF0/K25bNF06dm9pZCAwKX19LG90PS9eXFxzKiguKj8pKD86XFwoKC4qPylcXCkpPyg/Ol58QCk/KCg/OlstYS16XSspPzpcXC8uKj98XFxbbmF0aXZlIGNvZGVcXF18W15AXSooPzpidW5kbGV8XFxkK1xcLmpzKXxcXC9bXFx3XFwtLiAvPV0rKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2ksYXQ9LyhcXFMrKSBsaW5lIChcXGQrKSg/OiA+IGV2YWwgbGluZSBcXGQrKSogPiBldmFsL2ksbHQ9dD0+e3ZhciBpPW90LmV4ZWModCk7aWYoaSl7aWYoaVszXSYmaVszXS5pbmRleE9mKFwiID4gZXZhbFwiKT4tMSl7dmFyIGU9YXQuZXhlYyhpWzNdKTtlJiYoaVsxXT1pWzFdfHxcImV2YWxcIixpWzNdPWVbMV0saVs0XT1lWzJdLGlbNV09XCJcIil9dmFyIHI9aVszXSxzPWlbMV18fFo7cmV0dXJuW3Mscl09aXQocyxyKSx0dChyLHMsaVs0XT8raVs0XTp2b2lkIDAsaVs1XT8raVs1XTp2b2lkIDApfX0sdXQ9L1xcKGVycm9yOiAoLiopXFwpLyxodD01MDtmdW5jdGlvbiBkdCgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLGU9MDtlPHQ7ZSsrKWlbZV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO2Zvcih2YXIgcj1bXSxzPXQuc3BsaXQoXCJcXG5cIiksbj1lO248cy5sZW5ndGg7bisrKXt2YXIgbz1zW25dO2lmKCEoby5sZW5ndGg+MTAyNCkpe3ZhciBhPXV0LnRlc3Qobyk/by5yZXBsYWNlKHV0LFwiJDFcIik6bztpZighYS5tYXRjaCgvXFxTKkVycm9yOiAvKSl7Zm9yKHZhciBsIG9mIGkpe3ZhciB1PWwoYSk7aWYodSl7ci5wdXNoKHUpO2JyZWFrfX1pZihyLmxlbmd0aD49aHQpYnJlYWt9fX1yZXR1cm4gZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybltdO3ZhciBpPUFycmF5LmZyb20odCk7cmV0dXJuIGkucmV2ZXJzZSgpLGkuc2xpY2UoMCxodCkubWFwKCh0PT57cmV0dXJuIGcoe30sdCx7ZmlsZW5hbWU6dC5maWxlbmFtZXx8KGU9aSxlW2UubGVuZ3RoLTFdfHx7fSkuZmlsZW5hbWUsZnVuY3Rpb246dC5mdW5jdGlvbnx8Wn0pO3ZhciBlfSkpfShyKX19Y2xhc3MgdnR7Y29uc3RydWN0b3IodCxpLGUpe3ZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1pJiYoaT1bXSksdm9pZCAwPT09ZSYmKGU9W10pLHRoaXMuY29lcmNlcnM9dCx0aGlzLm1vZGlmaWVycz1lLHRoaXMuc3RhY2tQYXJzZXI9ZHQoLi4uaSl9YnVpbGRGcm9tVW5rbm93bih0LGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgZT1pJiZpLm1lY2hhbmlzbXx8e2hhbmRsZWQ6ITAsdHlwZTpcImdlbmVyaWNcIn0scj10aGlzLmJ1aWxkQ29lcmNpbmdDb250ZXh0KGUsaSwwKS5hcHBseSh0KSxzPXRoaXMuYnVpbGRQYXJzaW5nQ29udGV4dCgpLG49dGhpcy5wYXJzZVN0YWNrdHJhY2UocixzKTtyZXR1cm57JGV4Y2VwdGlvbl9saXN0OnRoaXMuY29udmVydFRvRXhjZXB0aW9uTGlzdChuLGUpLCRleGNlcHRpb25fbGV2ZWw6XCJlcnJvclwifX1tb2RpZnlGcmFtZXModCl7dmFyIGk9dGhpcztyZXR1cm4gcCgoZnVuY3Rpb24qKCl7Zm9yKHZhciBlIG9mIHQpZS5zdGFja3RyYWNlJiZlLnN0YWNrdHJhY2UuZnJhbWVzJiZQKGUuc3RhY2t0cmFjZS5mcmFtZXMpJiYoZS5zdGFja3RyYWNlLmZyYW1lcz15aWVsZCBpLmFwcGx5TW9kaWZpZXJzKGUuc3RhY2t0cmFjZS5mcmFtZXMpKTtyZXR1cm4gdH0pKSgpfWNvZXJjZUZhbGxiYWNrKHQpe3ZhciBpO3JldHVybnt0eXBlOlwiRXJyb3JcIix2YWx1ZTpcIlVua25vd24gZXJyb3JcIixzdGFjazpudWxsPT0oaT10LnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmkuc3RhY2ssc3ludGhldGljOiEwfX1wYXJzZVN0YWNrdHJhY2UodCxpKXt2YXIgZSxyO3JldHVybiBudWxsIT10LmNhdXNlJiYoZT10aGlzLnBhcnNlU3RhY2t0cmFjZSh0LmNhdXNlLGkpKSxcIlwiIT10LnN0YWNrJiZudWxsIT10LnN0YWNrJiYocj10aGlzLmFwcGx5Q2h1bmtJZHModGhpcy5zdGFja1BhcnNlcih0LnN0YWNrLHQuc3ludGhldGljPzE6MCksaS5jaHVua0lkTWFwKSksZyh7fSx0LHtjYXVzZTplLHN0YWNrOnJ9KX1hcHBseUNodW5rSWRzKHQsaSl7cmV0dXJuIHQubWFwKCh0PT4odC5maWxlbmFtZSYmaSYmKHQuY2h1bmtfaWQ9aVt0LmZpbGVuYW1lXSksdCkpKX1hcHBseUNvZXJjZXJzKHQsaSl7Zm9yKHZhciBlIG9mIHRoaXMuY29lcmNlcnMpaWYoZS5tYXRjaCh0KSlyZXR1cm4gZS5jb2VyY2UodCxpKTtyZXR1cm4gdGhpcy5jb2VyY2VGYWxsYmFjayhpKX1hcHBseU1vZGlmaWVycyh0KXt2YXIgaT10aGlzO3JldHVybiBwKChmdW5jdGlvbiooKXt2YXIgZT10O2Zvcih2YXIgciBvZiBpLm1vZGlmaWVycyllPXlpZWxkIHIoZSk7cmV0dXJuIGV9KSkoKX1jb252ZXJ0VG9FeGNlcHRpb25MaXN0KHQsaSl7dmFyIGUscixzLG49e3R5cGU6dC50eXBlLHZhbHVlOnQudmFsdWUsbWVjaGFuaXNtOnt0eXBlOm51bGwhPT0oZT1pLnR5cGUpJiZ2b2lkIDAhPT1lP2U6XCJnZW5lcmljXCIsaGFuZGxlZDpudWxsPT09KHI9aS5oYW5kbGVkKXx8dm9pZCAwPT09cnx8cixzeW50aGV0aWM6bnVsbCE9PShzPXQuc3ludGhldGljKSYmdm9pZCAwIT09cyYmc319O3Quc3RhY2smJihuLnN0YWNrdHJhY2U9e3R5cGU6XCJyYXdcIixmcmFtZXM6dC5zdGFja30pO3ZhciBvPVtuXTtyZXR1cm4gbnVsbCE9dC5jYXVzZSYmby5wdXNoKC4uLnRoaXMuY29udmVydFRvRXhjZXB0aW9uTGlzdCh0LmNhdXNlLGcoe30saSx7aGFuZGxlZDohMH0pKSksb31idWlsZFBhcnNpbmdDb250ZXh0KCl7cmV0dXJue2NodW5rSWRNYXA6USh0aGlzLnN0YWNrUGFyc2VyKX19YnVpbGRDb2VyY2luZ0NvbnRleHQodCxpLGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciByPShlLHIpPT57aWYocjw9NCl7dmFyIHM9dGhpcy5idWlsZENvZXJjaW5nQ29udGV4dCh0LGkscik7cmV0dXJuIHRoaXMuYXBwbHlDb2VyY2VycyhlLHMpfX07cmV0dXJuIGcoe30saSx7c3ludGhldGljRXhjZXB0aW9uOjA9PWU/aS5zeW50aGV0aWNFeGNlcHRpb246dm9pZCAwLG1lY2hhbmlzbTp0LGFwcGx5OnQ9PnIodCxlKSxuZXh0OnQ9PnIodCxlKzEpfSl9fWNsYXNzIGN0e21hdGNoKHQpe3JldHVybiB0aGlzLmlzRE9NRXhjZXB0aW9uKHQpfHx0aGlzLmlzRE9NRXJyb3IodCl9Y29lcmNlKHQsaSl7dmFyIGU9TSh0LnN0YWNrKTtyZXR1cm57dHlwZTp0aGlzLmdldFR5cGUodCksdmFsdWU6dGhpcy5nZXRWYWx1ZSh0KSxzdGFjazplP3Quc3RhY2s6dm9pZCAwLGNhdXNlOnQuY2F1c2U/aS5uZXh0KHQuY2F1c2UpOnZvaWQgMCxzeW50aGV0aWM6ITF9fWdldFR5cGUodCl7cmV0dXJuIHRoaXMuaXNET01FcnJvcih0KT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIn1nZXRWYWx1ZSh0KXt2YXIgaT10Lm5hbWV8fCh0aGlzLmlzRE9NRXJyb3IodCk/XCJET01FcnJvclwiOlwiRE9NRXhjZXB0aW9uXCIpO3JldHVybiB0Lm1lc3NhZ2U/aStcIjogXCIrdC5tZXNzYWdlOml9aXNET01FeGNlcHRpb24odCl7cmV0dXJuIHoodCxcIkRPTUV4Y2VwdGlvblwiKX1pc0RPTUVycm9yKHQpe3JldHVybiB6KHQsXCJET01FcnJvclwiKX19Y2xhc3MgZnR7bWF0Y2godCl7cmV0dXJuKHQ9PnQgaW5zdGFuY2VvZiBFcnJvcikodCl9Y29lcmNlKHQsaSl7cmV0dXJue3R5cGU6dGhpcy5nZXRUeXBlKHQpLHZhbHVlOnRoaXMuZ2V0TWVzc2FnZSh0LGkpLHN0YWNrOnRoaXMuZ2V0U3RhY2sodCksY2F1c2U6dC5jYXVzZT9pLm5leHQodC5jYXVzZSk6dm9pZCAwLHN5bnRoZXRpYzohMX19Z2V0VHlwZSh0KXtyZXR1cm4gdC5uYW1lfHx0LmNvbnN0cnVjdG9yLm5hbWV9Z2V0TWVzc2FnZSh0LGkpe3ZhciBlPXQubWVzc2FnZTtyZXR1cm4gZS5lcnJvciYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZXJyb3IubWVzc2FnZT9TdHJpbmcoZS5lcnJvci5tZXNzYWdlKTpTdHJpbmcoZSl9Z2V0U3RhY2sodCl7cmV0dXJuIHQuc3RhY2t0cmFjZXx8dC5zdGFja3x8dm9pZCAwfX1jbGFzcyBwdHtjb25zdHJ1Y3Rvcigpe31tYXRjaCh0KXtyZXR1cm4geih0LFwiRXJyb3JFdmVudFwiKSYmbnVsbCE9dC5lcnJvcn1jb2VyY2UodCxpKXt2YXIgZSxyPWkuYXBwbHkodC5lcnJvcik7cmV0dXJuIHJ8fHt0eXBlOlwiRXJyb3JFdmVudFwiLHZhbHVlOnQubWVzc2FnZSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19dmFyIGd0PS9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkL2k7Y2xhc3MgX3R7bWF0Y2godCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9Y29lcmNlKHQsaSl7dmFyIGUsW3Isc109dGhpcy5nZXRJbmZvcyh0KTtyZXR1cm57dHlwZTpudWxsIT1yP3I6XCJFcnJvclwiLHZhbHVlOm51bGwhPXM/czp0LHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fWdldEluZm9zKHQpe3ZhciBpPVwiRXJyb3JcIixlPXQscj10Lm1hdGNoKGd0KTtyZXR1cm4gciYmKGk9clsxXSxlPXJbMl0pLFtpLGVdfX12YXIgbXQ9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdO2Z1bmN0aW9uIHl0KHQsaSl7dm9pZCAwPT09aSYmKGk9NDApO3ZhciBlPU9iamVjdC5rZXlzKHQpO2lmKGUuc29ydCgpLCFlLmxlbmd0aClyZXR1cm5cIltvYmplY3QgaGFzIG5vIGtleXNdXCI7Zm9yKHZhciByPWUubGVuZ3RoO3I+MDtyLS0pe3ZhciBzPWUuc2xpY2UoMCxyKS5qb2luKFwiLCBcIik7aWYoIShzLmxlbmd0aD5pKSlyZXR1cm4gcj09PWUubGVuZ3RofHxzLmxlbmd0aDw9aT9zOnMuc2xpY2UoMCxpKStcIi4uLlwifXJldHVyblwiXCJ9Y2xhc3MgYnR7bWF0Y2godCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWNvZXJjZSh0LGkpe3ZhciBlLHI9dGhpcy5nZXRFcnJvclByb3BlcnR5RnJvbU9iamVjdCh0KTtyZXR1cm4gcj9pLmFwcGx5KHIpOnt0eXBlOnRoaXMuZ2V0VHlwZSh0KSx2YWx1ZTp0aGlzLmdldFZhbHVlKHQpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxsZXZlbDp0aGlzLmlzU2V2ZXJpdHlMZXZlbCh0LmxldmVsKT90LmxldmVsOlwiZXJyb3JcIixzeW50aGV0aWM6ITB9fWdldFR5cGUodCl7cmV0dXJuIHEodCk/dC5jb25zdHJ1Y3Rvci5uYW1lOlwiRXJyb3JcIn1nZXRWYWx1ZSh0KXtpZihcIm5hbWVcImluIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWUpe3ZhciBpPVwiJ1wiK3QubmFtZStcIicgY2FwdHVyZWQgYXMgZXhjZXB0aW9uXCI7cmV0dXJuXCJtZXNzYWdlXCJpbiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiYoaSs9XCIgd2l0aCBtZXNzYWdlOiAnXCIrdC5tZXNzYWdlK1wiJ1wiKSxpfWlmKFwibWVzc2FnZVwiaW4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSlyZXR1cm4gdC5tZXNzYWdlO3ZhciBlPXRoaXMuZ2V0T2JqZWN0Q2xhc3NOYW1lKHQpO3JldHVybihlJiZcIk9iamVjdFwiIT09ZT9cIidcIitlK1wiJ1wiOlwiT2JqZWN0XCIpK1wiIGNhcHR1cmVkIGFzIGV4Y2VwdGlvbiB3aXRoIGtleXM6IFwiK3l0KHQpfWlzU2V2ZXJpdHlMZXZlbCh0KXtyZXR1cm4gTSh0KSYmIU8odCkmJm10LmluZGV4T2YodCk+PTB9Z2V0RXJyb3JQcm9wZXJ0eUZyb21PYmplY3QodCl7Zm9yKHZhciBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkpe3ZhciBlPXRbaV07aWYoWChlKSlyZXR1cm4gZX19Z2V0T2JqZWN0Q2xhc3NOYW1lKHQpe3RyeXt2YXIgaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIGk/aS5jb25zdHJ1Y3Rvci5uYW1lOnZvaWQgMH1jYXRjaCh0KXtyZXR1cm59fX1jbGFzcyB3dHttYXRjaCh0KXtyZXR1cm4gcSh0KX1jb2VyY2UodCxpKXt2YXIgZSxyPXQuY29uc3RydWN0b3IubmFtZTtyZXR1cm57dHlwZTpyLHZhbHVlOnIrXCIgY2FwdHVyZWQgYXMgZXhjZXB0aW9uIHdpdGgga2V5czogXCIreXQodCksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH19fWNsYXNzIFN0e21hdGNoKHQpe3JldHVybiBVKHQpfWNvZXJjZSh0LGkpe3ZhciBlO3JldHVybnt0eXBlOlwiRXJyb3JcIix2YWx1ZTpcIlByaW1pdGl2ZSB2YWx1ZSBjYXB0dXJlZCBhcyBleGNlcHRpb246IFwiK1N0cmluZyh0KSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19Y2xhc3Mga3R7bWF0Y2godCl7cmV0dXJuIHoodCxcIlByb21pc2VSZWplY3Rpb25FdmVudFwiKX1jb2VyY2UodCxpKXt2YXIgZSxyPXRoaXMuZ2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpO3JldHVybiBVKHIpP3t0eXBlOlwiVW5oYW5kbGVkUmVqZWN0aW9uXCIsdmFsdWU6XCJOb24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogXCIrU3RyaW5nKHIpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9OmkuYXBwbHkocil9Z2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpe2lmKFUodCkpcmV0dXJuIHQ7dHJ5e2lmKFwicmVhc29uXCJpbiB0KXJldHVybiB0LnJlYXNvbjtpZihcImRldGFpbFwiaW4gdCYmXCJyZWFzb25cImluIHQuZGV0YWlsKXJldHVybiB0LmRldGFpbC5yZWFzb259Y2F0Y2godCl7fXJldHVybiB0fX12YXIgJHQ9aT0+e3ZhciBlPXtUOmZ1bmN0aW9uKGUpe2lmKHQmJihjLkRFQlVHfHx2LlBPU1RIT0dfREVCVUcpJiYhQyh0LmNvbnNvbGUpJiZ0LmNvbnNvbGUpe2Zvcih2YXIgcj0oXCJfX3Jyd2ViX29yaWdpbmFsX19cImluIHQuY29uc29sZVtlXT90LmNvbnNvbGVbZV0uX19ycndlYl9vcmlnaW5hbF9fOnQuY29uc29sZVtlXSkscz1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHM+MT9zLTE6MCksbz0xO288cztvKyspbltvLTFdPWFyZ3VtZW50c1tvXTtyKGksLi4ubil9fSxpbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5UKFwibG9nXCIsLi4uaSl9LHdhcm46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLlQoXCJ3YXJuXCIsLi4uaSl9LGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5UKFwiZXJyb3JcIiwuLi5pKX0sY3JpdGljYWw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyllW3JdPWFyZ3VtZW50c1tyXTtjb25zb2xlLmVycm9yKGksLi4uZSl9LHVuaW5pdGlhbGl6ZWRXYXJuaW5nOnQ9PntlLmVycm9yKFwiWW91IG11c3QgaW5pdGlhbGl6ZSBQb3N0SG9nIGJlZm9yZSBjYWxsaW5nIFwiK3QpfSxjcmVhdGVMb2dnZXI6dD0+JHQoaStcIiBcIit0KX07cmV0dXJuIGV9LHh0PSR0KFwiW1Bvc3RIb2cuanNdXCIpLEV0PXh0LmNyZWF0ZUxvZ2dlcixQdD1FdChcIltFeHRlcm5hbFNjcmlwdHNMb2FkZXJdXCIpLFJ0PSh0LGksZSk9PntpZih0LmNvbmZpZy5kaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZylyZXR1cm4gUHQud2FybihpK1wiIHdhcyByZXF1ZXN0ZWQgYnV0IGxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZC5cIiksZShcIkxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZFwiKTt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIik7aWYocilmb3IodmFyIHMsbj1mdW5jdGlvbigpe2lmKHJbYV0uc3JjPT09aSl7dmFyIHQ9clthXTtyZXR1cm4gdC5fX3Bvc3Rob2dfbG9hZGluZ19jYWxsYmFja19maXJlZD97djplKCl9Oih0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKGk9Pnt0Ll9fcG9zdGhvZ19sb2FkaW5nX2NhbGxiYWNrX2ZpcmVkPSEwLGUodm9pZCAwLGkpfSkpLHQub25lcnJvcj10PT5lKHQpLHt2OnZvaWQgMH0pfX0sYT0wO2E8ci5sZW5ndGg7YSsrKWlmKHM9bigpKXJldHVybiBzLnY7dmFyIGw9KCk9PntpZighbylyZXR1cm4gZShcImRvY3VtZW50IG5vdCBmb3VuZFwiKTt2YXIgcj1vLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHIuc3JjPWksci5vbmxvYWQ9dD0+e3IuX19wb3N0aG9nX2xvYWRpbmdfY2FsbGJhY2tfZmlyZWQ9ITAsZSh2b2lkIDAsdCl9LHIub25lcnJvcj10PT5lKHQpLHQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQmJihyPXQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQocikpLCFyKXJldHVybiBlKFwicHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCByZXR1cm5lZCBudWxsXCIpO3ZhciBzLG49by5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keSA+IHNjcmlwdFwiKTtuLmxlbmd0aD4wP251bGw9PShzPW5bMF0ucGFyZW50Tm9kZSl8fHMuaW5zZXJ0QmVmb3JlKHIsblswXSk6by5ib2R5LmFwcGVuZENoaWxkKHIpfTtudWxsIT1vJiZvLmJvZHk/bCgpOm51bGw9PW98fG8uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixsKX07di5fX1Bvc3Rob2dFeHRlbnNpb25zX189di5fX1Bvc3Rob2dFeHRlbnNpb25zX198fHt9LHYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k9KHQsaSxlKT0+e3ZhciByPVwiL3N0YXRpYy9cIitpK1wiLmpzP3Y9XCIrdC52ZXJzaW9uO2lmKFwicmVtb3RlLWNvbmZpZ1wiPT09aSYmKHI9XCIvYXJyYXkvXCIrdC5jb25maWcudG9rZW4rXCIvY29uZmlnLmpzXCIpLFwidG9vbGJhclwiPT09aSl7dmFyIHM9M2U1O3I9citcIiZ0PVwiK01hdGguZmxvb3IoRGF0ZS5ub3coKS9zKSpzfXZhciBuPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLHIpO1J0KHQsbixlKX0sdi5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZFNpdGVBcHA9KHQsaSxlKT0+e3ZhciByPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLGkpO1J0KHQscixlKX07dmFyIEl0PXt9O2Z1bmN0aW9uIFR0KHQsaSxlKXtpZihQKHQpKWlmKHImJnQuZm9yRWFjaD09PXIpdC5mb3JFYWNoKGksZSk7ZWxzZSBpZihcImxlbmd0aFwiaW4gdCYmdC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBzPTAsbj10Lmxlbmd0aDtzPG47cysrKWlmKHMgaW4gdCYmaS5jYWxsKGUsdFtzXSxzKT09PUl0KXJldHVybn1mdW5jdGlvbiBDdCh0LGksZSl7aWYoIUEodCkpe2lmKFAodCkpcmV0dXJuIFR0KHQsaSxlKTtpZihMKHQpKXtmb3IodmFyIHIgb2YgdC5lbnRyaWVzKCkpaWYoaS5jYWxsKGUsclsxXSxyWzBdKT09PUl0KXJldHVybn1lbHNlIGZvcih2YXIgcyBpbiB0KWlmKHguY2FsbCh0LHMpJiZpLmNhbGwoZSx0W3NdLHMpPT09SXQpcmV0dXJufX12YXIgTXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBUdChlLChmdW5jdGlvbihpKXtmb3IodmFyIGUgaW4gaSl2b2lkIDAhPT1pW2VdJiYodFtlXT1pW2VdKX0pKSx0fSxPdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFR0KGUsKGZ1bmN0aW9uKGkpe1R0KGksKGZ1bmN0aW9uKGkpe3QucHVzaChpKX0pKX0pKSx0fTtmdW5jdGlvbiBGdCh0KXtmb3IodmFyIGk9T2JqZWN0LmtleXModCksZT1pLmxlbmd0aCxyPW5ldyBBcnJheShlKTtlLS07KXJbZV09W2lbZV0sdFtpW2VdXV07cmV0dXJuIHJ9dmFyIEF0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCgpfWNhdGNoKHQpe3JldHVybn19LER0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RyeXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpKSxyPTA7cjxpO3IrKyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdC5hcHBseSh0aGlzLGUpfWNhdGNoKHQpe3h0LmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIikseHQuY3JpdGljYWwodCl9fX0sanQ9ZnVuY3Rpb24odCl7dmFyIGk9e307cmV0dXJuIEN0KHQsKGZ1bmN0aW9uKHQsZSl7KE0odCkmJnQubGVuZ3RoPjB8fEQodCkpJiYoaVtlXT10KX0pKSxpfTtmdW5jdGlvbiBMdCh0LGkpe3JldHVybiBlPXQscj10PT5NKHQpJiYhRihpKT90LnNsaWNlKDAsaSk6dCxzPW5ldyBTZXQsZnVuY3Rpb24gdChpLGUpe3JldHVybiBpIT09T2JqZWN0KGkpP3I/cihpLGUpOmk6cy5oYXMoaSk/dm9pZCAwOihzLmFkZChpKSxQKGkpPyhuPVtdLFR0KGksKGk9PntuLnB1c2godChpKSl9KSkpOihuPXt9LEN0KGksKChpLGUpPT57cy5oYXMoaSl8fChuW2VdPXQoaSxlKSl9KSkpLG4pO3ZhciBufShlKTt2YXIgZSxyLHN9dmFyIE50PVtcImhlcm9rdWFwcC5jb21cIixcInZlcmNlbC5hcHBcIixcIm5ldGxpZnkuYXBwXCJdO2Z1bmN0aW9uIFV0KHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuaG9zdG5hbWU7aWYoIU0oaSkpcmV0dXJuITE7dmFyIGU9aS5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgciBvZiBOdClpZihlPT09cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB6dCh0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKGkodFtlXSkpcmV0dXJuIHRbZV19ZnVuY3Rpb24gcXQodCxpLGUscil7dmFye2NhcHR1cmU6cz0hMSxwYXNzaXZlOm49ITB9PW51bGwhPXI/cjp7fTtudWxsPT10fHx0LmFkZEV2ZW50TGlzdGVuZXIoaSxlLHtjYXB0dXJlOnMscGFzc2l2ZTpufSl9dmFyIEJ0PVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLEh0PVwiX19hbGlhc1wiLFd0PVwiX190aW1lcnNcIixHdD1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLFZ0PVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixKdD1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIsS3Q9XCIkZXJyb3JfdHJhY2tpbmdfc3VwcHJlc3Npb25fcnVsZXNcIixZdD1cIiRlcnJvcl90cmFja2luZ19jYXB0dXJlX2V4dGVuc2lvbl9leGNlcHRpb25zXCIsWHQ9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsUXQ9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLFp0PVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsdGk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfcmVtb3RlX2NvbmZpZ1wiLGlpPVwiJHNlc3Npb25fcmVjb3JkaW5nX2VuYWJsZWRfc2VydmVyX3NpZGVcIixlaT1cIiRjb25zb2xlX2xvZ19yZWNvcmRpbmdfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLHJpPVwiJHNlc3Npb25fcmVjb3JkaW5nX25ldHdvcmtfcGF5bG9hZF9jYXB0dXJlXCIsc2k9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfbWFza2luZ1wiLG5pPVwiJHNlc3Npb25fcmVjb3JkaW5nX2NhbnZhc19yZWNvcmRpbmdcIixvaT1cIiRyZXBsYXlfc2FtcGxlX3JhdGVcIixhaT1cIiRyZXBsYXlfbWluaW11bV9kdXJhdGlvblwiLGxpPVwiJHJlcGxheV9zY3JpcHRfY29uZmlnXCIsdWk9XCIkc2VzaWRcIixoaT1cIiRzZXNzaW9uX2lzX3NhbXBsZWRcIixkaT1cIiRzZXNzaW9uX3JlY29yZGluZ191cmxfdHJpZ2dlcl9hY3RpdmF0ZWRfc2Vzc2lvblwiLHZpPVwiJHNlc3Npb25fcmVjb3JkaW5nX2V2ZW50X3RyaWdnZXJfYWN0aXZhdGVkX3Nlc3Npb25cIixjaT1cIiRlbmFibGVkX2ZlYXR1cmVfZmxhZ3NcIixmaT1cIiRlYXJseV9hY2Nlc3NfZmVhdHVyZXNcIixwaT1cIiRmZWF0dXJlX2ZsYWdfZGV0YWlsc1wiLGdpPVwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiLF9pPVwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIsbWk9XCIkc3VydmV5c1wiLHlpPVwiJHN1cnZleXNfYWN0aXZhdGVkXCIsYmk9XCIkZmxhZ19jYWxsX3JlcG9ydGVkXCIsd2k9XCIkdXNlcl9zdGF0ZVwiLFNpPVwiJGNsaWVudF9zZXNzaW9uX3Byb3BzXCIsa2k9XCIkY2FwdHVyZV9yYXRlX2xpbWl0XCIsJGk9XCIkaW5pdGlhbF9jYW1wYWlnbl9wYXJhbXNcIix4aT1cIiRpbml0aWFsX3JlZmVycmVyX2luZm9cIixFaT1cIiRpbml0aWFsX3BlcnNvbl9pbmZvXCIsUGk9XCIkZXBwXCIsUmk9XCJfX1BPU1RIT0dfVE9PTEJBUl9fXCIsSWk9XCIkcG9zdGhvZ19jb29raWVsZXNzXCIsVGk9W0J0LEh0LFwiX19jbXBuc1wiLFd0LGlpLFZ0LHVpLGNpLEt0LHdpLGZpLHBpLF9pLGdpLG1pLGJpLFNpLGtpLCRpLHhpLFBpLEVpXTtmdW5jdGlvbiBDaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEVsZW1lbnQmJih0LmlkPT09Uml8fCEobnVsbD09dC5jbG9zZXN0fHwhdC5jbG9zZXN0KFwiLnRvb2xiYXItZ2xvYmFsLWZhZGUtY29udGFpbmVyXCIpKSl9ZnVuY3Rpb24gTWkodCl7cmV0dXJuISF0JiYxPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBPaSh0LGkpe3JldHVybiEhdCYmISF0LnRhZ05hbWUmJnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09aS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIEZpKHQpe3JldHVybiEhdCYmMz09PXQubm9kZVR5cGV9ZnVuY3Rpb24gQWkodCl7cmV0dXJuISF0JiYxMT09PXQubm9kZVR5cGV9ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHQ/Yih0KS5zcGxpdCgvXFxzKy8pOltdfWZ1bmN0aW9uIGppKGkpe3ZhciBlPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24uaHJlZjtyZXR1cm4hIShlJiZpJiZpLnNvbWUoKHQ9PmUubWF0Y2godCkpKSl9ZnVuY3Rpb24gTGkodCl7dmFyIGk9XCJcIjtzd2l0Y2godHlwZW9mIHQuY2xhc3NOYW1lKXtjYXNlXCJzdHJpbmdcIjppPXQuY2xhc3NOYW1lO2JyZWFrO2Nhc2VcIm9iamVjdFwiOmk9KHQuY2xhc3NOYW1lJiZcImJhc2VWYWxcImluIHQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lLmJhc2VWYWw6bnVsbCl8fHQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCI7YnJlYWs7ZGVmYXVsdDppPVwiXCJ9cmV0dXJuIERpKGkpfWZ1bmN0aW9uIE5pKHQpe3JldHVybiBBKHQpP251bGw6Yih0KS5zcGxpdCgvKFxccyspLykuZmlsdGVyKCh0PT5yZSh0KSkpLmpvaW4oXCJcIikucmVwbGFjZSgvW1xcclxcbl0vZyxcIiBcIikucmVwbGFjZSgvWyBdKy9nLFwiIFwiKS5zdWJzdHJpbmcoMCwyNTUpfWZ1bmN0aW9uIFVpKHQpe3ZhciBpPVwiXCI7cmV0dXJuIEtpKHQpJiYhWWkodCkmJnQuY2hpbGROb2RlcyYmdC5jaGlsZE5vZGVzLmxlbmd0aCYmQ3QodC5jaGlsZE5vZGVzLChmdW5jdGlvbih0KXt2YXIgZTtGaSh0KSYmdC50ZXh0Q29udGVudCYmKGkrPW51bGwhPT0oZT1OaSh0LnRleHRDb250ZW50KSkmJnZvaWQgMCE9PWU/ZTpcIlwiKX0pKSxiKGkpfWZ1bmN0aW9uIHppKHQpe3JldHVybiBDKHQudGFyZ2V0KT90LnNyY0VsZW1lbnR8fG51bGw6bnVsbCE9KGk9dC50YXJnZXQpJiZpLnNoYWRvd1Jvb3Q/dC5jb21wb3NlZFBhdGgoKVswXXx8bnVsbDp0LnRhcmdldHx8bnVsbDt2YXIgaX12YXIgcWk9W1wiYVwiLFwiYnV0dG9uXCIsXCJmb3JtXCIsXCJpbnB1dFwiLFwic2VsZWN0XCIsXCJ0ZXh0YXJlYVwiLFwibGFiZWxcIl07ZnVuY3Rpb24gQmkodCxpKXtpZihDKGkpKXJldHVybiEwO3ZhciBlLHI9ZnVuY3Rpb24odCl7aWYoaS5zb21lKChpPT50Lm1hdGNoZXMoaSkpKSlyZXR1cm57djohMH19O2Zvcih2YXIgcyBvZiB0KWlmKGU9cihzKSlyZXR1cm4gZS52O3JldHVybiExfWZ1bmN0aW9uIEhpKHQpe3ZhciBpPXQucGFyZW50Tm9kZTtyZXR1cm4hKCFpfHwhTWkoaSkpJiZpfXZhciBXaT1bXCIucGgtbm8tcmFnZWNsaWNrXCIsXCIucGgtbm8tY2FwdHVyZVwiXTt2YXIgR2k9dD0+IXR8fE9pKHQsXCJodG1sXCIpfHwhTWkodCksVmk9KGksZSk9PntpZighdHx8R2koaSkpcmV0dXJue3BhcmVudElzVXNlZnVsRWxlbWVudDohMSx0YXJnZXRFbGVtZW50TGlzdDpbXX07Zm9yKHZhciByPSExLHM9W2ldLG49aTtuLnBhcmVudE5vZGUmJiFPaShuLFwiYm9keVwiKTspaWYoQWkobi5wYXJlbnROb2RlKSlzLnB1c2gobi5wYXJlbnROb2RlLmhvc3QpLG49bi5wYXJlbnROb2RlLmhvc3Q7ZWxzZXt2YXIgbz1IaShuKTtpZighbylicmVhaztpZihlfHxxaS5pbmRleE9mKG8udGFnTmFtZS50b0xvd2VyQ2FzZSgpKT4tMSlyPSEwO2Vsc2V7dmFyIGE9dC5nZXRDb21wdXRlZFN0eWxlKG8pO2EmJlwicG9pbnRlclwiPT09YS5nZXRQcm9wZXJ0eVZhbHVlKFwiY3Vyc29yXCIpJiYocj0hMCl9cy5wdXNoKG8pLG49b31yZXR1cm57cGFyZW50SXNVc2VmdWxFbGVtZW50OnIsdGFyZ2V0RWxlbWVudExpc3Q6c319O2Z1bmN0aW9uIEppKGksZSxyLHMsbil7dmFyIG8sYSxsLHU7aWYodm9pZCAwPT09ciYmKHI9dm9pZCAwKSwhdHx8R2koaSkpcmV0dXJuITE7aWYobnVsbCE9KG89cikmJm8udXJsX2FsbG93bGlzdCYmIWppKHIudXJsX2FsbG93bGlzdCkpcmV0dXJuITE7aWYobnVsbCE9KGE9cikmJmEudXJsX2lnbm9yZWxpc3QmJmppKHIudXJsX2lnbm9yZWxpc3QpKXJldHVybiExO2lmKG51bGwhPShsPXIpJiZsLmRvbV9ldmVudF9hbGxvd2xpc3Qpe3ZhciBoPXIuZG9tX2V2ZW50X2FsbG93bGlzdDtpZihoJiYhaC5zb21lKCh0PT5lLnR5cGU9PT10KSkpcmV0dXJuITF9dmFye3BhcmVudElzVXNlZnVsRWxlbWVudDpkLHRhcmdldEVsZW1lbnRMaXN0OnZ9PVZpKGkscyk7aWYoIWZ1bmN0aW9uKHQsaSl7dmFyIGU9bnVsbD09aT92b2lkIDA6aS5lbGVtZW50X2FsbG93bGlzdDtpZihDKGUpKXJldHVybiEwO3ZhciByLHM9ZnVuY3Rpb24odCl7aWYoZS5zb21lKChpPT50LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PWkpKSlyZXR1cm57djohMH19O2Zvcih2YXIgbiBvZiB0KWlmKHI9cyhuKSlyZXR1cm4gci52O3JldHVybiExfSh2LHIpKXJldHVybiExO2lmKCFCaSh2LG51bGw9PSh1PXIpP3ZvaWQgMDp1LmNzc19zZWxlY3Rvcl9hbGxvd2xpc3QpKXJldHVybiExO3ZhciBjPXQuZ2V0Q29tcHV0ZWRTdHlsZShpKTtpZihjJiZcInBvaW50ZXJcIj09PWMuZ2V0UHJvcGVydHlWYWx1ZShcImN1cnNvclwiKSYmXCJjbGlja1wiPT09ZS50eXBlKXJldHVybiEwO3ZhciBmPWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3N3aXRjaChmKXtjYXNlXCJodG1sXCI6cmV0dXJuITE7Y2FzZVwiZm9ybVwiOnJldHVybihufHxbXCJzdWJtaXRcIl0pLmluZGV4T2YoZS50eXBlKT49MDtjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuKG58fFtcImNoYW5nZVwiLFwiY2xpY2tcIl0pLmluZGV4T2YoZS50eXBlKT49MDtkZWZhdWx0OnJldHVybiBkPyhufHxbXCJjbGlja1wiXSkuaW5kZXhPZihlLnR5cGUpPj0wOihufHxbXCJjbGlja1wiXSkuaW5kZXhPZihlLnR5cGUpPj0wJiYocWkuaW5kZXhPZihmKT4tMXx8XCJ0cnVlXCI9PT1pLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9fWZ1bmN0aW9uIEtpKHQpe2Zvcih2YXIgaT10O2kucGFyZW50Tm9kZSYmIU9pKGksXCJib2R5XCIpO2k9aS5wYXJlbnROb2RlKXt2YXIgZT1MaShpKTtpZih5KGUsXCJwaC1zZW5zaXRpdmVcIil8fHkoZSxcInBoLW5vLWNhcHR1cmVcIikpcmV0dXJuITF9aWYoeShMaSh0KSxcInBoLWluY2x1ZGVcIikpcmV0dXJuITA7dmFyIHI9dC50eXBlfHxcIlwiO2lmKE0ocikpc3dpdGNoKHIudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGlkZGVuXCI6Y2FzZVwicGFzc3dvcmRcIjpyZXR1cm4hMX12YXIgcz10Lm5hbWV8fHQuaWR8fFwiXCI7aWYoTShzKSl7aWYoL15jY3xjYXJkbnVtfGNjbnVtfGNyZWRpdGNhcmR8Y3NjfGN2Y3xjdnZ8ZXhwfHBhc3N8cHdkfHJvdXRpbmd8c2VjY29kZXxzZWN1cml0eWNvZGV8c2VjdXJpdHludW18c29jaWFsc2VjfHNvY3NlY3xzc24vaS50ZXN0KHMucmVwbGFjZSgvW15hLXpBLVowLTldL2csXCJcIikpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFlpKHQpe3JldHVybiEhKE9pKHQsXCJpbnB1dFwiKSYmIVtcImJ1dHRvblwiLFwiY2hlY2tib3hcIixcInN1Ym1pdFwiLFwicmVzZXRcIl0uaW5jbHVkZXModC50eXBlKXx8T2kodCxcInNlbGVjdFwiKXx8T2kodCxcInRleHRhcmVhXCIpfHxcInRydWVcIj09PXQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX12YXIgWGk9XCIoNFswLTldezEyfSg/OlswLTldezN9KT8pfCg1WzEtNV1bMC05XXsxNH0pfCg2KD86MDExfDVbMC05XXsyfSlbMC05XXsxMn0pfCgzWzQ3XVswLTldezEzfSl8KDMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSl8KCg/OjIxMzF8MTgwMHwzNVswLTldezN9KVswLTldezExfSlcIixRaT1uZXcgUmVnRXhwKFwiXig/OlwiK1hpK1wiKSRcIiksWmk9bmV3IFJlZ0V4cChYaSksdGU9XCJcXFxcZHszfS0/XFxcXGR7Mn0tP1xcXFxkezR9XCIsaWU9bmV3IFJlZ0V4cChcIl4oXCIrdGUrXCIpJFwiKSxlZT1uZXcgUmVnRXhwKFwiKFwiK3RlK1wiKVwiKTtmdW5jdGlvbiByZSh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSEwKSxBKHQpKXJldHVybiExO2lmKE0odCkpe2lmKHQ9Yih0KSwoaT9RaTpaaSkudGVzdCgodHx8XCJcIikucmVwbGFjZSgvWy0gXS9nLFwiXCIpKSlyZXR1cm4hMTtpZigoaT9pZTplZSkudGVzdCh0KSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBzZSh0KXt2YXIgaT1VaSh0KTtyZXR1cm4gcmUoaT0oaStcIiBcIituZSh0KSkudHJpbSgpKT9pOlwiXCJ9ZnVuY3Rpb24gbmUodCl7dmFyIGk9XCJcIjtyZXR1cm4gdCYmdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiZDdCh0LmNoaWxkTm9kZXMsKGZ1bmN0aW9uKHQpe3ZhciBlO2lmKHQmJlwic3BhblwiPT09KG51bGw9PShlPXQudGFnTmFtZSk/dm9pZCAwOmUudG9Mb3dlckNhc2UoKSkpdHJ5e3ZhciByPVVpKHQpO2k9KGkrXCIgXCIrcikudHJpbSgpLHQuY2hpbGROb2RlcyYmdC5jaGlsZE5vZGVzLmxlbmd0aCYmKGk9KGkrXCIgXCIrbmUodCkpLnRyaW0oKSl9Y2F0Y2godCl7eHQuZXJyb3IoXCJbQXV0b0NhcHR1cmVdXCIsdCl9fSkpLGl9ZnVuY3Rpb24gb2UodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXQubWFwKCh0PT57dmFyIGksZSxyPVwiXCI7aWYodC50YWdfbmFtZSYmKHIrPXQudGFnX25hbWUpLHQuYXR0cl9jbGFzcylmb3IodmFyIHMgb2YodC5hdHRyX2NsYXNzLnNvcnQoKSx0LmF0dHJfY2xhc3MpKXIrPVwiLlwiK3MucmVwbGFjZSgvXCIvZyxcIlwiKTt2YXIgbj1nKHt9LHQudGV4dD97dGV4dDp0LnRleHR9Ont9LHtcIm50aC1jaGlsZFwiOm51bGwhPT0oaT10Lm50aF9jaGlsZCkmJnZvaWQgMCE9PWk/aTowLFwibnRoLW9mLXR5cGVcIjpudWxsIT09KGU9dC5udGhfb2ZfdHlwZSkmJnZvaWQgMCE9PWU/ZTowfSx0LmhyZWY/e2hyZWY6dC5ocmVmfTp7fSx0LmF0dHJfaWQ/e2F0dHJfaWQ6dC5hdHRyX2lkfTp7fSx0LmF0dHJpYnV0ZXMpLG89e307cmV0dXJuIEZ0KG4pLnNvcnQoKCh0LGkpPT57dmFyW2VdPXQsW3JdPWk7cmV0dXJuIGUubG9jYWxlQ29tcGFyZShyKX0pKS5mb3JFYWNoKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gb1thZShpLnRvU3RyaW5nKCkpXT1hZShlLnRvU3RyaW5nKCkpfSkpLHIrPVwiOlwiLHIrPUZ0KG8pLm1hcCgodD0+e3ZhcltpLGVdPXQ7cmV0dXJuIGkrJz1cIicrZSsnXCInfSkpLmpvaW4oXCJcIil9KSk7cmV0dXJuIGkuam9pbihcIjtcIil9KGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcCgodD0+e3ZhciBpLGUscj17dGV4dDpudWxsPT0oaT10LiRlbF90ZXh0KT92b2lkIDA6aS5zbGljZSgwLDQwMCksdGFnX25hbWU6dC50YWdfbmFtZSxocmVmOm51bGw9PShlPXQuYXR0cl9faHJlZik/dm9pZCAwOmUuc2xpY2UoMCwyMDQ4KSxhdHRyX2NsYXNzOmxlKHQpLGF0dHJfaWQ6dC5hdHRyX19pZCxudGhfY2hpbGQ6dC5udGhfY2hpbGQsbnRoX29mX3R5cGU6dC5udGhfb2ZfdHlwZSxhdHRyaWJ1dGVzOnt9fTtyZXR1cm4gRnQodCkuZmlsdGVyKCh0PT57dmFyW2ldPXQ7cmV0dXJuIDA9PT1pLmluZGV4T2YoXCJhdHRyX19cIil9KSkuZm9yRWFjaCgodD0+e3ZhcltpLGVdPXQ7cmV0dXJuIHIuYXR0cmlidXRlc1tpXT1lfSkpLHJ9KSl9KHQpKX1mdW5jdGlvbiBhZSh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cInxcXFxcXCIvZywnXFxcXFwiJyl9ZnVuY3Rpb24gbGUodCl7dmFyIGk9dC5hdHRyX19jbGFzcztyZXR1cm4gaT9QKGkpP2k6RGkoaSk6dm9pZCAwfWNsYXNzIHVle2NvbnN0cnVjdG9yKCl7dGhpcy5jbGlja3M9W119aXNSYWdlQ2xpY2sodCxpLGUpe3ZhciByPXRoaXMuY2xpY2tzW3RoaXMuY2xpY2tzLmxlbmd0aC0xXTtpZihyJiZNYXRoLmFicyh0LXIueCkrTWF0aC5hYnMoaS1yLnkpPDMwJiZlLXIudGltZXN0YW1wPDFlMyl7aWYodGhpcy5jbGlja3MucHVzaCh7eDp0LHk6aSx0aW1lc3RhbXA6ZX0pLDM9PT10aGlzLmNsaWNrcy5sZW5ndGgpcmV0dXJuITB9ZWxzZSB0aGlzLmNsaWNrcz1be3g6dCx5OmksdGltZXN0YW1wOmV9XTtyZXR1cm4hMX19dmFyIGhlPVwiJGNvcHlfYXV0b2NhcHR1cmVcIixkZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5HWmlwSlM9XCJnemlwLWpzXCIsdC5CYXNlNjQ9XCJiYXNlNjRcIix0fSh7fSksdmU9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdLGNlPVtcImxvY2FsaG9zdFwiLFwiMTI3LjAuMC4xXCJdLGZlPXQ9Pnt2YXIgaT1udWxsPT1vP3ZvaWQgMDpvLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBDKGkpP251bGw6KGkuaHJlZj10LGkpfSxwZT1mdW5jdGlvbih0LGkpe3ZhciBlLHI7dm9pZCAwPT09aSYmKGk9XCImXCIpO3ZhciBzPVtdO3JldHVybiBDdCh0LChmdW5jdGlvbih0LGkpe0ModCl8fEMoaSl8fFwidW5kZWZpbmVkXCI9PT1pfHwoZT1lbmNvZGVVUklDb21wb25lbnQoKHQ9PnQgaW5zdGFuY2VvZiBGaWxlKSh0KT90Lm5hbWU6dC50b1N0cmluZygpKSxyPWVuY29kZVVSSUNvbXBvbmVudChpKSxzW3MubGVuZ3RoXT1yK1wiPVwiK2UpfSkpLHMuam9pbihpKX0sZ2U9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGUscj0oKHQuc3BsaXQoXCIjXCIpWzBdfHxcIlwiKS5zcGxpdCgvXFw/KC4qKS8pWzFdfHxcIlwiKS5yZXBsYWNlKC9eXFw/Ky9nLFwiXCIpLnNwbGl0KFwiJlwiKSxzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXJbc10uc3BsaXQoXCI9XCIpO2lmKG5bMF09PT1pKXtlPW47YnJlYWt9fWlmKCFQKGUpfHxlLmxlbmd0aDwyKXJldHVyblwiXCI7dmFyIG89ZVsxXTt0cnl7bz1kZWNvZGVVUklDb21wb25lbnQobyl9Y2F0Y2godCl7eHQuZXJyb3IoXCJTa2lwcGluZyBkZWNvZGluZyBmb3IgbWFsZm9ybWVkIHF1ZXJ5IHBhcmFtOiBcIitvKX1yZXR1cm4gby5yZXBsYWNlKC9cXCsvZyxcIiBcIil9LF9lPWZ1bmN0aW9uKHQsaSxlKXtpZighdHx8IWl8fCFpLmxlbmd0aClyZXR1cm4gdDtmb3IodmFyIHI9dC5zcGxpdChcIiNcIikscz1yWzBdfHxcIlwiLG49clsxXSxvPXMuc3BsaXQoXCI/XCIpLGE9b1sxXSxsPW9bMF0sdT0oYXx8XCJcIikuc3BsaXQoXCImXCIpLGg9W10sZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgdj11W2RdLnNwbGl0KFwiPVwiKTtQKHYpJiYoaS5pbmNsdWRlcyh2WzBdKT9oLnB1c2godlswXStcIj1cIitlKTpoLnB1c2godVtkXSkpfXZhciBjPWw7cmV0dXJuIG51bGwhPWEmJihjKz1cIj9cIitoLmpvaW4oXCImXCIpKSxudWxsIT1uJiYoYys9XCIjXCIrbiksY30sbWU9ZnVuY3Rpb24odCxpKXt2YXIgZT10Lm1hdGNoKG5ldyBSZWdFeHAoaStcIj0oW14mXSopXCIpKTtyZXR1cm4gZT9lWzFdOm51bGx9LHllPUV0KFwiW0F1dG9DYXB0dXJlXVwiKTtmdW5jdGlvbiBiZSh0LGkpe3JldHVybiBpLmxlbmd0aD50P2kuc2xpY2UoMCx0KStcIi4uLlwiOml9ZnVuY3Rpb24gd2UodCl7aWYodC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKXJldHVybiB0LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7dmFyIGk9dDtkb3tpPWkucHJldmlvdXNTaWJsaW5nfXdoaWxlKGkmJiFNaShpKSk7cmV0dXJuIGl9ZnVuY3Rpb24gU2UodCxpLGUscil7dmFyIHM9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCksbj17dGFnX25hbWU6c307cWkuaW5kZXhPZihzKT4tMSYmIWUmJihcImFcIj09PXMudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PXMudG9Mb3dlckNhc2UoKT9uLiRlbF90ZXh0PWJlKDEwMjQsc2UodCkpOm4uJGVsX3RleHQ9YmUoMTAyNCxVaSh0KSkpO3ZhciBvPUxpKHQpO28ubGVuZ3RoPjAmJihuLmNsYXNzZXM9by5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblwiXCIhPT10fSkpKSxDdCh0LmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKGUpe3ZhciBzO2lmKCghWWkodCl8fC0xIT09W1wibmFtZVwiLFwiaWRcIixcImNsYXNzXCIsXCJhcmlhLWxhYmVsXCJdLmluZGV4T2YoZS5uYW1lKSkmJigobnVsbD09cnx8IXIuaW5jbHVkZXMoZS5uYW1lKSkmJiFpJiZyZShlLnZhbHVlKSYmKHM9ZS5uYW1lLCFNKHMpfHxcIl9uZ2NvbnRlbnRcIiE9PXMuc3Vic3RyaW5nKDAsMTApJiZcIl9uZ2hvc3RcIiE9PXMuc3Vic3RyaW5nKDAsNykpKSl7dmFyIG89ZS52YWx1ZTtcImNsYXNzXCI9PT1lLm5hbWUmJihvPURpKG8pLmpvaW4oXCIgXCIpKSxuW1wiYXR0cl9fXCIrZS5uYW1lXT1iZSgxMDI0LG8pfX0pKTtmb3IodmFyIGE9MSxsPTEsdT10O3U9d2UodSk7KWErKyx1LnRhZ05hbWU9PT10LnRhZ05hbWUmJmwrKztyZXR1cm4gbi5udGhfY2hpbGQ9YSxuLm50aF9vZl90eXBlPWwsbn1mdW5jdGlvbiBrZShpLGUpe2Zvcih2YXIgcixzLHtlOm4sbWFza0FsbEVsZW1lbnRBdHRyaWJ1dGVzOm8sbWFza0FsbFRleHQ6YSxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDpsLGVsZW1lbnRzQ2hhaW5Bc1N0cmluZzp1fT1lLGg9W2ldLGQ9aTtkLnBhcmVudE5vZGUmJiFPaShkLFwiYm9keVwiKTspQWkoZC5wYXJlbnROb2RlKT8oaC5wdXNoKGQucGFyZW50Tm9kZS5ob3N0KSxkPWQucGFyZW50Tm9kZS5ob3N0KTooaC5wdXNoKGQucGFyZW50Tm9kZSksZD1kLnBhcmVudE5vZGUpO3ZhciB2LGM9W10sZj17fSxwPSExLGc9ITE7aWYoQ3QoaCwodD0+e3ZhciBpPUtpKHQpO1wiYVwiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJihwPXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSxwPWkmJnAmJnJlKHApJiZwKSx5KExpKHQpLFwicGgtbm8tY2FwdHVyZVwiKSYmKGc9ITApLGMucHVzaChTZSh0LG8sYSxsKSk7dmFyIGU9ZnVuY3Rpb24odCl7aWYoIUtpKHQpKXJldHVybnt9O3ZhciBpPXt9O3JldHVybiBDdCh0LmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKHQpe2lmKHQubmFtZSYmMD09PXQubmFtZS5pbmRleE9mKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZVwiKSl7dmFyIGU9dC5uYW1lLnJlcGxhY2UoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlLVwiLFwiXCIpLHI9dC52YWx1ZTtlJiZyJiZyZShyKSYmKGlbZV09cil9fSkpLGl9KHQpO010KGYsZSl9KSksZylyZXR1cm57cHJvcHM6e30sZXhwbGljaXROb0NhcHR1cmU6Z307aWYoYXx8KFwiYVwiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9jWzBdLiRlbF90ZXh0PXNlKGkpOmNbMF0uJGVsX3RleHQ9VWkoaSkpLHApe3ZhciBfLG07Y1swXS5hdHRyX19ocmVmPXA7dmFyIGI9bnVsbD09KF89ZmUocCkpP3ZvaWQgMDpfLmhvc3Qsdz1udWxsPT10fHxudWxsPT0obT10LmxvY2F0aW9uKT92b2lkIDA6bS5ob3N0O2ImJncmJmIhPT13JiYodj1wKX1yZXR1cm57cHJvcHM6TXQoeyRldmVudF90eXBlOm4udHlwZSwkY2VfdmVyc2lvbjoxfSx1P3t9OnskZWxlbWVudHM6Y30seyRlbGVtZW50c19jaGFpbjpvZShjKX0sbnVsbCE9KHI9Y1swXSkmJnIuJGVsX3RleHQ/eyRlbF90ZXh0Om51bGw9PShzPWNbMF0pP3ZvaWQgMDpzLiRlbF90ZXh0fTp7fSx2JiZcImNsaWNrXCI9PT1uLnR5cGU/eyRleHRlcm5hbF9jbGlja191cmw6dn06e30sZil9fWNsYXNzICRle2NvbnN0cnVjdG9yKHQpe3RoaXMuQz0hMSx0aGlzLk09bnVsbCx0aGlzLnJhZ2VjbGlja3M9bmV3IHVlLHRoaXMuTz0hMSx0aGlzLmluc3RhbmNlPXQsdGhpcy5GPW51bGx9Z2V0IEEoKXt2YXIgdCxpLGU9SSh0aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZSk/dGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmU6e307cmV0dXJuIGUudXJsX2FsbG93bGlzdD1udWxsPT0odD1lLnVybF9hbGxvd2xpc3QpP3ZvaWQgMDp0Lm1hcCgodD0+bmV3IFJlZ0V4cCh0KSkpLGUudXJsX2lnbm9yZWxpc3Q9bnVsbD09KGk9ZS51cmxfaWdub3JlbGlzdCk/dm9pZCAwOmkubWFwKCh0PT5uZXcgUmVnRXhwKHQpKSksZX1EKCl7aWYodGhpcy5pc0Jyb3dzZXJTdXBwb3J0ZWQoKSl7aWYodCYmbyl7dmFyIGk9aT0+e2k9aXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpO3RyeXt0aGlzLmooaSl9Y2F0Y2godCl7eWUuZXJyb3IoXCJGYWlsZWQgdG8gY2FwdHVyZSBldmVudFwiLHQpfX07aWYocXQobyxcInN1Ym1pdFwiLGkse2NhcHR1cmU6ITB9KSxxdChvLFwiY2hhbmdlXCIsaSx7Y2FwdHVyZTohMH0pLHF0KG8sXCJjbGlja1wiLGkse2NhcHR1cmU6ITB9KSx0aGlzLkEuY2FwdHVyZV9jb3BpZWRfdGV4dCl7dmFyIGU9aT0+e2k9aXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpLHRoaXMuaihpLGhlKX07cXQobyxcImNvcHlcIixlLHtjYXB0dXJlOiEwfSkscXQobyxcImN1dFwiLGUse2NhcHR1cmU6ITB9KX19fWVsc2UgeWUuaW5mbyhcIkRpc2FibGluZyBBdXRvbWF0aWMgRXZlbnQgQ29sbGVjdGlvbiBiZWNhdXNlIHRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkXCIpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLkMmJih0aGlzLkQoKSx0aGlzLkM9ITApfW9uUmVtb3RlQ29uZmlnKHQpe3QuZWxlbWVudHNDaGFpbkFzU3RyaW5nJiYodGhpcy5PPXQuZWxlbWVudHNDaGFpbkFzU3RyaW5nKSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbR3RdOiEhdC5hdXRvY2FwdHVyZV9vcHRfb3V0fSksdGhpcy5NPSEhdC5hdXRvY2FwdHVyZV9vcHRfb3V0LHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1zZXRFbGVtZW50U2VsZWN0b3JzKHQpe3RoaXMuRj10fWdldEVsZW1lbnRTZWxlY3RvcnModCl7dmFyIGksZT1bXTtyZXR1cm4gbnVsbD09KGk9dGhpcy5GKXx8aS5mb3JFYWNoKChpPT57dmFyIHI9bnVsbD09bz92b2lkIDA6by5xdWVyeVNlbGVjdG9yQWxsKGkpO251bGw9PXJ8fHIuZm9yRWFjaCgocj0+e3Q9PT1yJiZlLnB1c2goaSl9KSl9KSksZX1nZXQgaXNFbmFibGVkKCl7dmFyIHQsaSxlPW51bGw9PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LnByb3BzW0d0XSxyPXRoaXMuTTtpZihGKHIpJiYhaihlKSYmIXRoaXMuaW5zdGFuY2UuTCgpKXJldHVybiExO3ZhciBzPW51bGwhPT0oaT10aGlzLk0pJiZ2b2lkIDAhPT1pP2k6ISFlO3JldHVybiEhdGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUmJiFzfWooaSxlKXtpZih2b2lkIDA9PT1lJiYoZT1cIiRhdXRvY2FwdHVyZVwiKSx0aGlzLmlzRW5hYmxlZCl7dmFyIHIscz16aShpKTtpZihGaShzKSYmKHM9cy5wYXJlbnROb2RlfHxudWxsKSxcIiRhdXRvY2FwdHVyZVwiPT09ZSYmXCJjbGlja1wiPT09aS50eXBlJiZpIGluc3RhbmNlb2YgTW91c2VFdmVudCl0aGlzLmluc3RhbmNlLmNvbmZpZy5yYWdlY2xpY2smJm51bGwhPShyPXRoaXMucmFnZWNsaWNrcykmJnIuaXNSYWdlQ2xpY2soaS5jbGllbnRYLGkuY2xpZW50WSwobmV3IERhdGUpLmdldFRpbWUoKSkmJmZ1bmN0aW9uKGksZSl7aWYoIXR8fEdpKGkpKXJldHVybiExO3ZhciByLHM7aWYoITE9PT0ocj1qKGUpPyEhZSYmV2k6bnVsbCE9PShzPW51bGw9PWU/dm9pZCAwOmUuY3NzX3NlbGVjdG9yX2lnbm9yZWxpc3QpJiZ2b2lkIDAhPT1zP3M6V2kpKXJldHVybiExO3Zhcnt0YXJnZXRFbGVtZW50TGlzdDpufT1WaShpLCExKTtyZXR1cm4hQmkobixyKX0ocyx0aGlzLmluc3RhbmNlLmNvbmZpZy5yYWdlY2xpY2spJiZ0aGlzLmooaSxcIiRyYWdlY2xpY2tcIik7dmFyIG49ZT09PWhlO2lmKHMmJkppKHMsaSx0aGlzLkEsbixuP1tcImNvcHlcIixcImN1dFwiXTp2b2lkIDApKXt2YXJ7cHJvcHM6byxleHBsaWNpdE5vQ2FwdHVyZTphfT1rZShzLHtlOmksbWFza0FsbEVsZW1lbnRBdHRyaWJ1dGVzOnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX2VsZW1lbnRfYXR0cmlidXRlcyxtYXNrQWxsVGV4dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX2FsbF90ZXh0LGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OnRoaXMuQS5lbGVtZW50X2F0dHJpYnV0ZV9pZ25vcmVsaXN0LGVsZW1lbnRzQ2hhaW5Bc1N0cmluZzp0aGlzLk99KTtpZihhKXJldHVybiExO3ZhciBsPXRoaXMuZ2V0RWxlbWVudFNlbGVjdG9ycyhzKTtpZihsJiZsLmxlbmd0aD4wJiYoby4kZWxlbWVudF9zZWxlY3RvcnM9bCksZT09PWhlKXt2YXIgdSxoPU5pKG51bGw9PXR8fG51bGw9PSh1PXQuZ2V0U2VsZWN0aW9uKCkpP3ZvaWQgMDp1LnRvU3RyaW5nKCkpLGQ9aS50eXBlfHxcImNsaXBib2FyZFwiO2lmKCFoKXJldHVybiExO28uJHNlbGVjdGVkX2NvbnRlbnQ9aCxvLiRjb3B5X3R5cGU9ZH1yZXR1cm4gdGhpcy5pbnN0YW5jZS5jYXB0dXJlKGUsbyksITB9fX1pc0Jyb3dzZXJTdXBwb3J0ZWQoKXtyZXR1cm4gUihudWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwpfX1NYXRoLnRydW5jfHwoTWF0aC50cnVuYz1mdW5jdGlvbih0KXtyZXR1cm4gdDwwP01hdGguY2VpbCh0KTpNYXRoLmZsb29yKHQpfSksTnVtYmVyLmlzSW50ZWdlcnx8KE51bWJlci5pc0ludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIEQodCkmJmlzRmluaXRlKHQpJiZNYXRoLmZsb29yKHQpPT09dH0pO3ZhciB4ZT1cIjAxMjM0NTY3ODlhYmNkZWZcIjtjbGFzcyBFZXtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLmJ5dGVzPXQsMTYhPT10Lmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IDEyOC1iaXQgbGVuZ3RoXCIpfXN0YXRpYyBmcm9tRmllbGRzVjcodCxpLGUscil7aWYoIU51bWJlci5pc0ludGVnZXIodCl8fCFOdW1iZXIuaXNJbnRlZ2VyKGkpfHwhTnVtYmVyLmlzSW50ZWdlcihlKXx8IU51bWJlci5pc0ludGVnZXIocil8fHQ8MHx8aTwwfHxlPDB8fHI8MHx8dD4weGZmZmZmZmZmZmZmZnx8aT40MDk1fHxlPjEwNzM3NDE4MjN8fHI+NDI5NDk2NzI5NSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImludmFsaWQgZmllbGQgdmFsdWVcIik7dmFyIHM9bmV3IFVpbnQ4QXJyYXkoMTYpO3JldHVybiBzWzBdPXQvTWF0aC5wb3coMiw0MCksc1sxXT10L01hdGgucG93KDIsMzIpLHNbMl09dC9NYXRoLnBvdygyLDI0KSxzWzNdPXQvTWF0aC5wb3coMiwxNiksc1s0XT10L01hdGgucG93KDIsOCksc1s1XT10LHNbNl09MTEyfGk+Pj44LHNbN109aSxzWzhdPTEyOHxlPj4+MjQsc1s5XT1lPj4+MTYsc1sxMF09ZT4+Pjgsc1sxMV09ZSxzWzEyXT1yPj4+MjQsc1sxM109cj4+PjE2LHNbMTRdPXI+Pj44LHNbMTVdPXIsbmV3IEVlKHMpfXRvU3RyaW5nKCl7Zm9yKHZhciB0PVwiXCIsaT0wO2k8dGhpcy5ieXRlcy5sZW5ndGg7aSsrKXQ9dCt4ZS5jaGFyQXQodGhpcy5ieXRlc1tpXT4+PjQpK3hlLmNoYXJBdCgxNSZ0aGlzLmJ5dGVzW2ldKSwzIT09aSYmNSE9PWkmJjchPT1pJiY5IT09aXx8KHQrPVwiLVwiKTtpZigzNiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVVJRHY3IHdhcyBnZW5lcmF0ZWRcIik7cmV0dXJuIHR9Y2xvbmUoKXtyZXR1cm4gbmV3IEVlKHRoaXMuYnl0ZXMuc2xpY2UoMCkpfWVxdWFscyh0KXtyZXR1cm4gMD09PXRoaXMuY29tcGFyZVRvKHQpfWNvbXBhcmVUbyh0KXtmb3IodmFyIGk9MDtpPDE2O2krKyl7dmFyIGU9dGhpcy5ieXRlc1tpXS10LmJ5dGVzW2ldO2lmKDAhPT1lKXJldHVybiBNYXRoLnNpZ24oZSl9cmV0dXJuIDB9fWNsYXNzIFBle2NvbnN0cnVjdG9yKCl7dGhpcy5OPTAsdGhpcy5VPTAsdGhpcy5xPW5ldyBUZX1nZW5lcmF0ZSgpe3ZhciB0PXRoaXMuZ2VuZXJhdGVPckFib3J0KCk7aWYoQyh0KSl7dGhpcy5OPTA7dmFyIGk9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihDKGkpKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBnZW5lcmF0ZSBVVUlEIGFmdGVyIHRpbWVzdGFtcCByZXNldFwiKTtyZXR1cm4gaX1yZXR1cm4gdH1nZW5lcmF0ZU9yQWJvcnQoKXt2YXIgdD1EYXRlLm5vdygpO2lmKHQ+dGhpcy5OKXRoaXMuTj10LHRoaXMuQigpO2Vsc2V7aWYoISh0KzFlND50aGlzLk4pKXJldHVybjt0aGlzLlUrKyx0aGlzLlU+NDM5ODA0NjUxMTEwMyYmKHRoaXMuTisrLHRoaXMuQigpKX1yZXR1cm4gRWUuZnJvbUZpZWxkc1Y3KHRoaXMuTixNYXRoLnRydW5jKHRoaXMuVS9NYXRoLnBvdygyLDMwKSksdGhpcy5VJk1hdGgucG93KDIsMzApLTEsdGhpcy5xLm5leHRVaW50MzIoKSl9Qigpe3RoaXMuVT0xMDI0KnRoaXMucS5uZXh0VWludDMyKCkrKDEwMjMmdGhpcy5xLm5leHRVaW50MzIoKSl9fXZhciBSZSxJZT10PT57aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVVSURWN19ERU5ZX1dFQUtfUk5HJiZVVUlEVjdfREVOWV9XRUFLX1JORyl0aHJvdyBuZXcgRXJyb3IoXCJubyBjcnlwdG9ncmFwaGljYWxseSBzdHJvbmcgUk5HIGF2YWlsYWJsZVwiKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldPTY1NTM2Kk1hdGgudHJ1bmMoNjU1MzYqTWF0aC5yYW5kb20oKSkrTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKTtyZXR1cm4gdH07dCYmIUModC5jcnlwdG8pJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiYoSWU9dD0+Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KSk7Y2xhc3MgVGV7Y29uc3RydWN0b3IoKXt0aGlzLkg9bmV3IFVpbnQzMkFycmF5KDgpLHRoaXMuVz0xLzB9bmV4dFVpbnQzMigpe3JldHVybiB0aGlzLlc+PXRoaXMuSC5sZW5ndGgmJihJZSh0aGlzLkgpLHRoaXMuVz0wKSx0aGlzLkhbdGhpcy5XKytdfX12YXIgQ2U9KCk9Pk1lKCkudG9TdHJpbmcoKSxNZT0oKT0+KFJlfHwoUmU9bmV3IFBlKSkuZ2VuZXJhdGUoKSxPZT1cIlwiO3ZhciBGZT0vW2EtejAtOV1bYS16MC05LV0rXFwuW2Etel17Mix9JC9pO2Z1bmN0aW9uIEFlKHQsaSl7aWYoaSl7dmFyIGU9ZnVuY3Rpb24odCxpKXtpZih2b2lkIDA9PT1pJiYoaT1vKSxPZSlyZXR1cm4gT2U7aWYoIWkpcmV0dXJuXCJcIjtpZihbXCJsb2NhbGhvc3RcIixcIjEyNy4wLjAuMVwiXS5pbmNsdWRlcyh0KSlyZXR1cm5cIlwiO2Zvcih2YXIgZT10LnNwbGl0KFwiLlwiKSxyPU1hdGgubWluKGUubGVuZ3RoLDgpLHM9XCJkbW5fY2hrX1wiK0NlKCk7IU9lJiZyLS07KXt2YXIgbj1lLnNsaWNlKHIpLmpvaW4oXCIuXCIpLGE9cytcIj0xO2RvbWFpbj0uXCIrbitcIjtwYXRoPS9cIjtpLmNvb2tpZT1hK1wiO21heC1hZ2U9M1wiLGkuY29va2llLmluY2x1ZGVzKHMpJiYoaS5jb29raWU9YStcIjttYXgtYWdlPTBcIixPZT1uKX1yZXR1cm4gT2V9KHQpO2lmKCFlKXt2YXIgcj0odD0+e3ZhciBpPXQubWF0Y2goRmUpO3JldHVybiBpP2lbMF06XCJcIn0pKHQpO3IhPT1lJiZ4dC5pbmZvKFwiV2FybmluZzogY29va2llIHN1YmRvbWFpbiBkaXNjb3ZlcnkgbWlzbWF0Y2hcIixyLGUpLGU9cn1yZXR1cm4gZT9cIjsgZG9tYWluPS5cIitlOlwiXCJ9cmV0dXJuXCJcIn12YXIgRGU9e0c6KCk9PiEhbyxWOmZ1bmN0aW9uKHQpe3h0LmVycm9yKFwiY29va2llU3RvcmUgZXJyb3I6IFwiK3QpfSxKOmZ1bmN0aW9uKHQpe2lmKG8pe3RyeXtmb3IodmFyIGk9dCtcIj1cIixlPW8uY29va2llLnNwbGl0KFwiO1wiKS5maWx0ZXIoKHQ9PnQubGVuZ3RoKSkscj0wO3I8ZS5sZW5ndGg7cisrKXtmb3IodmFyIHM9ZVtyXTtcIiBcIj09cy5jaGFyQXQoMCk7KXM9cy5zdWJzdHJpbmcoMSxzLmxlbmd0aCk7aWYoMD09PXMuaW5kZXhPZihpKSlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMuc3Vic3RyaW5nKGkubGVuZ3RoLHMubGVuZ3RoKSl9fWNhdGNoKHQpe31yZXR1cm4gbnVsbH19LEs6ZnVuY3Rpb24odCl7dmFyIGk7dHJ5e2k9SlNPTi5wYXJzZShEZS5KKHQpKXx8e319Y2F0Y2godCl7fXJldHVybiBpfSxZOmZ1bmN0aW9uKHQsaSxlLHIscyl7aWYobyl0cnl7dmFyIG49XCJcIixhPVwiXCIsbD1BZShvLmxvY2F0aW9uLmhvc3RuYW1lLHIpO2lmKGUpe3ZhciB1PW5ldyBEYXRlO3Uuc2V0VGltZSh1LmdldFRpbWUoKSsyNCplKjYwKjYwKjFlMyksbj1cIjsgZXhwaXJlcz1cIit1LnRvVVRDU3RyaW5nKCl9cyYmKGE9XCI7IHNlY3VyZVwiKTt2YXIgaD10K1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkrbitcIjsgU2FtZVNpdGU9TGF4OyBwYXRoPS9cIitsK2E7cmV0dXJuIGgubGVuZ3RoPjM2ODYuNCYmeHQud2FybihcImNvb2tpZVN0b3JlIHdhcm5pbmc6IGxhcmdlIGNvb2tpZSwgbGVuPVwiK2gubGVuZ3RoKSxvLmNvb2tpZT1oLGh9Y2F0Y2godCl7cmV0dXJufX0sWDpmdW5jdGlvbih0LGkpe2lmKG51bGwhPW8mJm8uY29va2llKXRyeXtEZS5ZKHQsXCJcIiwtMSxpKX1jYXRjaCh0KXtyZXR1cm59fX0samU9bnVsbCxMZT17RzpmdW5jdGlvbigpe2lmKCFGKGplKSlyZXR1cm4gamU7dmFyIGk9ITA7aWYoQyh0KSlpPSExO2Vsc2UgdHJ5e3ZhciBlPVwiX19tcGxzc3VwcG9ydF9fXCI7TGUuWShlLFwieHl6XCIpLCdcInh5elwiJyE9PUxlLkooZSkmJihpPSExKSxMZS5YKGUpfWNhdGNoKHQpe2k9ITF9cmV0dXJuIGl8fHh0LmVycm9yKFwibG9jYWxTdG9yYWdlIHVuc3VwcG9ydGVkOyBmYWxsaW5nIGJhY2sgdG8gY29va2llIHN0b3JlXCIpLGplPWksaX0sVjpmdW5jdGlvbih0KXt4dC5lcnJvcihcImxvY2FsU3RvcmFnZSBlcnJvcjogXCIrdCl9LEo6ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGkpfWNhdGNoKHQpe0xlLlYodCl9cmV0dXJuIG51bGx9LEs6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKExlLkoodCkpfHx7fX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9LFk6ZnVuY3Rpb24oaSxlKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShpLEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaCh0KXtMZS5WKHQpfX0sWDpmdW5jdGlvbihpKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpKX1jYXRjaCh0KXtMZS5WKHQpfX19LE5lPVtcImRpc3RpbmN0X2lkXCIsdWksaGksUGksRWldLFVlPWcoe30sTGUse0s6ZnVuY3Rpb24odCl7dHJ5e3ZhciBpPXt9O3RyeXtpPURlLksodCl8fHt9fWNhdGNoKHQpe312YXIgZT1NdChpLEpTT04ucGFyc2UoTGUuSih0KXx8XCJ7fVwiKSk7cmV0dXJuIExlLlkodCxlKSxlfWNhdGNoKHQpe31yZXR1cm4gbnVsbH0sWTpmdW5jdGlvbih0LGksZSxyLHMsbil7dHJ5e0xlLlkodCxpLHZvaWQgMCx2b2lkIDAsbik7dmFyIG89e307TmUuZm9yRWFjaCgodD0+e2lbdF0mJihvW3RdPWlbdF0pfSkpLE9iamVjdC5rZXlzKG8pLmxlbmd0aCYmRGUuWSh0LG8sZSxyLHMsbil9Y2F0Y2godCl7TGUuVih0KX19LFg6ZnVuY3Rpb24oaSxlKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpKSxEZS5YKGksZSl9Y2F0Y2godCl7TGUuVih0KX19fSksemU9e30scWU9e0c6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sVjpmdW5jdGlvbih0KXt4dC5lcnJvcihcIm1lbW9yeVN0b3JhZ2UgZXJyb3I6IFwiK3QpfSxKOmZ1bmN0aW9uKHQpe3JldHVybiB6ZVt0XXx8bnVsbH0sSzpmdW5jdGlvbih0KXtyZXR1cm4gemVbdF18fG51bGx9LFk6ZnVuY3Rpb24odCxpKXt6ZVt0XT1pfSxYOmZ1bmN0aW9uKHQpe2RlbGV0ZSB6ZVt0XX19LEJlPW51bGwsSGU9e0c6ZnVuY3Rpb24oKXtpZighRihCZSkpcmV0dXJuIEJlO2lmKEJlPSEwLEModCkpQmU9ITE7ZWxzZSB0cnl7dmFyIGk9XCJfX3N1cHBvcnRfX1wiO0hlLlkoaSxcInh5elwiKSwnXCJ4eXpcIichPT1IZS5KKGkpJiYoQmU9ITEpLEhlLlgoaSl9Y2F0Y2godCl7QmU9ITF9cmV0dXJuIEJlfSxWOmZ1bmN0aW9uKHQpe3h0LmVycm9yKFwic2Vzc2lvblN0b3JhZ2UgZXJyb3I6IFwiLHQpfSxKOmZ1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGkpfWNhdGNoKHQpe0hlLlYodCl9cmV0dXJuIG51bGx9LEs6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKEhlLkoodCkpfHxudWxsfWNhdGNoKHQpe31yZXR1cm4gbnVsbH0sWTpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oaSxKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2godCl7SGUuVih0KX19LFg6ZnVuY3Rpb24oaSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShpKX1jYXRjaCh0KXtIZS5WKHQpfX19LFdlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuUEVORElORz0tMV09XCJQRU5ESU5HXCIsdFt0LkRFTklFRD0wXT1cIkRFTklFRFwiLHRbdC5HUkFOVEVEPTFdPVwiR1JBTlRFRFwiLHR9KHt9KTtjbGFzcyBHZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWdldCBBKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlLmNvbmZpZ31nZXQgY29uc2VudCgpe3JldHVybiB0aGlzLlooKT9XZS5ERU5JRUQ6dGhpcy50dH1pc09wdGVkT3V0KCl7cmV0dXJuXCJhbHdheXNcIj09PXRoaXMuQS5jb29raWVsZXNzX21vZGV8fCh0aGlzLmNvbnNlbnQ9PT1XZS5ERU5JRUR8fHRoaXMuY29uc2VudD09PVdlLlBFTkRJTkcmJih0aGlzLkEub3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdHx8XCJvbl9yZWplY3RcIj09PXRoaXMuQS5jb29raWVsZXNzX21vZGUpKX1pc09wdGVkSW4oKXtyZXR1cm4hdGhpcy5pc09wdGVkT3V0KCl9aXNFeHBsaWNpdGx5T3B0ZWRPdXQoKXtyZXR1cm4gdGhpcy5jb25zZW50PT09V2UuREVOSUVEfW9wdEluT3V0KHQpe3RoaXMuaXQuWSh0aGlzLmV0LHQ/MTowLHRoaXMuQS5jb29raWVfZXhwaXJhdGlvbix0aGlzLkEuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSx0aGlzLkEuc2VjdXJlX2Nvb2tpZSl9cmVzZXQoKXt0aGlzLml0LlgodGhpcy5ldCx0aGlzLkEuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSl9Z2V0IGV0KCl7dmFye3Rva2VuOnQsb3B0X291dF9jYXB0dXJpbmdfY29va2llX3ByZWZpeDppLGNvbnNlbnRfcGVyc2lzdGVuY2VfbmFtZTplfT10aGlzLl9pbnN0YW5jZS5jb25maWc7cmV0dXJuIGV8fChpP2krdDpcIl9fcGhfb3B0X2luX291dF9cIit0KX1nZXQgdHQoKXt2YXIgdD10aGlzLml0LkoodGhpcy5ldCk7cmV0dXJuIEgodCk/V2UuR1JBTlRFRDp5KFcsdCk/V2UuREVOSUVEOldlLlBFTkRJTkd9Z2V0IGl0KCl7aWYoIXRoaXMucnQpe3ZhciB0PXRoaXMuQS5vcHRfb3V0X2NhcHR1cmluZ19wZXJzaXN0ZW5jZV90eXBlO3RoaXMucnQ9XCJsb2NhbFN0b3JhZ2VcIj09PXQ/TGU6RGU7dmFyIGk9XCJsb2NhbFN0b3JhZ2VcIj09PXQ/RGU6TGU7aS5KKHRoaXMuZXQpJiYodGhpcy5ydC5KKHRoaXMuZXQpfHx0aGlzLm9wdEluT3V0KEgoaS5KKHRoaXMuZXQpKSksaS5YKHRoaXMuZXQsdGhpcy5BLmNyb3NzX3N1YmRvbWFpbl9jb29raWUpKX1yZXR1cm4gdGhpcy5ydH1aKCl7cmV0dXJuISF0aGlzLkEucmVzcGVjdF9kbnQmJiEhenQoW251bGw9PW4/dm9pZCAwOm4uZG9Ob3RUcmFjayxudWxsPT1uP3ZvaWQgMDpuLm1zRG9Ob3RUcmFjayx2LmRvTm90VHJhY2tdLCh0PT5IKHQpKSl9fXZhciBWZT1FdChcIltEZWFkIENsaWNrc11cIiksSmU9KCk9PiEwLEtlPXQ9Pnt2YXIgaSxlPSEobnVsbD09KGk9dC5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFpLmdldF9wcm9wZXJ0eShRdCkpLHI9dC5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrcztyZXR1cm4gaihyKT9yOmV9O2NsYXNzIFlle2dldCBsYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlKCl7cmV0dXJuIHRoaXMuc3R9Y29uc3RydWN0b3IodCxpLGUpe3RoaXMuaW5zdGFuY2U9dCx0aGlzLmlzRW5hYmxlZD1pLHRoaXMub25DYXB0dXJlPWUsdGhpcy5zdGFydElmRW5hYmxlZCgpfW9uUmVtb3RlQ29uZmlnKHQpe3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tRdF06bnVsbD09dD92b2lkIDA6dC5jYXB0dXJlRGVhZENsaWNrc30pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkKHRoaXMpJiZ0aGlzLm50KCgoKT0+e3RoaXMub3QoKX0pKX1udCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLmluc3RhbmNlLFwiZGVhZC1jbGlja3MtYXV0b2NhcHR1cmVcIiwoaT0+e2k/VmUuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTp0KCl9KSl9b3QoKXt2YXIgdDtpZihvKXtpZighdGhpcy5zdCYmbnVsbCE9KHQ9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ0LmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUpe3ZhciBpPUkodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrcyk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrczp7fTtpLl9fb25DYXB0dXJlPXRoaXMub25DYXB0dXJlLHRoaXMuc3Q9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18uaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSh0aGlzLmluc3RhbmNlLGkpLHRoaXMuc3Quc3RhcnQobyksVmUuaW5mbyhcInN0YXJ0aW5nLi4uXCIpfX1lbHNlIFZlLmVycm9yKFwiYGRvY3VtZW50YCBub3QgZm91bmQuIENhbm5vdCBzdGFydC5cIil9c3RvcCgpe3RoaXMuc3QmJih0aGlzLnN0LnN0b3AoKSx0aGlzLnN0PXZvaWQgMCxWZS5pbmZvKFwic3RvcHBpbmcuLi5cIikpfX12YXIgWGU9RXQoXCJbRXhjZXB0aW9uQXV0b2NhcHR1cmVdXCIpO2NsYXNzIFFle2NvbnN0cnVjdG9yKGkpe3ZhciBlLHIsczt0aGlzLmx0PSgpPT57dmFyIGk7aWYodCYmdGhpcy5pc0VuYWJsZWQmJm51bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5lcnJvcldyYXBwaW5nRnVuY3Rpb25zKXt2YXIgZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBPbkVycm9yLHI9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18uZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucy53cmFwVW5oYW5kbGVkUmVqZWN0aW9uLHM9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18uZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucy53cmFwQ29uc29sZUVycm9yO3RyeXshdGhpcy51dCYmdGhpcy5BLmNhcHR1cmVfdW5oYW5kbGVkX2Vycm9ycyYmKHRoaXMudXQ9ZSh0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpLCF0aGlzLmh0JiZ0aGlzLkEuY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9ucyYmKHRoaXMuaHQ9cih0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpLCF0aGlzLmR0JiZ0aGlzLkEuY2FwdHVyZV9jb25zb2xlX2Vycm9ycyYmKHRoaXMuZHQ9cyh0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSkpfWNhdGNoKHQpe1hlLmVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0XCIsdCksdGhpcy52dCgpfX19LHRoaXMuX2luc3RhbmNlPWksdGhpcy5jdD0hKG51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWUucHJvcHNbSnRdKSx0aGlzLkE9dGhpcy5mdCgpLHRoaXMuZ3Q9bmV3IFYoe3JlZmlsbFJhdGU6bnVsbCE9PShyPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5fX2V4Y2VwdGlvblJhdGVMaW1pdGVyUmVmaWxsUmF0ZSkmJnZvaWQgMCE9PXI/cjoxLGJ1Y2tldFNpemU6bnVsbCE9PShzPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5fX2V4Y2VwdGlvblJhdGVMaW1pdGVyQnVja2V0U2l6ZSkmJnZvaWQgMCE9PXM/czoxMCxyZWZpbGxJbnRlcnZhbDoxZTQsUDpYZX0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1mdCgpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2V4Y2VwdGlvbnMsaT17Y2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzOiExLGNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnM6ITEsY2FwdHVyZV9jb25zb2xlX2Vycm9yczohMX07cmV0dXJuIEkodCk/aT1nKHt9LGksdCk6KEModCk/dGhpcy5jdDp0KSYmKGk9Zyh7fSxpLHtjYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnM6ITAsY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uczohMH0pKSxpfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5BLmNhcHR1cmVfY29uc29sZV9lcnJvcnN8fHRoaXMuQS5jYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnN8fHRoaXMuQS5jYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJihYZS5pbmZvKFwiZW5hYmxlZFwiKSx0aGlzLm50KHRoaXMubHQpKX1udCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5lcnJvcldyYXBwaW5nRnVuY3Rpb25zJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcImV4Y2VwdGlvbi1hdXRvY2FwdHVyZVwiLChpPT57aWYoaSlyZXR1cm4gWGUuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTt0KCl9KSl9dnQoKXt2YXIgdCxpLGU7bnVsbD09KHQ9dGhpcy51dCl8fHQuY2FsbCh0aGlzKSx0aGlzLnV0PXZvaWQgMCxudWxsPT0oaT10aGlzLmh0KXx8aS5jYWxsKHRoaXMpLHRoaXMuaHQ9dm9pZCAwLG51bGw9PShlPXRoaXMuZHQpfHxlLmNhbGwodGhpcyksdGhpcy5kdD12b2lkIDB9b25SZW1vdGVDb25maWcodCl7dmFyIGk9dC5hdXRvY2FwdHVyZUV4Y2VwdGlvbnM7dGhpcy5jdD0hIWl8fCExLHRoaXMuQT10aGlzLmZ0KCksdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbSnRdOnRoaXMuY3R9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Y2FwdHVyZUV4Y2VwdGlvbih0KXt2YXIgaSxlLHI9bnVsbCE9PShpPW51bGw9PXR8fG51bGw9PShlPXQuJGV4Y2VwdGlvbl9saXN0KXx8bnVsbD09KGU9ZVswXSk/dm9pZCAwOmUudHlwZSkmJnZvaWQgMCE9PWk/aTpcIkV4Y2VwdGlvblwiO3RoaXMuZ3QuY29uc3VtZVJhdGVMaW1pdChyKT9YZS5pbmZvKFwiU2tpcHBpbmcgZXhjZXB0aW9uIGNhcHR1cmUgYmVjYXVzZSBvZiBjbGllbnQgcmF0ZSBsaW1pdGluZy5cIix7ZXhjZXB0aW9uOnJ9KTp0aGlzLl9pbnN0YW5jZS5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudCh0KX19ZnVuY3Rpb24gWmUodCxpLGUpe3RyeXtpZighKGkgaW4gdCkpcmV0dXJuKCk9Pnt9O3ZhciByPXRbaV0scz1lKHIpO3JldHVybiBSKHMpJiYocy5wcm90b3R5cGU9cy5wcm90b3R5cGV8fHt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHMse19fcG9zdGhvZ193cmFwcGVkX186e2VudW1lcmFibGU6ITEsdmFsdWU6ITB9fSkpLHRbaV09cywoKT0+e3RbaV09cn19Y2F0Y2godCl7cmV0dXJuKCk9Pnt9fX1jbGFzcyB0cntjb25zdHJ1Y3RvcihpKXt2YXIgZTt0aGlzLl9pbnN0YW5jZT1pLHRoaXMuX3Q9KG51bGw9PXR8fG51bGw9PShlPXQubG9jYXRpb24pP3ZvaWQgMDplLnBhdGhuYW1lKXx8XCJcIn1nZXQgaXNFbmFibGVkKCl7cmV0dXJuXCJoaXN0b3J5X2NoYW5nZVwiPT09dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXd9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmKHh0LmluZm8oXCJIaXN0b3J5IEFQSSBtb25pdG9yaW5nIGVuYWJsZWQsIHN0YXJ0aW5nLi4uXCIpLHRoaXMubW9uaXRvckhpc3RvcnlDaGFuZ2VzKCkpfXN0b3AoKXt0aGlzLnl0JiZ0aGlzLnl0KCksdGhpcy55dD12b2lkIDAseHQuaW5mbyhcIkhpc3RvcnkgQVBJIG1vbml0b3Jpbmcgc3RvcHBlZFwiKX1tb25pdG9ySGlzdG9yeUNoYW5nZXMoKXt2YXIgaSxlO2lmKHQmJnQuaGlzdG9yeSl7dmFyIHI9dGhpcztudWxsIT0oaT10Lmhpc3RvcnkucHVzaFN0YXRlKSYmaS5fX3Bvc3Rob2dfd3JhcHBlZF9ffHxaZSh0Lmhpc3RvcnksXCJwdXNoU3RhdGVcIiwodD0+ZnVuY3Rpb24oaSxlLHMpe3QuY2FsbCh0aGlzLGksZSxzKSxyLmJ0KFwicHVzaFN0YXRlXCIpfSkpLG51bGwhPShlPXQuaGlzdG9yeS5yZXBsYWNlU3RhdGUpJiZlLl9fcG9zdGhvZ193cmFwcGVkX198fFplKHQuaGlzdG9yeSxcInJlcGxhY2VTdGF0ZVwiLCh0PT5mdW5jdGlvbihpLGUscyl7dC5jYWxsKHRoaXMsaSxlLHMpLHIuYnQoXCJyZXBsYWNlU3RhdGVcIil9KSksdGhpcy53dCgpfX1idChpKXt0cnl7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LmxvY2F0aW9uKT92b2lkIDA6ZS5wYXRobmFtZTtpZighcilyZXR1cm47ciE9PXRoaXMuX3QmJnRoaXMuaXNFbmFibGVkJiZ0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJHBhZ2V2aWV3XCIse25hdmlnYXRpb25fdHlwZTppfSksdGhpcy5fdD1yfWNhdGNoKHQpe3h0LmVycm9yKFwiRXJyb3IgY2FwdHVyaW5nIFwiK2krXCIgcGFnZXZpZXdcIix0KX19d3QoKXtpZighdGhpcy55dCl7dmFyIGk9KCk9Pnt0aGlzLmJ0KFwicG9wc3RhdGVcIil9O3F0KHQsXCJwb3BzdGF0ZVwiLGkpLHRoaXMueXQ9KCk9Pnt0JiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLGkpfX19fWZ1bmN0aW9uIGlyKHQpe3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPUpTT04uc3RyaW5naWZ5KHQsKGU9W10sZnVuY3Rpb24odCxpKXtpZihJKGkpKXtmb3IoO2UubGVuZ3RoPjAmJmVbZS5sZW5ndGgtMV0hPT10aGlzOyllLnBvcCgpO3JldHVybiBlLmluY2x1ZGVzKGkpP1wiW0NpcmN1bGFyXVwiOihlLnB1c2goaSksaSl9cmV0dXJuIGl9KSkpP3ZvaWQgMDppLmxlbmd0aCl8fDB9ZnVuY3Rpb24gZXIodCxpKXtpZih2b2lkIDA9PT1pJiYoaT02NjA2MDI4LjgpLHQuc2l6ZT49aSYmdC5kYXRhLmxlbmd0aD4xKXt2YXIgZT1NYXRoLmZsb29yKHQuZGF0YS5sZW5ndGgvMikscj10LmRhdGEuc2xpY2UoMCxlKSxzPXQuZGF0YS5zbGljZShlKTtyZXR1cm5bZXIoe3NpemU6aXIociksZGF0YTpyLHNlc3Npb25JZDp0LnNlc3Npb25JZCx3aW5kb3dJZDp0LndpbmRvd0lkfSksZXIoe3NpemU6aXIocyksZGF0YTpzLHNlc3Npb25JZDp0LnNlc3Npb25JZCx3aW5kb3dJZDp0LndpbmRvd0lkfSldLmZsYXRNYXAoKHQ9PnQpKX1yZXR1cm5bdF19dmFyIHJyPSh0PT4odFt0LkRvbUNvbnRlbnRMb2FkZWQ9MF09XCJEb21Db250ZW50TG9hZGVkXCIsdFt0LkxvYWQ9MV09XCJMb2FkXCIsdFt0LkZ1bGxTbmFwc2hvdD0yXT1cIkZ1bGxTbmFwc2hvdFwiLHRbdC5JbmNyZW1lbnRhbFNuYXBzaG90PTNdPVwiSW5jcmVtZW50YWxTbmFwc2hvdFwiLHRbdC5NZXRhPTRdPVwiTWV0YVwiLHRbdC5DdXN0b209NV09XCJDdXN0b21cIix0W3QuUGx1Z2luPTZdPVwiUGx1Z2luXCIsdCkpKHJyfHx7fSksc3I9KHQ9Pih0W3QuTXV0YXRpb249MF09XCJNdXRhdGlvblwiLHRbdC5Nb3VzZU1vdmU9MV09XCJNb3VzZU1vdmVcIix0W3QuTW91c2VJbnRlcmFjdGlvbj0yXT1cIk1vdXNlSW50ZXJhY3Rpb25cIix0W3QuU2Nyb2xsPTNdPVwiU2Nyb2xsXCIsdFt0LlZpZXdwb3J0UmVzaXplPTRdPVwiVmlld3BvcnRSZXNpemVcIix0W3QuSW5wdXQ9NV09XCJJbnB1dFwiLHRbdC5Ub3VjaE1vdmU9Nl09XCJUb3VjaE1vdmVcIix0W3QuTWVkaWFJbnRlcmFjdGlvbj03XT1cIk1lZGlhSW50ZXJhY3Rpb25cIix0W3QuU3R5bGVTaGVldFJ1bGU9OF09XCJTdHlsZVNoZWV0UnVsZVwiLHRbdC5DYW52YXNNdXRhdGlvbj05XT1cIkNhbnZhc011dGF0aW9uXCIsdFt0LkZvbnQ9MTBdPVwiRm9udFwiLHRbdC5Mb2c9MTFdPVwiTG9nXCIsdFt0LkRyYWc9MTJdPVwiRHJhZ1wiLHRbdC5TdHlsZURlY2xhcmF0aW9uPTEzXT1cIlN0eWxlRGVjbGFyYXRpb25cIix0W3QuU2VsZWN0aW9uPTE0XT1cIlNlbGVjdGlvblwiLHRbdC5BZG9wdGVkU3R5bGVTaGVldD0xNV09XCJBZG9wdGVkU3R5bGVTaGVldFwiLHRbdC5DdXN0b21FbGVtZW50PTE2XT1cIkN1c3RvbUVsZW1lbnRcIix0KSkoc3J8fHt9KSxucj1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLG9yPVwicmVkYWN0ZWRcIixhcj17aW5pdGlhdG9yVHlwZXM6W1wiYXVkaW9cIixcImJlYWNvblwiLFwiYm9keVwiLFwiY3NzXCIsXCJlYXJseS1oaW50XCIsXCJlbWJlZFwiLFwiZmV0Y2hcIixcImZyYW1lXCIsXCJpZnJhbWVcIixcImljb25cIixcImltYWdlXCIsXCJpbWdcIixcImlucHV0XCIsXCJsaW5rXCIsXCJuYXZpZ2F0aW9uXCIsXCJvYmplY3RcIixcInBpbmdcIixcInNjcmlwdFwiLFwidHJhY2tcIixcInZpZGVvXCIsXCJ4bWxodHRwcmVxdWVzdFwiXSxtYXNrUmVxdWVzdEZuOnQ9PnQscmVjb3JkSGVhZGVyczohMSxyZWNvcmRCb2R5OiExLHJlY29yZEluaXRpYWxSZXF1ZXN0czohMSxyZWNvcmRQZXJmb3JtYW5jZTohMSxwZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZTpbXCJmaXJzdC1pbnB1dFwiLFwibmF2aWdhdGlvblwiLFwicGFpbnRcIixcInJlc291cmNlXCJdLHBheWxvYWRTaXplTGltaXRCeXRlczoxZTYscGF5bG9hZEhvc3REZW55TGlzdDpbXCIubHItaW5nZXN0LmlvXCIsXCIuaW5nZXN0LnNlbnRyeS5pb1wiLFwiLmNsYXJpdHkubXNcIixcImFuYWx5dGljcy5nb29nbGUuY29tXCIsXCJiYW0ubnItZGF0YS5uZXRcIl19LGxyPVtcImF1dGhvcml6YXRpb25cIixcIngtZm9yd2FyZGVkLWZvclwiLFwiYXV0aG9yaXphdGlvblwiLFwiY29va2llXCIsXCJzZXQtY29va2llXCIsXCJ4LWFwaS1rZXlcIixcIngtcmVhbC1pcFwiLFwicmVtb3RlLWFkZHJcIixcImZvcndhcmRlZFwiLFwicHJveHktYXV0aG9yaXphdGlvblwiLFwieC1jc3JmLXRva2VuXCIsXCJ4LWNzcmZ0b2tlblwiLFwieC14c3JmLXRva2VuXCJdLHVyPVtcInBhc3N3b3JkXCIsXCJzZWNyZXRcIixcInBhc3N3ZFwiLFwiYXBpX2tleVwiLFwiYXBpa2V5XCIsXCJhdXRoXCIsXCJjcmVkZW50aWFsc1wiLFwibXlzcWxfcHdkXCIsXCJwcml2YXRla2V5XCIsXCJwcml2YXRlX2tleVwiLFwidG9rZW5cIl0saHI9W1wiL3MvXCIsXCIvZS9cIixcIi9pL1wiXTtmdW5jdGlvbiBkcih0LGksZSxyKXtpZihBKHQpKXJldHVybiB0O3ZhciBzPShudWxsPT1pP3ZvaWQgMDppW1wiY29udGVudC1sZW5ndGhcIl0pfHxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEJsb2IoW3RdKS5zaXplfSh0KTtyZXR1cm4gTShzKSYmKHM9cGFyc2VJbnQocykpLHM+ZT9ucitcIiBcIityK1wiIGJvZHkgdG9vIGxhcmdlIHRvIHJlY29yZCAoXCIrcytcIiBieXRlcylcIjp0fWZ1bmN0aW9uIHZyKHQsaSl7aWYoQSh0KSlyZXR1cm4gdDt2YXIgZT10O3JldHVybiByZShlLCExKXx8KGU9bnIrXCIgXCIraStcIiBib2R5IFwiK29yKSxDdCh1ciwodD0+e3ZhciByLHM7bnVsbCE9KHI9ZSkmJnIubGVuZ3RoJiYtMSE9PShudWxsPT0ocz1lKT92b2lkIDA6cy5pbmRleE9mKHQpKSYmKGU9bnIrXCIgXCIraStcIiBib2R5IFwiK29yK1wiIGFzIG1pZ2h0IGNvbnRhaW46IFwiK3QpfSkpLGV9dmFyIGNyPSh0LGkpPT57dmFyIGUscixzLG49e3BheWxvYWRTaXplTGltaXRCeXRlczphci5wYXlsb2FkU2l6ZUxpbWl0Qnl0ZXMscGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmU6Wy4uLmFyLnBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlXSxwYXlsb2FkSG9zdERlbnlMaXN0OlsuLi5pLnBheWxvYWRIb3N0RGVueUxpc3R8fFtdLC4uLmFyLnBheWxvYWRIb3N0RGVueUxpc3RdfSxvPSExIT09dC5zZXNzaW9uX3JlY29yZGluZy5yZWNvcmRIZWFkZXJzJiZpLnJlY29yZEhlYWRlcnMsYT0hMSE9PXQuc2Vzc2lvbl9yZWNvcmRpbmcucmVjb3JkQm9keSYmaS5yZWNvcmRCb2R5LGw9ITEhPT10LmNhcHR1cmVfcGVyZm9ybWFuY2UmJmkucmVjb3JkUGVyZm9ybWFuY2UsdT0oZT1uLHM9TWF0aC5taW4oMWU2LG51bGwhPT0ocj1lLnBheWxvYWRTaXplTGltaXRCeXRlcykmJnZvaWQgMCE9PXI/cjoxZTYpLHQ9PihudWxsIT10JiZ0LnJlcXVlc3RCb2R5JiYodC5yZXF1ZXN0Qm9keT1kcih0LnJlcXVlc3RCb2R5LHQucmVxdWVzdEhlYWRlcnMscyxcIlJlcXVlc3RcIikpLG51bGwhPXQmJnQucmVzcG9uc2VCb2R5JiYodC5yZXNwb25zZUJvZHk9ZHIodC5yZXNwb25zZUJvZHksdC5yZXNwb25zZUhlYWRlcnMscyxcIlJlc3BvbnNlXCIpKSx0KSksaD1pPT57cmV0dXJuIHUoKCh0LGkpPT57dmFyIGUscj1mZSh0Lm5hbWUpLHM9MD09PWkuaW5kZXhPZihcImh0dHBcIik/bnVsbD09KGU9ZmUoaSkpP3ZvaWQgMDplLnBhdGhuYW1lOmk7XCIvXCI9PT1zJiYocz1cIlwiKTt2YXIgbj1udWxsPT1yP3ZvaWQgMDpyLnBhdGhuYW1lLnJlcGxhY2Uoc3x8XCJcIixcIlwiKTtpZighKHImJm4mJmhyLnNvbWUoKHQ9PjA9PT1uLmluZGV4T2YodCkpKSkpcmV0dXJuIHR9KSgocj0oZT1pKS5yZXF1ZXN0SGVhZGVycyxBKHIpfHxDdChPYmplY3Qua2V5cyhudWxsIT1yP3I6e30pLCh0PT57bHIuaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKSYmKHJbdF09b3IpfSkpLGUpLHQuYXBpX2hvc3QpKTt2YXIgZSxyfSxkPVIodC5zZXNzaW9uX3JlY29yZGluZy5tYXNrTmV0d29ya1JlcXVlc3RGbik7cmV0dXJuIGQmJlIodC5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKSYmeHQud2FybihcIkJvdGggYG1hc2tOZXR3b3JrUmVxdWVzdEZuYCBhbmQgYG1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm5gIGFyZSBkZWZpbmVkLiBgbWFza05ldHdvcmtSZXF1ZXN0Rm5gIHdpbGwgYmUgaWdub3JlZC5cIiksZCYmKHQuc2Vzc2lvbl9yZWNvcmRpbmcubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbj1pPT57dmFyIGU9dC5zZXNzaW9uX3JlY29yZGluZy5tYXNrTmV0d29ya1JlcXVlc3RGbih7dXJsOmkubmFtZX0pO3JldHVybiBnKHt9LGkse25hbWU6bnVsbD09ZT92b2lkIDA6ZS51cmx9KX0pLG4ubWFza1JlcXVlc3RGbj1SKHQuc2Vzc2lvbl9yZWNvcmRpbmcubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbik/aT0+e3ZhciBlLHI9aChpKTtyZXR1cm4gciYmbnVsbCE9PShlPW51bGw9PXQuc2Vzc2lvbl9yZWNvcmRpbmcubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbj92b2lkIDA6dC5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKHIpKSYmdm9pZCAwIT09ZT9lOnZvaWQgMH06dD0+ZnVuY3Rpb24odCl7aWYoIUModCkpcmV0dXJuIHQucmVxdWVzdEJvZHk9dnIodC5yZXF1ZXN0Qm9keSxcIlJlcXVlc3RcIiksdC5yZXNwb25zZUJvZHk9dnIodC5yZXNwb25zZUJvZHksXCJSZXNwb25zZVwiKSx0fShoKHQpKSxnKHt9LGFyLG4se3JlY29yZEhlYWRlcnM6byxyZWNvcmRCb2R5OmEscmVjb3JkUGVyZm9ybWFuY2U6bCxyZWNvcmRJbml0aWFsUmVxdWVzdHM6bH0pfTtjbGFzcyBmcntjb25zdHJ1Y3Rvcih0LGkpe3ZhciBlLHI7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuU3Q9e30sdGhpcy5rdD10PT57aWYoIXRoaXMuU3RbdF0pe3ZhciBpLGU7dGhpcy5TdFt0XT0hMDt2YXIgcj10aGlzLiR0KHQpO251bGw9PShpPShlPXRoaXMudCkub25CbG9ja2VkTm9kZSl8fGkuY2FsbChlLHQscil9fSx0aGlzLnh0PXQ9Pnt2YXIgaT10aGlzLiR0KHQpO2lmKFwic3ZnXCIhPT0obnVsbD09aT92b2lkIDA6aS5ub2RlTmFtZSkmJmkgaW5zdGFuY2VvZiBFbGVtZW50KXt2YXIgZT1pLmNsb3Nlc3QoXCJzdmdcIik7aWYoZSlyZXR1cm5bdGhpcy5fcnJ3ZWIubWlycm9yLmdldElkKGUpLGVdfXJldHVyblt0LGldfSx0aGlzLiR0PXQ9PnRoaXMuX3Jyd2ViLm1pcnJvci5nZXROb2RlKHQpLHRoaXMuRXQ9dD0+e3ZhciBpLGUscixzLG4sbyxhLGw7cmV0dXJuKG51bGwhPT0oaT1udWxsPT0oZT10LnJlbW92ZXMpP3ZvaWQgMDplLmxlbmd0aCkmJnZvaWQgMCE9PWk/aTowKSsobnVsbCE9PShyPW51bGw9PShzPXQuYXR0cmlidXRlcyk/dm9pZCAwOnMubGVuZ3RoKSYmdm9pZCAwIT09cj9yOjApKyhudWxsIT09KG49bnVsbD09KG89dC50ZXh0cyk/dm9pZCAwOm8ubGVuZ3RoKSYmdm9pZCAwIT09bj9uOjApKyhudWxsIT09KGE9bnVsbD09KGw9dC5hZGRzKT92b2lkIDA6bC5sZW5ndGgpJiZ2b2lkIDAhPT1hP2E6MCl9LHRoaXMudGhyb3R0bGVNdXRhdGlvbnM9dD0+e2lmKDMhPT10LnR5cGV8fDAhPT10LmRhdGEuc291cmNlKXJldHVybiB0O3ZhciBpPXQuZGF0YSxlPXRoaXMuRXQoaSk7aS5hdHRyaWJ1dGVzJiYoaS5hdHRyaWJ1dGVzPWkuYXR0cmlidXRlcy5maWx0ZXIoKHQ9Pnt2YXJbaV09dGhpcy54dCh0LmlkKTtyZXR1cm4hdGhpcy5ndC5jb25zdW1lUmF0ZUxpbWl0KGkpJiZ0fSkpKTt2YXIgcj10aGlzLkV0KGkpO3JldHVybiAwIT09cnx8ZT09PXI/dDp2b2lkIDB9LHRoaXMuX3Jyd2ViPXQsdGhpcy50PWksdGhpcy5ndD1uZXcgVih7YnVja2V0U2l6ZTpudWxsIT09KGU9dGhpcy50LmJ1Y2tldFNpemUpJiZ2b2lkIDAhPT1lP2U6MTAwLHJlZmlsbFJhdGU6bnVsbCE9PShyPXRoaXMudC5yZWZpbGxSYXRlKSYmdm9pZCAwIT09cj9yOjEwLHJlZmlsbEludGVydmFsOjFlMywkOnRoaXMua3QsUDp4dH0pfX12YXIgcHI9VWludDhBcnJheSxncj1VaW50MTZBcnJheSxfcj1VaW50MzJBcnJheSxtcj1uZXcgcHIoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLHlyPW5ldyBwcihbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxicj1uZXcgcHIoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSx3cj1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT1uZXcgZ3IoMzEpLHI9MDtyPDMxOysrcillW3JdPWkrPTE8PHRbci0xXTt2YXIgcz1uZXcgX3IoZVszMF0pO2ZvcihyPTE7cjwzMDsrK3IpZm9yKHZhciBuPWVbcl07bjxlW3IrMV07KytuKXNbbl09bi1lW3JdPDw1fHI7cmV0dXJuW2Usc119LFNyPXdyKG1yLDIpLGtyPVNyWzBdLCRyPVNyWzFdO2tyWzI4XT0yNTgsJHJbMjU4XT0yODtmb3IodmFyIHhyPXdyKHlyLDApWzFdLEVyPW5ldyBncigzMjc2OCksUHI9MDtQcjwzMjc2ODsrK1ByKXt2YXIgUnI9KDQzNjkwJlByKT4+PjF8KDIxODQ1JlByKTw8MTtScj0oNjE2ODAmKFJyPSg1MjQyOCZScik+Pj4yfCgxMzEwNyZScik8PDIpKT4+PjR8KDM4NTUmUnIpPDw0LEVyW1ByXT0oKDY1MjgwJlJyKT4+Pjh8KDI1NSZScik8PDgpPj4+MX12YXIgSXI9ZnVuY3Rpb24odCxpLGUpe2Zvcih2YXIgcj10Lmxlbmd0aCxzPTAsbj1uZXcgZ3IoaSk7czxyOysrcykrK25bdFtzXS0xXTt2YXIgbyxhPW5ldyBncihpKTtmb3Iocz0wO3M8aTsrK3MpYVtzXT1hW3MtMV0rbltzLTFdPDwxO2lmKGUpe289bmV3IGdyKDE8PGkpO3ZhciBsPTE1LWk7Zm9yKHM9MDtzPHI7KytzKWlmKHRbc10pZm9yKHZhciB1PXM8PDR8dFtzXSxoPWktdFtzXSxkPWFbdFtzXS0xXSsrPDxoLHY9ZHwoMTw8aCktMTtkPD12OysrZClvW0VyW2RdPj4+bF09dX1lbHNlIGZvcihvPW5ldyBncihyKSxzPTA7czxyOysrcylvW3NdPUVyW2FbdFtzXS0xXSsrXT4+PjE1LXRbc107cmV0dXJuIG99LFRyPW5ldyBwcigyODgpO2ZvcihQcj0wO1ByPDE0NDsrK1ByKVRyW1ByXT04O2ZvcihQcj0xNDQ7UHI8MjU2OysrUHIpVHJbUHJdPTk7Zm9yKFByPTI1NjtQcjwyODA7KytQcilUcltQcl09Nztmb3IoUHI9MjgwO1ByPDI4ODsrK1ByKVRyW1ByXT04O3ZhciBDcj1uZXcgcHIoMzIpO2ZvcihQcj0wO1ByPDMyOysrUHIpQ3JbUHJdPTU7dmFyIE1yPUlyKFRyLDksMCksT3I9SXIoQ3IsNSwwKSxGcj1mdW5jdGlvbih0KXtyZXR1cm4odC84Pj4wKSsoNyZ0JiYxKX0sQXI9ZnVuY3Rpb24odCxpLGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO3ZhciByPW5ldyh0IGluc3RhbmNlb2YgZ3I/Z3I6dCBpbnN0YW5jZW9mIF9yP19yOnByKShlLWkpO3JldHVybiByLnNldCh0LnN1YmFycmF5KGksZSkpLHJ9LERyPWZ1bmN0aW9uKHQsaSxlKXtlPDw9NyZpO3ZhciByPWkvOD4+MDt0W3JdfD1lLHRbcisxXXw9ZT4+Pjh9LGpyPWZ1bmN0aW9uKHQsaSxlKXtlPDw9NyZpO3ZhciByPWkvOD4+MDt0W3JdfD1lLHRbcisxXXw9ZT4+PjgsdFtyKzJdfD1lPj4+MTZ9LExyPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPVtdLHI9MDtyPHQubGVuZ3RoOysrcil0W3JdJiZlLnB1c2goe3M6cixmOnRbcl19KTt2YXIgcz1lLmxlbmd0aCxuPWUuc2xpY2UoKTtpZighcylyZXR1cm5bbmV3IHByKDApLDBdO2lmKDE9PXMpe3ZhciBvPW5ldyBwcihlWzBdLnMrMSk7cmV0dXJuIG9bZVswXS5zXT0xLFtvLDFdfWUuc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5mLWkuZn0pKSxlLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBhPWVbMF0sbD1lWzFdLHU9MCxoPTEsZD0yO2ZvcihlWzBdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTtoIT1zLTE7KWE9ZVtlW3VdLmY8ZVtkXS5mP3UrKzpkKytdLGw9ZVt1IT1oJiZlW3VdLmY8ZVtkXS5mP3UrKzpkKytdLGVbaCsrXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07dmFyIHY9blswXS5zO2ZvcihyPTE7cjxzOysrciluW3JdLnM+diYmKHY9bltyXS5zKTt2YXIgYz1uZXcgZ3IodisxKSxmPU5yKGVbaC0xXSxjLDApO2lmKGY+aSl7cj0wO3ZhciBwPTAsZz1mLWksXz0xPDxnO2ZvcihuLnNvcnQoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGNbaS5zXS1jW3Quc118fHQuZi1pLmZ9KSk7cjxzOysrcil7dmFyIG09bltyXS5zO2lmKCEoY1ttXT5pKSlicmVhaztwKz1fLSgxPDxmLWNbbV0pLGNbbV09aX1mb3IocD4+Pj1nO3A+MDspe3ZhciB5PW5bcl0ucztjW3ldPGk/cC09MTw8aS1jW3ldKystMTorK3J9Zm9yKDtyPj0wJiZwOy0tcil7dmFyIGI9bltyXS5zO2NbYl09PWkmJigtLWNbYl0sKytwKX1mPWl9cmV0dXJuW25ldyBwcihjKSxmXX0sTnI9ZnVuY3Rpb24odCxpLGUpe3JldHVybi0xPT10LnM/TWF0aC5tYXgoTnIodC5sLGksZSsxKSxOcih0LnIsaSxlKzEpKTppW3Quc109ZX0sVXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQubGVuZ3RoO2kmJiF0Wy0taV07KTtmb3IodmFyIGU9bmV3IGdyKCsraSkscj0wLHM9dFswXSxuPTEsbz1mdW5jdGlvbih0KXtlW3IrK109dH0sYT0xO2E8PWk7KythKWlmKHRbYV09PXMmJmEhPWkpKytuO2Vsc2V7aWYoIXMmJm4+Mil7Zm9yKDtuPjEzODtuLT0xMzgpbygzMjc1NCk7bj4yJiYobyhuPjEwP24tMTE8PDV8Mjg2OTA6bi0zPDw1fDEyMzA1KSxuPTApfWVsc2UgaWYobj4zKXtmb3IobyhzKSwtLW47bj42O24tPTYpbyg4MzA0KTtuPjImJihvKG4tMzw8NXw4MjA4KSxuPTApfWZvcig7bi0tOylvKHMpO249MSxzPXRbYV19cmV0dXJuW2Uuc3ViYXJyYXkoMCxyKSxpXX0senI9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9MCxyPTA7cjxpLmxlbmd0aDsrK3IpZSs9dFtyXSppW3JdO3JldHVybiBlfSxxcj1mdW5jdGlvbih0LGksZSl7dmFyIHI9ZS5sZW5ndGgscz1GcihpKzIpO3Rbc109MjU1JnIsdFtzKzFdPXI+Pj44LHRbcysyXT0yNTVedFtzXSx0W3MrM109MjU1XnRbcysxXTtmb3IodmFyIG49MDtuPHI7KytuKXRbcytuKzRdPWVbbl07cmV0dXJuIDgqKHMrNCtyKX0sQnI9ZnVuY3Rpb24odCxpLGUscixzLG4sbyxhLGwsdSxoKXtEcihpLGgrKyxlKSwrK3NbMjU2XTtmb3IodmFyIGQ9THIocywxNSksdj1kWzBdLGM9ZFsxXSxmPUxyKG4sMTUpLHA9ZlswXSxnPWZbMV0sXz1Vcih2KSxtPV9bMF0seT1fWzFdLGI9VXIocCksdz1iWzBdLFM9YlsxXSxrPW5ldyBncigxOSkseD0wO3g8bS5sZW5ndGg7Kyt4KWtbMzEmbVt4XV0rKztmb3IoeD0wO3g8dy5sZW5ndGg7Kyt4KWtbMzEmd1t4XV0rKztmb3IodmFyIEU9THIoayw3KSxQPUVbMF0sUj1FWzFdLEk9MTk7ST40JiYhUFticltJLTFdXTstLUkpO3ZhciBULEMsTSxPLEY9dSs1PDwzLEE9enIocyxUcikrenIobixDcikrbyxEPXpyKHMsdikrenIobixwKStvKzE0KzMqSSt6cihrLFApKygyKmtbMTZdKzMqa1sxN10rNyprWzE4XSk7aWYoRjw9QSYmRjw9RClyZXR1cm4gcXIoaSxoLHQuc3ViYXJyYXkobCxsK3UpKTtpZihEcihpLGgsMSsoRDxBKSksaCs9MixEPEEpe1Q9SXIodixjLDApLEM9dixNPUlyKHAsZywwKSxPPXA7dmFyIGo9SXIoUCxSLDApO0RyKGksaCx5LTI1NyksRHIoaSxoKzUsUy0xKSxEcihpLGgrMTAsSS00KSxoKz0xNDtmb3IoeD0wO3g8STsrK3gpRHIoaSxoKzMqeCxQW2JyW3hdXSk7aCs9MypJO2Zvcih2YXIgTD1bbSx3XSxOPTA7TjwyOysrTil7dmFyIFU9TFtOXTtmb3IoeD0wO3g8VS5sZW5ndGg7Kyt4KXt2YXIgej0zMSZVW3hdO0RyKGksaCxqW3pdKSxoKz1QW3pdLHo+MTUmJihEcihpLGgsVVt4XT4+PjUmMTI3KSxoKz1VW3hdPj4+MTIpfX19ZWxzZSBUPU1yLEM9VHIsTT1PcixPPUNyO2Zvcih4PTA7eDxhOysreClpZihyW3hdPjI1NSl7ej1yW3hdPj4+MTgmMzE7anIoaSxoLFRbeisyNTddKSxoKz1DW3orMjU3XSx6PjcmJihEcihpLGgsclt4XT4+PjIzJjMxKSxoKz1tclt6XSk7dmFyIHE9MzEmclt4XTtqcihpLGgsTVtxXSksaCs9T1txXSxxPjMmJihqcihpLGgsclt4XT4+PjUmODE5MSksaCs9eXJbcV0pfWVsc2UganIoaSxoLFRbclt4XV0pLGgrPUNbclt4XV07cmV0dXJuIGpyKGksaCxUWzI1Nl0pLGgrQ1syNTZdfSxIcj1uZXcgX3IoWzY1NTQwLDEzMTA4MCwxMzEwODgsMTMxMTA0LDI2MjE3NiwxMDQ4NzA0LDEwNDg4MzIsMjExNDU2MCwyMTE3NjMyXSksV3I9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IF9yKDI1NiksaT0wO2k8MjU2OysraSl7Zm9yKHZhciBlPWkscj05Oy0tcjspZT0oMSZlJiYzOTg4MjkyMzg0KV5lPj4+MTt0W2ldPWV9cmV0dXJuIHR9KCksR3I9ZnVuY3Rpb24oKXt2YXIgdD00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKGkpe2Zvcih2YXIgZT10LHI9MDtyPGkubGVuZ3RoOysrcillPVdyWzI1NSZlXmlbcl1dXmU+Pj44O3Q9ZX0sZDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk1XnR9fX0sVnI9ZnVuY3Rpb24odCxpLGUscixzKXtyZXR1cm4gZnVuY3Rpb24odCxpLGUscixzLG4pe3ZhciBvPXQubGVuZ3RoLGE9bmV3IHByKHIrbys1KigxK01hdGguZmxvb3Ioby83ZTMpKStzKSxsPWEuc3ViYXJyYXkocixhLmxlbmd0aC1zKSx1PTA7aWYoIWl8fG88OClmb3IodmFyIGg9MDtoPD1vO2grPTY1NTM1KXt2YXIgZD1oKzY1NTM1O2Q8bz91PXFyKGwsdSx0LnN1YmFycmF5KGgsZCkpOihsW2hdPW4sdT1xcihsLHUsdC5zdWJhcnJheShoLG8pKSl9ZWxzZXtmb3IodmFyIHY9SHJbaS0xXSxjPXY+Pj4xMyxmPTgxOTEmdixwPSgxPDxlKS0xLGc9bmV3IGdyKDMyNzY4KSxfPW5ldyBncihwKzEpLG09TWF0aC5jZWlsKGUvMykseT0yKm0sYj1mdW5jdGlvbihpKXtyZXR1cm4odFtpXV50W2krMV08PG1edFtpKzJdPDx5KSZwfSx3PW5ldyBfcigyNWUzKSxTPW5ldyBncigyODgpLGs9bmV3IGdyKDMyKSx4PTAsRT0wLFA9KGg9MCwwKSxSPTAsST0wO2g8bzsrK2gpe3ZhciBUPWIoaCksQz0zMjc2NyZoLE09X1tUXTtpZihnW0NdPU0sX1tUXT1DLFI8PWgpe3ZhciBPPW8taDtpZigoeD43ZTN8fFA+MjQ1NzYpJiZPPjQyMyl7dT1Ccih0LGwsMCx3LFMsayxFLFAsSSxoLUksdSksUD14PUU9MCxJPWg7Zm9yKHZhciBGPTA7RjwyODY7KytGKVNbRl09MDtmb3IoRj0wO0Y8MzA7KytGKWtbRl09MH12YXIgQT0yLEQ9MCxqPWYsTD1DLU0mMzI3Njc7aWYoTz4yJiZUPT1iKGgtTCkpZm9yKHZhciBOPU1hdGgubWluKGMsTyktMSxVPU1hdGgubWluKDMyNzY3LGgpLHo9TWF0aC5taW4oMjU4LE8pO0w8PVUmJi0taiYmQyE9TTspe2lmKHRbaCtBXT09dFtoK0EtTF0pe2Zvcih2YXIgcT0wO3E8eiYmdFtoK3FdPT10W2grcS1MXTsrK3EpO2lmKHE+QSl7aWYoQT1xLEQ9TCxxPk4pYnJlYWs7dmFyIEI9TWF0aC5taW4oTCxxLTIpLEg9MDtmb3IoRj0wO0Y8QjsrK0Ype3ZhciBXPWgtTCtGKzMyNzY4JjMyNzY3LEc9Vy1nW1ddKzMyNzY4JjMyNzY3O0c+SCYmKEg9RyxNPVcpfX19TCs9KEM9TSktKE09Z1tDXSkrMzI3NjgmMzI3Njd9aWYoRCl7d1tQKytdPTI2ODQzNTQ1NnwkcltBXTw8MTh8eHJbRF07dmFyIFY9MzEmJHJbQV0sSj0zMSZ4cltEXTtFKz1tcltWXSt5cltKXSwrK1NbMjU3K1ZdLCsra1tKXSxSPWgrQSwrK3h9ZWxzZSB3W1ArK109dFtoXSwrK1NbdFtoXV19fXU9QnIodCxsLG4sdyxTLGssRSxQLEksaC1JLHUpfXJldHVybiBBcihhLDAscitGcih1KStzKX0odCxudWxsPT1pLmxldmVsPzY6aS5sZXZlbCxudWxsPT1pLm1lbT9NYXRoLmNlaWwoMS41Kk1hdGgubWF4KDgsTWF0aC5taW4oMTMsTWF0aC5sb2codC5sZW5ndGgpKSkpOjEyK2kubWVtLGUsciwhMCl9LEpyPWZ1bmN0aW9uKHQsaSxlKXtmb3IoO2U7KytpKXRbaV09ZSxlPj4+PTh9LEtyPWZ1bmN0aW9uKHQsaSl7dmFyIGU9aS5maWxlbmFtZTtpZih0WzBdPTMxLHRbMV09MTM5LHRbMl09OCx0WzhdPWkubGV2ZWw8Mj80Ojk9PWkubGV2ZWw/MjowLHRbOV09MywwIT1pLm10aW1lJiZKcih0LDQsTWF0aC5mbG9vcihuZXcgRGF0ZShpLm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxlKXt0WzNdPTg7Zm9yKHZhciByPTA7cjw9ZS5sZW5ndGg7KytyKXRbcisxMF09ZS5jaGFyQ29kZUF0KHIpfX0sWXI9ZnVuY3Rpb24odCl7cmV0dXJuIDEwKyh0LmZpbGVuYW1lJiZ0LmZpbGVuYW1lLmxlbmd0aCsxfHwwKX07ZnVuY3Rpb24gWHIodCxpKXt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIGU9R3IoKSxyPXQubGVuZ3RoO2UucCh0KTt2YXIgcz1Wcih0LGksWXIoaSksOCksbj1zLmxlbmd0aDtyZXR1cm4gS3IocyxpKSxKcihzLG4tOCxlLmQoKSksSnIocyxuLTQsciksc31mdW5jdGlvbiBRcih0LGkpe3ZhciBlPXQubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RW5jb2RlcilyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCk7Zm9yKHZhciByPW5ldyBwcih0Lmxlbmd0aCsodC5sZW5ndGg+Pj4xKSkscz0wLG49ZnVuY3Rpb24odCl7cltzKytdPXR9LG89MDtvPGU7KytvKXtpZihzKzU+ci5sZW5ndGgpe3ZhciBhPW5ldyBwcihzKzgrKGUtbzw8MSkpO2Euc2V0KHIpLHI9YX12YXIgbD10LmNoYXJDb2RlQXQobyk7bDwxMjh8fGk/bihsKTpsPDIwNDg/KG4oMTkyfGw+Pj42KSxuKDEyOHw2MyZsKSk6bD41NTI5NSYmbDw1NzM0ND8obigyNDB8KGw9NjU1MzYrKDEwNDc1NTImbCl8MTAyMyZ0LmNoYXJDb2RlQXQoKytvKSk+Pj4xOCksbigxMjh8bD4+PjEyJjYzKSxuKDEyOHxsPj4+NiY2MyksbigxMjh8NjMmbCkpOihuKDIyNHxsPj4+MTIpLG4oMTI4fGw+Pj42JjYzKSxuKDEyOHw2MyZsKSl9cmV0dXJuIEFyKHIsMCxzKX1mdW5jdGlvbiBacih0LGkpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGk9MCxlPTA7ZTx0Lmxlbmd0aDtlKyspaT0oaTw8NSktaSt0LmNoYXJDb2RlQXQoZSksaXw9MDtyZXR1cm4gTWF0aC5hYnMoaSl9KHQpJTEwMDxHKDEwMCppLDAsMTAwLHh0KX12YXIgdHM9XCJkaXNhYmxlZFwiLGlzPVwic2FtcGxlZFwiLGVzPVwiYWN0aXZlXCIscnM9XCJidWZmZXJpbmdcIixzcz1cInBhdXNlZFwiLG5zPVwidHJpZ2dlclwiLG9zPW5zK1wiX2FjdGl2YXRlZFwiLGFzPW5zK1wiX3BlbmRpbmdcIixscz1ucytcIl9cIit0cztmdW5jdGlvbiB1cyh0LGkpe3JldHVybiBpLnNvbWUoKGk9PlwicmVnZXhcIj09PWkubWF0Y2hpbmcmJm5ldyBSZWdFeHAoaS51cmwpLnRlc3QodCkpKX1jbGFzcyBoc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLlB0PXR9dHJpZ2dlclN0YXR1cyh0KXt2YXIgaT10aGlzLlB0Lm1hcCgoaT0+aS50cmlnZ2VyU3RhdHVzKHQpKSk7cmV0dXJuIGkuaW5jbHVkZXMob3MpP29zOmkuaW5jbHVkZXMoYXMpP2FzOmxzfXN0b3AoKXt0aGlzLlB0LmZvckVhY2goKHQ9PnQuc3RvcCgpKSl9fWNsYXNzIGRze2NvbnN0cnVjdG9yKHQpe3RoaXMuUHQ9dH10cmlnZ2VyU3RhdHVzKHQpe3ZhciBpPW5ldyBTZXQ7Zm9yKHZhciBlIG9mIHRoaXMuUHQpaS5hZGQoZS50cmlnZ2VyU3RhdHVzKHQpKTtzd2l0Y2goaS5kZWxldGUobHMpLGkuc2l6ZSl7Y2FzZSAwOnJldHVybiBscztjYXNlIDE6cmV0dXJuIEFycmF5LmZyb20oaSlbMF07ZGVmYXVsdDpyZXR1cm4gYXN9fXN0b3AoKXt0aGlzLlB0LmZvckVhY2goKHQ9PnQuc3RvcCgpKSl9fWNsYXNzIHZze3RyaWdnZXJTdGF0dXMoKXtyZXR1cm4gYXN9c3RvcCgpe319dmFyIGNzPXQ9Plwic2Vzc2lvblJlY29yZGluZ1wiaW4gdDtjbGFzcyBmc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLlJ0PVtdLHRoaXMuSXQ9W10sdGhpcy51cmxCbG9ja2VkPSExLHRoaXMuX2luc3RhbmNlPXR9b25Db25maWcodCl7dmFyIGksZTt0aGlzLlJ0PShjcyh0KT9udWxsPT0oaT10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDppLnVybFRyaWdnZXJzOm51bGw9PXQ/dm9pZCAwOnQudXJsVHJpZ2dlcnMpfHxbXSx0aGlzLkl0PShjcyh0KT9udWxsPT0oZT10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDplLnVybEJsb2NrbGlzdDpudWxsPT10P3ZvaWQgMDp0LnVybEJsb2NrbGlzdCl8fFtdfW9uUmVtb3RlQ29uZmlnKHQpe3RoaXMub25Db25maWcodCl9VHQodCl7dmFyIGk7cmV0dXJuIDA9PT10aGlzLlJ0Lmxlbmd0aD9sczoobnVsbD09KGk9dGhpcy5faW5zdGFuY2UpP3ZvaWQgMDppLmdldF9wcm9wZXJ0eShkaSkpPT09dD9vczphc310cmlnZ2VyU3RhdHVzKHQpe3ZhciBpPXRoaXMuVHQodCksZT1pPT09b3M/b3M6aT09PWFzP2FzOmxzO3JldHVybiB0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNka19kZWJ1Z19yZXBsYXlfdXJsX3RyaWdnZXJfc3RhdHVzOmV9KSxlfWNoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoaSxlLHIpe2lmKHZvaWQgMCE9PXQmJnQubG9jYXRpb24uaHJlZil7dmFyIHM9dC5sb2NhdGlvbi5ocmVmLG49dGhpcy51cmxCbG9ja2VkLG89dXMocyx0aGlzLkl0KTtuJiZvfHwobyYmIW4/aSgpOiFvJiZuJiZlKCksdXMocyx0aGlzLlJ0KSYmcihcInVybFwiKSl9fXN0b3AoKXt9fWNsYXNzIHBze2NvbnN0cnVjdG9yKHQpe3RoaXMubGlua2VkRmxhZz1udWxsLHRoaXMubGlua2VkRmxhZ1NlZW49ITEsdGhpcy5DdD0oKT0+e30sdGhpcy5faW5zdGFuY2U9dH10cmlnZ2VyU3RhdHVzKCl7dmFyIHQ9YXM7cmV0dXJuIEEodGhpcy5saW5rZWRGbGFnKSYmKHQ9bHMpLHRoaXMubGlua2VkRmxhZ1NlZW4mJih0PW9zKSx0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNka19kZWJ1Z19yZXBsYXlfbGlua2VkX2ZsYWdfdHJpZ2dlcl9zdGF0dXM6dH0pLHR9b25Db25maWcodCxpKXt2YXIgZTtpZih0aGlzLmxpbmtlZEZsYWc9KGNzKHQpP251bGw9PShlPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmUubGlua2VkRmxhZzpudWxsPT10P3ZvaWQgMDp0LmxpbmtlZEZsYWcpfHxudWxsLCFBKHRoaXMubGlua2VkRmxhZykmJiF0aGlzLmxpbmtlZEZsYWdTZWVuKXt2YXIgcj1NKHRoaXMubGlua2VkRmxhZyk/dGhpcy5saW5rZWRGbGFnOnRoaXMubGlua2VkRmxhZy5mbGFnLHM9TSh0aGlzLmxpbmtlZEZsYWcpP251bGw6dGhpcy5saW5rZWRGbGFnLnZhcmlhbnQ7dGhpcy5DdD10aGlzLl9pbnN0YW5jZS5vbkZlYXR1cmVGbGFncygoKHQsZSk9Pnt2YXIgbj0hMTtpZihJKGUpJiZyIGluIGUpe3ZhciBvPWVbcl07bj1qKG8pPyEwPT09bzpzP289PT1zOiEhb310aGlzLmxpbmtlZEZsYWdTZWVuPW4sbiYmaShyLHMpfSkpfX1vblJlbW90ZUNvbmZpZyh0LGkpe3RoaXMub25Db25maWcodCxpKX1zdG9wKCl7dGhpcy5DdCgpfX1jbGFzcyBnc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLk10PVtdLHRoaXMuX2luc3RhbmNlPXR9b25Db25maWcodCl7dmFyIGk7dGhpcy5NdD0oY3ModCk/bnVsbD09KGk9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6aS5ldmVudFRyaWdnZXJzOm51bGw9PXQ/dm9pZCAwOnQuZXZlbnRUcmlnZ2Vycyl8fFtdfW9uUmVtb3RlQ29uZmlnKHQpe3RoaXMub25Db25maWcodCl9T3QodCl7dmFyIGk7cmV0dXJuIDA9PT10aGlzLk10Lmxlbmd0aD9sczoobnVsbD09KGk9dGhpcy5faW5zdGFuY2UpP3ZvaWQgMDppLmdldF9wcm9wZXJ0eSh2aSkpPT09dD9vczphc310cmlnZ2VyU3RhdHVzKHQpe3ZhciBpPXRoaXMuT3QodCksZT1pPT09b3M/b3M6aT09PWFzP2FzOmxzO3JldHVybiB0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNka19kZWJ1Z19yZXBsYXlfZXZlbnRfdHJpZ2dlcl9zdGF0dXM6ZX0pLGV9c3RvcCgpe319ZnVuY3Rpb24gX3ModCl7cmV0dXJuIHQuaXNSZWNvcmRpbmdFbmFibGVkP3JzOnRzfWZ1bmN0aW9uIG1zKHQpe2lmKCF0LnJlY2VpdmVkRmxhZ3MpcmV0dXJuIHJzO2lmKCF0LmlzUmVjb3JkaW5nRW5hYmxlZClyZXR1cm4gdHM7aWYodC51cmxUcmlnZ2VyTWF0Y2hpbmcudXJsQmxvY2tlZClyZXR1cm4gc3M7dmFyIGk9ITA9PT10LmlzU2FtcGxlZCxlPW5ldyBocyhbdC5ldmVudFRyaWdnZXJNYXRjaGluZyx0LnVybFRyaWdnZXJNYXRjaGluZyx0LmxpbmtlZEZsYWdNYXRjaGluZ10pLnRyaWdnZXJTdGF0dXModC5zZXNzaW9uSWQpO3JldHVybiBpP2lzOmU9PT1vcz9lczplPT09YXM/cnM6ITE9PT10LmlzU2FtcGxlZD90czplc31mdW5jdGlvbiB5cyh0KXtpZighdC5yZWNlaXZlZEZsYWdzKXJldHVybiBycztpZighdC5pc1JlY29yZGluZ0VuYWJsZWQpcmV0dXJuIHRzO2lmKHQudXJsVHJpZ2dlck1hdGNoaW5nLnVybEJsb2NrZWQpcmV0dXJuIHNzO3ZhciBpPW5ldyBkcyhbdC5ldmVudFRyaWdnZXJNYXRjaGluZyx0LnVybFRyaWdnZXJNYXRjaGluZyx0LmxpbmtlZEZsYWdNYXRjaGluZ10pLnRyaWdnZXJTdGF0dXModC5zZXNzaW9uSWQpLGU9aSE9PWxzLHI9aih0LmlzU2FtcGxlZCk7cmV0dXJuIGUmJmk9PT1hcz9yczplJiZpPT09bHN8fHImJiF0LmlzU2FtcGxlZD90czohMD09PXQuaXNTYW1wbGVkP2lzOmVzfXZhciBicz1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLHdzPUV0KGJzKTtmdW5jdGlvbiBTcygpe3ZhciB0O3JldHVybiBudWxsPT12fHxudWxsPT0odD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PSh0PXQucnJ3ZWIpP3ZvaWQgMDp0LnJlY29yZH12YXIga3M9M2U1LCRzPVtzci5Nb3VzZU1vdmUsc3IuTW91c2VJbnRlcmFjdGlvbixzci5TY3JvbGwsc3IuVmlld3BvcnRSZXNpemUsc3IuSW5wdXQsc3IuVG91Y2hNb3ZlLHNyLk1lZGlhSW50ZXJhY3Rpb24sc3IuRHJhZ10seHM9dD0+KHtycndlYk1ldGhvZDp0LGVucXVldWVkQXQ6RGF0ZS5ub3coKSxhdHRlbXB0OjF9KTtmdW5jdGlvbiBFcyh0KXtyZXR1cm4gZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9XCJcIixyPTA7cjx0Lmxlbmd0aDspe3ZhciBzPXRbcisrXTtlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpfXJldHVybiBlfShYcihRcihKU09OLnN0cmluZ2lmeSh0KSkpKX1mdW5jdGlvbiBQcyh0KXtyZXR1cm4gdC50eXBlPT09cnIuQ3VzdG9tJiZcInNlc3Npb25JZGxlXCI9PT10LmRhdGEudGFnfWNsYXNzIFJze2dldCBzZXNzaW9uSWQoKXtyZXR1cm4gdGhpcy5GdH1nZXQgQXQoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLnNlc3Npb25faWRsZV90aHJlc2hvbGRfbXN8fDNlNX1nZXQgc3RhcnRlZCgpe3JldHVybiB0aGlzLkR0fWdldCBqdCgpe2lmKCF0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyBuZXcgRXJyb3IoYnMrXCIgbXVzdCBiZSBzdGFydGVkIHdpdGggYSB2YWxpZCBzZXNzaW9uTWFuYWdlci5cIik7cmV0dXJuIHRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyfWdldCBMdCgpe3ZhciB0LGk7cmV0dXJuIHRoaXMuTnQudHJpZ2dlclN0YXR1cyh0aGlzLnNlc3Npb25JZCk9PT1hcz82ZTQ6bnVsbCE9PSh0PW51bGw9PShpPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyk/dm9pZCAwOmkuZnVsbF9zbmFwc2hvdF9pbnRlcnZhbF9taWxsaXMpJiZ2b2lkIDAhPT10P3Q6a3N9Z2V0IFV0KCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGhpKTtyZXR1cm4gaih0KT90Om51bGx9Z2V0IHp0KCl7dmFyIHQsaSxlPW51bGw9PSh0PXRoaXMuSCk/dm9pZCAwOnQuZGF0YVsobnVsbD09KGk9dGhpcy5IKT92b2lkIDA6aS5kYXRhLmxlbmd0aCktMV0se3Nlc3Npb25TdGFydFRpbWVzdGFtcDpyfT10aGlzLmp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtyZXR1cm4gZT9lLnRpbWVzdGFtcC1yOm51bGx9Z2V0IHF0KCl7dmFyIGk9ISF0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoaWkpLGU9IXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nO3JldHVybiB0JiZpJiZlfWdldCBCdCgpe3ZhciB0PSEhdGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGVpKSxpPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lbmFibGVfcmVjb3JkaW5nX2NvbnNvbGVfbG9nO3JldHVybiBudWxsIT1pP2k6dH1nZXQgSHQoKXt2YXIgdCxpLGUscixzLG4sbz10aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuY2FwdHVyZUNhbnZhcyxhPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShuaSksbD1udWxsIT09KHQ9bnVsbCE9PShpPW51bGw9PW8/dm9pZCAwOm8ucmVjb3JkQ2FudmFzKSYmdm9pZCAwIT09aT9pOm51bGw9PWE/dm9pZCAwOmEuZW5hYmxlZCkmJnZvaWQgMCE9PXQmJnQsdT1udWxsIT09KGU9bnVsbCE9PShyPW51bGw9PW8/dm9pZCAwOm8uY2FudmFzRnBzKSYmdm9pZCAwIT09cj9yOm51bGw9PWE/dm9pZCAwOmEuZnBzKSYmdm9pZCAwIT09ZT9lOjQsaD1udWxsIT09KHM9bnVsbCE9PShuPW51bGw9PW8/dm9pZCAwOm8uY2FudmFzUXVhbGl0eSkmJnZvaWQgMCE9PW4/bjpudWxsPT1hP3ZvaWQgMDphLnF1YWxpdHkpJiZ2b2lkIDAhPT1zP3M6LjQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGgpe3ZhciBkPXBhcnNlRmxvYXQoaCk7aD1pc05hTihkKT8uNDpkfXJldHVybntlbmFibGVkOmwsZnBzOkcodSwwLDEyLHdzLmNyZWF0ZUxvZ2dlcihcImNhbnZhcyByZWNvcmRpbmcgZnBzXCIpLDQpLHF1YWxpdHk6RyhoLDAsMSx3cy5jcmVhdGVMb2dnZXIoXCJjYW52YXMgcmVjb3JkaW5nIHF1YWxpdHlcIiksLjQpfX1nZXQgV3QoKXt2YXIgdCxpLGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHJpKSxyPXtyZWNvcmRIZWFkZXJzOm51bGw9PSh0PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyk/dm9pZCAwOnQucmVjb3JkSGVhZGVycyxyZWNvcmRCb2R5Om51bGw9PShpPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyk/dm9pZCAwOmkucmVjb3JkQm9keX0scz0obnVsbD09cj92b2lkIDA6ci5yZWNvcmRIZWFkZXJzKXx8KG51bGw9PWU/dm9pZCAwOmUucmVjb3JkSGVhZGVycyksbj0obnVsbD09cj92b2lkIDA6ci5yZWNvcmRCb2R5KXx8KG51bGw9PWU/dm9pZCAwOmUucmVjb3JkQm9keSksbz1JKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS5uZXR3b3JrX3RpbWluZzp0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSxhPSEhKGoobyk/bzpudWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVQZXJmb3JtYW5jZSk7cmV0dXJuIHN8fG58fGE/e3JlY29yZEhlYWRlcnM6cyxyZWNvcmRCb2R5Om4scmVjb3JkUGVyZm9ybWFuY2U6YX06dm9pZCAwfWdldCBHdCgpe3ZhciB0LGksZSxyLHMsbixvPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShzaSksYT17bWFza0FsbElucHV0czpudWxsPT0odD10aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpP3ZvaWQgMDp0Lm1hc2tBbGxJbnB1dHMsbWFza1RleHRTZWxlY3RvcjpudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpP3ZvaWQgMDppLm1hc2tUZXh0U2VsZWN0b3IsYmxvY2tTZWxlY3RvcjpudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpP3ZvaWQgMDplLmJsb2NrU2VsZWN0b3J9LGw9bnVsbCE9PShyPW51bGw9PWE/dm9pZCAwOmEubWFza0FsbElucHV0cykmJnZvaWQgMCE9PXI/cjpudWxsPT1vP3ZvaWQgMDpvLm1hc2tBbGxJbnB1dHMsdT1udWxsIT09KHM9bnVsbD09YT92b2lkIDA6YS5tYXNrVGV4dFNlbGVjdG9yKSYmdm9pZCAwIT09cz9zOm51bGw9PW8/dm9pZCAwOm8ubWFza1RleHRTZWxlY3RvcixoPW51bGwhPT0obj1udWxsPT1hP3ZvaWQgMDphLmJsb2NrU2VsZWN0b3IpJiZ2b2lkIDAhPT1uP246bnVsbD09bz92b2lkIDA6by5ibG9ja1NlbGVjdG9yO3JldHVybiBDKGwpJiZDKHUpJiZDKGgpP3ZvaWQgMDp7bWFza0FsbElucHV0czpudWxsPT1sfHxsLG1hc2tUZXh0U2VsZWN0b3I6dSxibG9ja1NlbGVjdG9yOmh9fWdldCBWdCgpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShvaSk7cmV0dXJuIEQodCk/dDpudWxsfWdldCBKdCgpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShhaSk7cmV0dXJuIEQodCk/dDpudWxsfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5LdD90aGlzLll0KHtyZWNlaXZlZEZsYWdzOnRoaXMuS3QsaXNSZWNvcmRpbmdFbmFibGVkOnRoaXMucXQsaXNTYW1wbGVkOnRoaXMuVXQsdXJsVHJpZ2dlck1hdGNoaW5nOnRoaXMuWHQsZXZlbnRUcmlnZ2VyTWF0Y2hpbmc6dGhpcy5RdCxsaW5rZWRGbGFnTWF0Y2hpbmc6dGhpcy5adCxzZXNzaW9uSWQ6dGhpcy5zZXNzaW9uSWR9KTpyc31jb25zdHJ1Y3Rvcih0KXtpZih0aGlzLll0PV9zLHRoaXMuS3Q9ITEsdGhpcy50aT1bXSx0aGlzLmlpPVwidW5rbm93blwiLHRoaXMuZWk9RGF0ZS5ub3coKSx0aGlzLk50PW5ldyB2cyx0aGlzLnJpPXZvaWQgMCx0aGlzLnNpPXZvaWQgMCx0aGlzLm5pPXZvaWQgMCx0aGlzLm9pPXZvaWQgMCx0aGlzLmFpPXZvaWQgMCx0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU9ITEsdGhpcy5saT0oKT0+e3RoaXMudWkoKX0sdGhpcy5oaT0oKT0+e3RoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCJicm93c2VyIG9mZmxpbmVcIix7fSl9LHRoaXMuZGk9KCk9Pnt0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwiYnJvd3NlciBvbmxpbmVcIix7fSl9LHRoaXMudmk9KCk9PntpZihudWxsIT1vJiZvLnZpc2liaWxpdHlTdGF0ZSl7dmFyIHQ9XCJ3aW5kb3cgXCIrby52aXNpYmlsaXR5U3RhdGU7dGhpcy50cnlBZGRDdXN0b21FdmVudCh0LHt9KX19LHRoaXMuX2luc3RhbmNlPXQsdGhpcy5EdD0hMSx0aGlzLmNpPVwiL3MvXCIsdGhpcy5maT12b2lkIDAsdGhpcy5LdD0hMSwhdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpdGhyb3cgd3MuZXJyb3IoXCJzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXJcIiksbmV3IEVycm9yKGJzK1wiIHN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlci4gVGhpcyBpcyBhIGJ1Zy5cIik7aWYoXCJhbHdheXNcIj09PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKGJzKycgY2Fubm90IGJlIHVzZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpO3RoaXMuWnQ9bmV3IHBzKHRoaXMuX2luc3RhbmNlKSx0aGlzLlh0PW5ldyBmcyh0aGlzLl9pbnN0YW5jZSksdGhpcy5RdD1uZXcgZ3ModGhpcy5faW5zdGFuY2UpO3ZhcntzZXNzaW9uSWQ6aSx3aW5kb3dJZDplfT10aGlzLmp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCk7dGhpcy5GdD1pLHRoaXMucGk9ZSx0aGlzLkg9dGhpcy5naSgpLHRoaXMuQXQ+PXRoaXMuanQuc2Vzc2lvblRpbWVvdXRNcyYmd3Mud2FybihcInNlc3Npb25faWRsZV90aHJlc2hvbGRfbXMgKFwiK3RoaXMuQXQrXCIpIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vzc2lvbiB0aW1lb3V0IChcIit0aGlzLmp0LnNlc3Npb25UaW1lb3V0TXMrXCIpLiBTZXNzaW9uIHdpbGwgbmV2ZXIgYmUgZGV0ZWN0ZWQgYXMgaWRsZVwiKX1zdGFydElmRW5hYmxlZE9yU3RvcChpKXt0aGlzLnF0Pyh0aGlzLm1pKGkpLHF0KHQsXCJiZWZvcmV1bmxvYWRcIix0aGlzLmxpKSxxdCh0LFwib2ZmbGluZVwiLHRoaXMuaGkpLHF0KHQsXCJvbmxpbmVcIix0aGlzLmRpKSxxdCh0LFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMudmkpLHRoaXMueWkoKSx0aGlzLmJpKCksQSh0aGlzLnJpKSYmKHRoaXMucmk9dGhpcy5faW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKHQ9Pnt0cnl7aWYoXCIkcGFnZXZpZXdcIj09PXQuZXZlbnQpe3ZhciBpPW51bGwhPXQmJnQucHJvcGVydGllcy4kY3VycmVudF91cmw/dGhpcy53aShudWxsPT10P3ZvaWQgMDp0LnByb3BlcnRpZXMuJGN1cnJlbnRfdXJsKTpcIlwiO2lmKCFpKXJldHVybjt0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwiJHBhZ2V2aWV3XCIse2hyZWY6aX0pfX1jYXRjaCh0KXt3cy5lcnJvcihcIkNvdWxkIG5vdCBhZGQgJHBhZ2V2aWV3IHRvIHJyd2ViIHNlc3Npb25cIix0KX19KSkpLHRoaXMuc2l8fCh0aGlzLnNpPXRoaXMuanQub25TZXNzaW9uSWQoKCh0LGksZSk9Pnt2YXIgcixzO2UmJih0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwiJHNlc3Npb25faWRfY2hhbmdlXCIse3Nlc3Npb25JZDp0LHdpbmRvd0lkOmksY2hhbmdlUmVhc29uOmV9KSxudWxsPT0ocj10aGlzLl9pbnN0YW5jZSl8fG51bGw9PShyPXIucGVyc2lzdGVuY2UpfHxyLnVucmVnaXN0ZXIodmkpLG51bGw9PShzPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KHM9cy5wZXJzaXN0ZW5jZSl8fHMudW5yZWdpc3RlcihkaSkpfSkpKSk6dGhpcy5zdG9wUmVjb3JkaW5nKCl9c3RvcFJlY29yZGluZygpe3ZhciBpLGUscixzO3RoaXMuRHQmJnRoaXMuZmkmJih0aGlzLmZpKCksdGhpcy5maT12b2lkIDAsdGhpcy5EdD0hMSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLmxpKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsdGhpcy5oaSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5kaSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMudmkpLHRoaXMuZ2koKSxjbGVhckludGVydmFsKHRoaXMuU2kpLG51bGw9PShpPXRoaXMucmkpfHxpLmNhbGwodGhpcyksdGhpcy5yaT12b2lkIDAsbnVsbD09KGU9dGhpcy5haSl8fGUuY2FsbCh0aGlzKSx0aGlzLmFpPXZvaWQgMCxudWxsPT0ocj10aGlzLnNpKXx8ci5jYWxsKHRoaXMpLHRoaXMuc2k9dm9pZCAwLG51bGw9PShzPXRoaXMub2kpfHxzLmNhbGwodGhpcyksdGhpcy5vaT12b2lkIDAsdGhpcy5RdC5zdG9wKCksdGhpcy5YdC5zdG9wKCksdGhpcy5adC5zdG9wKCksd3MuaW5mbyhcInN0b3BwZWRcIikpfWtpKCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHx0LnVucmVnaXN0ZXIoaGkpfSRpKHQpe3ZhciBpLGU9dGhpcy5GdCE9PXQscj10aGlzLlZ0O2lmKEQocikpe3ZhciBzPXRoaXMuVXQsbj1lfHwhaihzKSxvPW4/WnIodCxyKTpzO24mJihvP3RoaXMueGkoaXMpOndzLndhcm4oXCJTYW1wbGUgcmF0ZSAoXCIrcitcIikgaGFzIGRldGVybWluZWQgdGhhdCB0aGlzIHNlc3Npb25JZCAoXCIrdCtcIikgd2lsbCBub3QgYmUgc2VudCB0byB0aGUgc2VydmVyLlwiKSx0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwic2FtcGxpbmdEZWNpc2lvbk1hZGVcIix7c2FtcGxlUmF0ZTpyLGlzU2FtcGxlZDpvfSkpLG51bGw9PShpPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7W2hpXTpvfSl9ZWxzZSB0aGlzLmtpKCl9b25SZW1vdGVDb25maWcodCl7dmFyIGksZSxyLHM7KHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcmVtb3RlX2NvbmZpZ19yZWNlaXZlZFwiLHQpLHRoaXMuRWkodCksbnVsbCE9KGk9dC5zZXNzaW9uUmVjb3JkaW5nKSYmaS5lbmRwb2ludCkmJih0aGlzLmNpPW51bGw9PShzPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOnMuZW5kcG9pbnQpO3RoaXMueWkoKSxcImFueVwiPT09KG51bGw9PShlPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmUudHJpZ2dlck1hdGNoVHlwZSk/KHRoaXMuWXQ9bXMsdGhpcy5OdD1uZXcgaHMoW3RoaXMuUXQsdGhpcy5YdF0pKToodGhpcy5ZdD15cyx0aGlzLk50PW5ldyBkcyhbdGhpcy5RdCx0aGlzLlh0XSkpLHRoaXMuX2luc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2RrX2RlYnVnX3JlcGxheV9yZW1vdGVfdHJpZ2dlcl9tYXRjaGluZ19jb25maWc6bnVsbD09KHI9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6ci50cmlnZ2VyTWF0Y2hUeXBlfSksdGhpcy5YdC5vbkNvbmZpZyh0KSx0aGlzLlF0Lm9uQ29uZmlnKHQpLHRoaXMuWnQub25Db25maWcodCwoKHQsaSk9Pnt0aGlzLnhpKFwibGlua2VkX2ZsYWdfbWF0Y2hlZFwiLHtmbGFnOnQsdmFyaWFudDppfSl9KSksdGhpcy5LdD0hMCx0aGlzLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9eWkoKXtEKHRoaXMuVnQpJiZBKHRoaXMub2kpJiYodGhpcy5vaT10aGlzLmp0Lm9uU2Vzc2lvbklkKCh0PT57dGhpcy4kaSh0KX0pKSl9RWkodCl7aWYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Upe3ZhciBpLGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Uscj0oKT0+e3ZhciBpLHIscyxuLG8sYSxsLHUsaCxkPW51bGw9PShpPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmkuc2FtcGxlUmF0ZSx2PUEoZCk/bnVsbDpwYXJzZUZsb2F0KGQpO0EodikmJnRoaXMua2koKTt2YXIgYz1udWxsPT0ocj10LnNlc3Npb25SZWNvcmRpbmcpP3ZvaWQgMDpyLm1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kcztlLnJlZ2lzdGVyKHtbaWldOiEhdC5zZXNzaW9uUmVjb3JkaW5nLFtlaV06bnVsbD09KHM9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6cy5jb25zb2xlTG9nUmVjb3JkaW5nRW5hYmxlZCxbcmldOmcoe2NhcHR1cmVQZXJmb3JtYW5jZTp0LmNhcHR1cmVQZXJmb3JtYW5jZX0sbnVsbD09KG49dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6bi5uZXR3b3JrUGF5bG9hZENhcHR1cmUpLFtzaV06bnVsbD09KG89dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6by5tYXNraW5nLFtuaV06e2VuYWJsZWQ6bnVsbD09KGE9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6YS5yZWNvcmRDYW52YXMsZnBzOm51bGw9PShsPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmwuY2FudmFzRnBzLHF1YWxpdHk6bnVsbD09KHU9dC5zZXNzaW9uUmVjb3JkaW5nKT92b2lkIDA6dS5jYW52YXNRdWFsaXR5fSxbb2ldOnYsW2FpXTpDKGMpP251bGw6YyxbbGldOm51bGw9PShoPXQuc2Vzc2lvblJlY29yZGluZyk/dm9pZCAwOmguc2NyaXB0Q29uZmlnfSl9O3IoKSxudWxsPT0oaT10aGlzLm5pKXx8aS5jYWxsKHRoaXMpLHRoaXMubmk9dGhpcy5qdC5vblNlc3Npb25JZChyKX19bG9nKHQsaSl7dmFyIGU7dm9pZCAwPT09aSYmKGk9XCJsb2dcIiksbnVsbD09KGU9dGhpcy5faW5zdGFuY2Uuc2Vzc2lvblJlY29yZGluZyl8fGUub25SUndlYkVtaXQoe3R5cGU6NixkYXRhOntwbHVnaW46XCJycndlYi9jb25zb2xlQDFcIixwYXlsb2FkOntsZXZlbDppLHRyYWNlOltdLHBheWxvYWQ6W0pTT04uc3RyaW5naWZ5KHQpXX19LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9bWkodCl7aWYoIUMoT2JqZWN0LmFzc2lnbikmJiFDKEFycmF5LmZyb20pJiYhKHRoaXMuRHR8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nfHx0aGlzLl9pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSkpe3ZhciBpO2lmKHRoaXMuRHQ9ITAsdGhpcy5qdC5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLFNzKCkpdGhpcy5QaSgpO2Vsc2UgbnVsbD09KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1pLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSx0aGlzLlJpLCh0PT57aWYodClyZXR1cm4gd3MuZXJyb3IoXCJjb3VsZCBub3QgbG9hZCByZWNvcmRlclwiLHQpO3RoaXMuUGkoKX0pKTt3cy5pbmZvKFwic3RhcnRpbmdcIiksdGhpcy5zdGF0dXM9PT1lcyYmdGhpcy54aSh0fHxcInJlY29yZGluZ19pbml0aWFsaXplZFwiKX19Z2V0IFJpKCl7dmFyIHQ7cmV0dXJuKG51bGw9PSh0PXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KHQ9dC5wZXJzaXN0ZW5jZSl8fG51bGw9PSh0PXQuZ2V0X3Byb3BlcnR5KGxpKSk/dm9pZCAwOnQuc2NyaXB0KXx8XCJyZWNvcmRlclwifUlpKHQpe3ZhciBpO3JldHVybiAzPT09dC50eXBlJiYtMSE9PSRzLmluZGV4T2YobnVsbD09KGk9dC5kYXRhKT92b2lkIDA6aS5zb3VyY2UpfVRpKHQpe3ZhciBpPXRoaXMuSWkodCk7aXx8dGhpcy5paXx8dC50aW1lc3RhbXAtdGhpcy5laT50aGlzLkF0JiYodGhpcy5paT0hMCxjbGVhckludGVydmFsKHRoaXMuU2kpLHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uSWRsZVwiLHtldmVudFRpbWVzdGFtcDp0LnRpbWVzdGFtcCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6dGhpcy5laSx0aHJlc2hvbGQ6dGhpcy5BdCxidWZmZXJMZW5ndGg6dGhpcy5ILmRhdGEubGVuZ3RoLGJ1ZmZlclNpemU6dGhpcy5ILnNpemV9KSx0aGlzLnVpKCkpO3ZhciBlPSExO2lmKGkmJih0aGlzLmVpPXQudGltZXN0YW1wLHRoaXMuaWkpKXt2YXIgcj1cInVua25vd25cIj09PXRoaXMuaWk7dGhpcy5paT0hMSxyfHwodGhpcy50cnlBZGRDdXN0b21FdmVudChcInNlc3Npb25Ob0xvbmdlcklkbGVcIix7cmVhc29uOlwidXNlciBhY3Rpdml0eVwiLHR5cGU6dC50eXBlfSksZT0hMCl9aWYoIXRoaXMuaWkpe3Zhcnt3aW5kb3dJZDpzLHNlc3Npb25JZDpufT10aGlzLmp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCFpLHQudGltZXN0YW1wKSxvPXRoaXMuRnQhPT1uLGE9dGhpcy5waSE9PXM7dGhpcy5waT1zLHRoaXMuRnQ9bixvfHxhPyh0aGlzLnN0b3BSZWNvcmRpbmcoKSx0aGlzLnN0YXJ0SWZFbmFibGVkT3JTdG9wKFwic2Vzc2lvbl9pZF9jaGFuZ2VkXCIpKTplJiZ0aGlzLkNpKCl9fU1pKHQpe3RyeXtyZXR1cm4gdC5ycndlYk1ldGhvZCgpLCEwfWNhdGNoKGkpe3JldHVybiB0aGlzLnRpLmxlbmd0aDwxMD90aGlzLnRpLnB1c2goe2VucXVldWVkQXQ6dC5lbnF1ZXVlZEF0fHxEYXRlLm5vdygpLGF0dGVtcHQ6dC5hdHRlbXB0KysscnJ3ZWJNZXRob2Q6dC5ycndlYk1ldGhvZH0pOndzLndhcm4oXCJjb3VsZCBub3QgZW1pdCBxdWV1ZWQgcnJ3ZWIgZXZlbnQuXCIsaSx0KSwhMX19dHJ5QWRkQ3VzdG9tRXZlbnQodCxpKXtyZXR1cm4gdGhpcy5NaSh4cygoKCk9PlNzKCkuYWRkQ3VzdG9tRXZlbnQodCxpKSkpKX1PaSgpe3JldHVybiB0aGlzLk1pKHhzKCgoKT0+U3MoKS50YWtlRnVsbFNuYXBzaG90KCkpKSl9UGkoKXt2YXIgdCxpLGUscixzPXtibG9ja0NsYXNzOlwicGgtbm8tY2FwdHVyZVwiLGJsb2NrU2VsZWN0b3I6dm9pZCAwLGlnbm9yZUNsYXNzOlwicGgtaWdub3JlLWlucHV0XCIsbWFza1RleHRDbGFzczpcInBoLW1hc2tcIixtYXNrVGV4dFNlbGVjdG9yOnZvaWQgMCxtYXNrVGV4dEZuOnZvaWQgMCxtYXNrQWxsSW5wdXRzOiEwLG1hc2tJbnB1dE9wdGlvbnM6e3Bhc3N3b3JkOiEwfSxtYXNrSW5wdXRGbjp2b2lkIDAsc2xpbURPTU9wdGlvbnM6e30sY29sbGVjdEZvbnRzOiExLGlubGluZVN0eWxlc2hlZXQ6ITAscmVjb3JkQ3Jvc3NPcmlnaW5JZnJhbWVzOiExfSxuPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZztmb3IodmFyW28sYV1vZiBPYmplY3QuZW50cmllcyhufHx7fSkpbyBpbiBzJiYoXCJtYXNrSW5wdXRPcHRpb25zXCI9PT1vP3MubWFza0lucHV0T3B0aW9ucz1nKHtwYXNzd29yZDohMH0sYSk6c1tvXT1hKTsodGhpcy5IdCYmdGhpcy5IdC5lbmFibGVkJiYocy5yZWNvcmRDYW52YXM9ITAscy5zYW1wbGluZz17Y2FudmFzOnRoaXMuSHQuZnBzfSxzLmRhdGFVUkxPcHRpb25zPXt0eXBlOlwiaW1hZ2Uvd2VicFwiLHF1YWxpdHk6dGhpcy5IdC5xdWFsaXR5fSksdGhpcy5HdCkmJihzLm1hc2tBbGxJbnB1dHM9bnVsbD09PShpPXRoaXMuR3QubWFza0FsbElucHV0cyl8fHZvaWQgMD09PWl8fGkscy5tYXNrVGV4dFNlbGVjdG9yPW51bGwhPT0oZT10aGlzLkd0Lm1hc2tUZXh0U2VsZWN0b3IpJiZ2b2lkIDAhPT1lP2U6dm9pZCAwLHMuYmxvY2tTZWxlY3Rvcj1udWxsIT09KHI9dGhpcy5HdC5ibG9ja1NlbGVjdG9yKSYmdm9pZCAwIT09cj9yOnZvaWQgMCk7dmFyIGw9U3MoKTtpZihsKXt0aGlzLkZpPW51bGwhPT0odD10aGlzLkZpKSYmdm9pZCAwIT09dD90Om5ldyBmcihsLHtyZWZpbGxSYXRlOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5fX211dGF0aW9uVGhyb3R0bGVyUmVmaWxsUmF0ZSxidWNrZXRTaXplOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5fX211dGF0aW9uVGhyb3R0bGVyQnVja2V0U2l6ZSxvbkJsb2NrZWROb2RlOih0LGkpPT57dmFyIGU9XCJUb28gbWFueSBtdXRhdGlvbnMgb24gbm9kZSAnXCIrdCtcIicuIFJhdGUgbGltaXRpbmcuIFRoaXMgY291bGQgYmUgZHVlIHRvIFNWRyBhbmltYXRpb25zIG9yIHNvbWV0aGluZyBzaW1pbGFyXCI7d3MuaW5mbyhlLHtub2RlOml9KSx0aGlzLmxvZyhicytcIiBcIitlLFwid2FyblwiKX19KTt2YXIgdT10aGlzLkFpKCk7dGhpcy5maT1sKGcoe2VtaXQ6dD0+e3RoaXMub25SUndlYkVtaXQodCl9LHBsdWdpbnM6dX0scykpLHRoaXMuZWk9RGF0ZS5ub3coKSx0aGlzLmlpPWoodGhpcy5paSk/dGhpcy5paTpcInVua25vd25cIix0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwiJHNlc3Npb25fb3B0aW9uc1wiLHtzZXNzaW9uUmVjb3JkaW5nT3B0aW9uczpzLGFjdGl2ZVBsdWdpbnM6dS5tYXAoKHQ9Pm51bGw9PXQ/dm9pZCAwOnQubmFtZSkpfSksdGhpcy50cnlBZGRDdXN0b21FdmVudChcIiRwb3N0aG9nX2NvbmZpZ1wiLHtjb25maWc6dGhpcy5faW5zdGFuY2UuY29uZmlnfSl9ZWxzZSB3cy5lcnJvcihcIm9uU2NyaXB0TG9hZGVkIHdhcyBjYWxsZWQgYnV0IHJyd2ViUmVjb3JkIGlzIG5vdCBhdmFpbGFibGUuIFRoaXMgaW5kaWNhdGVzIHNvbWV0aGluZyBoYXMgZ29uZSB3cm9uZy5cIil9Q2koKXtpZih0aGlzLlNpJiZjbGVhckludGVydmFsKHRoaXMuU2kpLCEwIT09dGhpcy5paSl7dmFyIHQ9dGhpcy5MdDt0JiYodGhpcy5TaT1zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLk9pKCl9KSx0KSl9fUFpKCl7dmFyIHQsaSxlPVtdLHI9bnVsbD09KHQ9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0odD10LnJyd2ViUGx1Z2lucyk/dm9pZCAwOnQuZ2V0UmVjb3JkQ29uc29sZVBsdWdpbjtyJiZ0aGlzLkJ0JiZlLnB1c2gocigpKTt2YXIgcz1udWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShpPWkucnJ3ZWJQbHVnaW5zKT92b2lkIDA6aS5nZXRSZWNvcmROZXR3b3JrUGx1Z2luO3RoaXMuV3QmJlIocykmJighY2UuaW5jbHVkZXMobG9jYXRpb24uaG9zdG5hbWUpfHx0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU/ZS5wdXNoKHMoY3IodGhpcy5faW5zdGFuY2UuY29uZmlnLHRoaXMuV3QpKSk6d3MuaW5mbyhcIk5ldHdvcmtDYXB0dXJlIG5vdCBzdGFydGVkIGJlY2F1c2Ugd2UgYXJlIG9uIGxvY2FsaG9zdC5cIikpO3JldHVybiBlfW9uUlJ3ZWJFbWl0KHQpe3ZhciBpO2lmKHRoaXMuRGkoKSx0JiZJKHQpKXtpZih0LnR5cGU9PT1yci5NZXRhKXt2YXIgZT10aGlzLndpKHQuZGF0YS5ocmVmKTtpZih0aGlzLmppPWUsIWUpcmV0dXJuO3QuZGF0YS5ocmVmPWV9ZWxzZSB0aGlzLkxpKCk7aWYodGhpcy5YdC5jaGVja1VybFRyaWdnZXJDb25kaXRpb25zKCgoKT0+dGhpcy5OaSgpKSwoKCk9PnRoaXMuVWkoKSksKHQ9PnRoaXMuemkodCkpKSwhdGhpcy5YdC51cmxCbG9ja2VkfHwocj10KS50eXBlPT09cnIuQ3VzdG9tJiZcInJlY29yZGluZyBwYXVzZWRcIj09PXIuZGF0YS50YWcpe3ZhciByO3QudHlwZT09PXJyLkZ1bGxTbmFwc2hvdCYmdGhpcy5DaSgpLHQudHlwZT09PXJyLkZ1bGxTbmFwc2hvdCYmdGhpcy5LdCYmdGhpcy5OdC50cmlnZ2VyU3RhdHVzKHRoaXMuc2Vzc2lvbklkKT09PWFzJiZ0aGlzLmdpKCk7dmFyIHM9dGhpcy5GaT90aGlzLkZpLnRocm90dGxlTXV0YXRpb25zKHQpOnQ7aWYocyl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGk9dDtpZihpJiZJKGkpJiY2PT09aS50eXBlJiZJKGkuZGF0YSkmJlwicnJ3ZWIvY29uc29sZUAxXCI9PT1pLmRhdGEucGx1Z2luKXtpLmRhdGEucGF5bG9hZC5wYXlsb2FkLmxlbmd0aD4xMCYmKGkuZGF0YS5wYXlsb2FkLnBheWxvYWQ9aS5kYXRhLnBheWxvYWQucGF5bG9hZC5zbGljZSgwLDEwKSxpLmRhdGEucGF5bG9hZC5wYXlsb2FkLnB1c2goXCIuLi5bdHJ1bmNhdGVkXVwiKSk7Zm9yKHZhciBlPVtdLHI9MDtyPGkuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoO3IrKylpLmRhdGEucGF5bG9hZC5wYXlsb2FkW3JdJiZpLmRhdGEucGF5bG9hZC5wYXlsb2FkW3JdLmxlbmd0aD4yZTM/ZS5wdXNoKGkuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0uc2xpY2UoMCwyZTMpK1wiLi4uW3RydW5jYXRlZF1cIik6ZS5wdXNoKGkuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0pO3JldHVybiBpLmRhdGEucGF5bG9hZC5wYXlsb2FkPWUsdH1yZXR1cm4gdH0ocyk7aWYodGhpcy5UaShuKSwhMCE9PXRoaXMuaWl8fFBzKG4pKXtpZihQcyhuKSl7dmFyIG89bi5kYXRhLnBheWxvYWQ7aWYobyl7dmFyIGE9by5sYXN0QWN0aXZpdHlUaW1lc3RhbXAsbD1vLnRocmVzaG9sZDtuLnRpbWVzdGFtcD1hK2x9fXZhciB1PW51bGw9PT0oaT10aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuY29tcHJlc3NfZXZlbnRzKXx8dm9pZCAwPT09aXx8aT9mdW5jdGlvbih0KXtpZihpcih0KTwxMDI0KXJldHVybiB0O3RyeXtpZih0LnR5cGU9PT1yci5GdWxsU25hcHNob3QpcmV0dXJuIGcoe30sdCx7ZGF0YTpFcyh0LmRhdGEpLGN2OlwiMjAyNC0xMFwifSk7aWYodC50eXBlPT09cnIuSW5jcmVtZW50YWxTbmFwc2hvdCYmdC5kYXRhLnNvdXJjZT09PXNyLk11dGF0aW9uKXJldHVybiBnKHt9LHQse2N2OlwiMjAyNC0xMFwiLGRhdGE6Zyh7fSx0LmRhdGEse3RleHRzOkVzKHQuZGF0YS50ZXh0cyksYXR0cmlidXRlczpFcyh0LmRhdGEuYXR0cmlidXRlcykscmVtb3ZlczpFcyh0LmRhdGEucmVtb3ZlcyksYWRkczpFcyh0LmRhdGEuYWRkcyl9KX0pO2lmKHQudHlwZT09PXJyLkluY3JlbWVudGFsU25hcHNob3QmJnQuZGF0YS5zb3VyY2U9PT1zci5TdHlsZVNoZWV0UnVsZSlyZXR1cm4gZyh7fSx0LHtjdjpcIjIwMjQtMTBcIixkYXRhOmcoe30sdC5kYXRhLHthZGRzOnQuZGF0YS5hZGRzP0VzKHQuZGF0YS5hZGRzKTp2b2lkIDAscmVtb3Zlczp0LmRhdGEucmVtb3Zlcz9Fcyh0LmRhdGEucmVtb3Zlcyk6dm9pZCAwfSl9KX1jYXRjaCh0KXt3cy5lcnJvcihcImNvdWxkIG5vdCBjb21wcmVzcyBldmVudCAtIHdpbGwgdXNlIHVuY29tcHJlc3NlZCBldmVudFwiLHQpfXJldHVybiB0fShuKTpuLGg9eyRzbmFwc2hvdF9ieXRlczppcih1KSwkc25hcHNob3RfZGF0YTp1LCRzZXNzaW9uX2lkOnRoaXMuRnQsJHdpbmRvd19pZDp0aGlzLnBpfTt0aGlzLnN0YXR1cyE9PXRzP3RoaXMucWkoaCk6dGhpcy5naSgpfX19fX1MaSgpe2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wYWdldmlldyYmdCl7dmFyIGk9dGhpcy53aSh0LmxvY2F0aW9uLmhyZWYpO3RoaXMuamkhPT1pJiYodGhpcy50cnlBZGRDdXN0b21FdmVudChcIiR1cmxfY2hhbmdlZFwiLHtocmVmOml9KSx0aGlzLmppPWkpfX1EaSgpe2lmKHRoaXMudGkubGVuZ3RoKXt2YXIgdD1bLi4udGhpcy50aV07dGhpcy50aT1bXSx0LmZvckVhY2goKHQ9PntEYXRlLm5vdygpLXQuZW5xdWV1ZWRBdDw9MmUzJiZ0aGlzLk1pKHQpfSkpfX13aSh0KXt2YXIgaT10aGlzLl9pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmc7aWYoaS5tYXNrTmV0d29ya1JlcXVlc3RGbil7dmFyIGUscj17dXJsOnR9O3JldHVybiBudWxsPT0oZT1yPWkubWFza05ldHdvcmtSZXF1ZXN0Rm4ocikpP3ZvaWQgMDplLnVybH1yZXR1cm4gdH1naSgpe3JldHVybiB0aGlzLkg9e3NpemU6MCxkYXRhOltdLHNlc3Npb25JZDp0aGlzLkZ0LHdpbmRvd0lkOnRoaXMucGl9LHRoaXMuSH11aSgpe3RoaXMuQmkmJihjbGVhclRpbWVvdXQodGhpcy5CaSksdGhpcy5CaT12b2lkIDApO3ZhciB0PXRoaXMuSnQsaT10aGlzLnp0LGU9RChpKSYmaT49MCxyPUQodCkmJmUmJmk8dDtpZih0aGlzLnN0YXR1cz09PXJzfHx0aGlzLnN0YXR1cz09PXNzfHx0aGlzLnN0YXR1cz09PXRzfHxyKXJldHVybiB0aGlzLkJpPXNldFRpbWVvdXQoKCgpPT57dGhpcy51aSgpfSksMmUzKSx0aGlzLkg7dGhpcy5ILmRhdGEubGVuZ3RoPjAmJmVyKHRoaXMuSCkuZm9yRWFjaCgodD0+e3RoaXMuSGkoeyRzbmFwc2hvdF9ieXRlczp0LnNpemUsJHNuYXBzaG90X2RhdGE6dC5kYXRhLCRzZXNzaW9uX2lkOnQuc2Vzc2lvbklkLCR3aW5kb3dfaWQ6dC53aW5kb3dJZCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOmMuTElCX1ZFUlNJT059KX0pKTtyZXR1cm4gdGhpcy5naSgpfXFpKHQpe3ZhciBpLGU9MisoKG51bGw9PShpPXRoaXMuSCk/dm9pZCAwOmkuZGF0YS5sZW5ndGgpfHwwKTshdGhpcy5paSYmKHRoaXMuSC5zaXplK3QuJHNuYXBzaG90X2J5dGVzK2U+OTQzNzE4LjR8fHRoaXMuSC5zZXNzaW9uSWQhPT10aGlzLkZ0KSYmKHRoaXMuSD10aGlzLnVpKCkpLHRoaXMuSC5zaXplKz10LiRzbmFwc2hvdF9ieXRlcyx0aGlzLkguZGF0YS5wdXNoKHQuJHNuYXBzaG90X2RhdGEpLHRoaXMuQml8fHRoaXMuaWl8fCh0aGlzLkJpPXNldFRpbWVvdXQoKCgpPT57dGhpcy51aSgpfSksMmUzKSl9SGkodCl7dGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRzbmFwc2hvdFwiLHQse191cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuY2kpLF9ub1RydW5jYXRlOiEwLF9iYXRjaEtleTpcInJlY29yZGluZ3NcIixza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSl9emkodCl7dmFyIGk7dGhpcy5OdC50cmlnZ2VyU3RhdHVzKHRoaXMuc2Vzc2lvbklkKT09PWFzJiYobnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7W1widXJsXCI9PT10P2RpOnZpXTp0aGlzLkZ0fSksdGhpcy51aSgpLHRoaXMueGkodCtcIl90cmlnZ2VyX21hdGNoZWRcIikpfU5pKCl7dGhpcy5YdC51cmxCbG9ja2VkfHwodGhpcy5YdC51cmxCbG9ja2VkPSEwLGNsZWFySW50ZXJ2YWwodGhpcy5TaSksd3MuaW5mbyhcInJlY29yZGluZyBwYXVzZWQgZHVlIHRvIFVSTCBibG9ja2VyXCIpLHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQoXCJyZWNvcmRpbmcgcGF1c2VkXCIse3JlYXNvbjpcInVybCBibG9ja2VyXCJ9KSl9VWkoKXt0aGlzLlh0LnVybEJsb2NrZWQmJih0aGlzLlh0LnVybEJsb2NrZWQ9ITEsdGhpcy5PaSgpLHRoaXMuQ2koKSx0aGlzLnRyeUFkZEN1c3RvbUV2ZW50KFwicmVjb3JkaW5nIHJlc3VtZWRcIix7cmVhc29uOlwibGVmdCBibG9ja2VkIHVybFwifSksd3MuaW5mbyhcInJlY29yZGluZyByZXN1bWVkXCIpKX1iaSgpezAhPT10aGlzLlF0Lk10Lmxlbmd0aCYmQSh0aGlzLmFpKSYmKHRoaXMuYWk9dGhpcy5faW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKHQ9Pnt0cnl7dGhpcy5RdC5NdC5pbmNsdWRlcyh0LmV2ZW50KSYmdGhpcy56aShcImV2ZW50XCIpfWNhdGNoKHQpe3dzLmVycm9yKFwiQ291bGQgbm90IGFjdGl2YXRlIGV2ZW50IHRyaWdnZXJcIix0KX19KSkpfW92ZXJyaWRlTGlua2VkRmxhZygpe3RoaXMuWnQubGlua2VkRmxhZ1NlZW49ITAsdGhpcy5PaSgpLHRoaXMueGkoXCJsaW5rZWRfZmxhZ19vdmVycmlkZGVuXCIpfW92ZXJyaWRlU2FtcGxpbmcoKXt2YXIgdDtudWxsPT0odD10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHQucmVnaXN0ZXIoe1toaV06ITB9KSx0aGlzLk9pKCksdGhpcy54aShcInNhbXBsaW5nX292ZXJyaWRkZW5cIil9b3ZlcnJpZGVUcmlnZ2VyKHQpe3RoaXMuemkodCl9eGkodCxpKXt0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNlc3Npb25fcmVjb3JkaW5nX3N0YXJ0X3JlYXNvbjp0fSksd3MuaW5mbyh0LnJlcGxhY2UoXCJfXCIsXCIgXCIpLGkpLHkoW1wicmVjb3JkaW5nX2luaXRpYWxpemVkXCIsXCJzZXNzaW9uX2lkX2NoYW5nZWRcIl0sdCl8fHRoaXMudHJ5QWRkQ3VzdG9tRXZlbnQodCxpKX1nZXQgc2RrRGVidWdQcm9wZXJ0aWVzKCl7dmFye3Nlc3Npb25TdGFydFRpbWVzdGFtcDp0fT10aGlzLmp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtyZXR1cm57JHJlY29yZGluZ19zdGF0dXM6dGhpcy5zdGF0dXMsJHNka19kZWJ1Z19yZXBsYXlfaW50ZXJuYWxfYnVmZmVyX2xlbmd0aDp0aGlzLkguZGF0YS5sZW5ndGgsJHNka19kZWJ1Z19yZXBsYXlfaW50ZXJuYWxfYnVmZmVyX3NpemU6dGhpcy5ILnNpemUsJHNka19kZWJ1Z19jdXJyZW50X3Nlc3Npb25fZHVyYXRpb246dGhpcy56dCwkc2RrX2RlYnVnX3Nlc3Npb25fc3RhcnQ6dH19fXZhciBJcz1FdChcIltTZWdtZW50SW50ZWdyYXRpb25dXCIpO2Z1bmN0aW9uIFRzKHQsaSl7dmFyIGU9dC5jb25maWcuc2VnbWVudDtpZighZSlyZXR1cm4gaSgpOyFmdW5jdGlvbih0LGkpe3ZhciBlPXQuY29uZmlnLnNlZ21lbnQ7aWYoIWUpcmV0dXJuIGkoKTt2YXIgcj1lPT57dmFyIHI9KCk9PmUuYW5vbnltb3VzSWQoKXx8Q2UoKTt0LmNvbmZpZy5nZXRfZGV2aWNlX2lkPXIsZS5pZCgpJiYodC5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6ZS5pZCgpLCRkZXZpY2VfaWQ6cigpfSksdC5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkod2ksXCJpZGVudGlmaWVkXCIpKSxpKCl9LHM9ZS51c2VyKCk7XCJ0aGVuXCJpbiBzJiZSKHMudGhlbik/cy50aGVuKCh0PT5yKHQpKSk6cihzKX0odCwoKCk9PntlLnJlZ2lzdGVyKCh0PT57UHJvbWlzZSYmUHJvbWlzZS5yZXNvbHZlfHxJcy53YXJuKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgUHJvbWlzZSBzdXBwb3J0LCBhbmQgY2FuIG5vdCB1c2UgdGhlIHNlZ21lbnQgaW50ZWdyYXRpb25cIik7dmFyIGk9KGksZSk9PntpZighZSlyZXR1cm4gaTtpLmV2ZW50LnVzZXJJZHx8aS5ldmVudC5hbm9ueW1vdXNJZD09PXQuZ2V0X2Rpc3RpbmN0X2lkKCl8fChJcy5pbmZvKFwiTm8gdXNlcklkIHNldCwgcmVzZXR0aW5nIFBvc3RIb2dcIiksdC5yZXNldCgpKSxpLmV2ZW50LnVzZXJJZCYmaS5ldmVudC51c2VySWQhPT10LmdldF9kaXN0aW5jdF9pZCgpJiYoSXMuaW5mbyhcIlVzZXJJZCBzZXQsIGlkZW50aWZ5aW5nIHdpdGggUG9zdEhvZ1wiKSx0LmlkZW50aWZ5KGkuZXZlbnQudXNlcklkKSk7dmFyIHI9dC5jYWxjdWxhdGVFdmVudFByb3BlcnRpZXMoZSxpLmV2ZW50LnByb3BlcnRpZXMpO3JldHVybiBpLmV2ZW50LnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbih7fSxyLGkuZXZlbnQucHJvcGVydGllcyksaX07cmV0dXJue25hbWU6XCJQb3N0SG9nIEpTXCIsdHlwZTpcImVucmljaG1lbnRcIix2ZXJzaW9uOlwiMS4wLjBcIixpc0xvYWRlZDooKT0+ITAsbG9hZDooKT0+UHJvbWlzZS5yZXNvbHZlKCksdHJhY2s6dD0+aSh0LHQuZXZlbnQuZXZlbnQpLHBhZ2U6dD0+aSh0LFwiJHBhZ2V2aWV3XCIpLGlkZW50aWZ5OnQ9PmkodCxcIiRpZGVudGlmeVwiKSxzY3JlZW46dD0+aSh0LFwiJHNjcmVlblwiKX19KSh0KSkudGhlbigoKCk9PntpKCl9KSl9KSl9dmFyIENzPVwicG9zdGhvZy1qc1wiO2Z1bmN0aW9uIE1zKHQsaSl7dmFye29yZ2FuaXphdGlvbjplLHByb2plY3RJZDpyLHByZWZpeDpzLHNldmVyaXR5QWxsb3dMaXN0Om49W1wiZXJyb3JcIl0sc2VuZEV4Y2VwdGlvbnNUb1Bvc3RIb2c6bz0hMH09dm9pZCAwPT09aT97fTppO3JldHVybiBpPT57dmFyIGEsbCx1LGgsZDtpZighKFwiKlwiPT09bnx8bi5pbmNsdWRlcyhpLmxldmVsKSl8fCF0Ll9fbG9hZGVkKXJldHVybiBpO2kudGFnc3x8KGkudGFncz17fSk7dmFyIHY9dC5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIixcIi9wcm9qZWN0L1wiK3QuY29uZmlnLnRva2VuK1wiL3BlcnNvbi9cIit0LmdldF9kaXN0aW5jdF9pZCgpKTtpLnRhZ3NbXCJQb3N0SG9nIFBlcnNvbiBVUkxcIl09dix0LnNlc3Npb25SZWNvcmRpbmdTdGFydGVkKCkmJihpLnRhZ3NbXCJQb3N0SG9nIFJlY29yZGluZyBVUkxcIl09dC5nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKHt3aXRoVGltZXN0YW1wOiEwfSkpO3ZhciBjPShudWxsPT0oYT1pLmV4Y2VwdGlvbik/dm9pZCAwOmEudmFsdWVzKXx8W10sZj1jLm1hcCgodD0+Zyh7fSx0LHtzdGFja3RyYWNlOnQuc3RhY2t0cmFjZT9nKHt9LHQuc3RhY2t0cmFjZSx7dHlwZTpcInJhd1wiLGZyYW1lczoodC5zdGFja3RyYWNlLmZyYW1lc3x8W10pLm1hcCgodD0+Zyh7fSx0LHtwbGF0Zm9ybTpcIndlYjpqYXZhc2NyaXB0XCJ9KSkpfSk6dm9pZCAwfSkpKSxwPXskZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PShsPWNbMF0pP3ZvaWQgMDpsLnZhbHVlKXx8aS5tZXNzYWdlLCRleGNlcHRpb25fdHlwZTpudWxsPT0odT1jWzBdKT92b2lkIDA6dS50eXBlLCRleGNlcHRpb25fcGVyc29uVVJMOnYsJGV4Y2VwdGlvbl9sZXZlbDppLmxldmVsLCRleGNlcHRpb25fbGlzdDpmLCRzZW50cnlfZXZlbnRfaWQ6aS5ldmVudF9pZCwkc2VudHJ5X2V4Y2VwdGlvbjppLmV4Y2VwdGlvbiwkc2VudHJ5X2V4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT0oaD1jWzBdKT92b2lkIDA6aC52YWx1ZSl8fGkubWVzc2FnZSwkc2VudHJ5X2V4Y2VwdGlvbl90eXBlOm51bGw9PShkPWNbMF0pP3ZvaWQgMDpkLnR5cGUsJHNlbnRyeV90YWdzOmkudGFnc307cmV0dXJuIGUmJnImJihwLiRzZW50cnlfdXJsPShzfHxcImh0dHBzOi8vc2VudHJ5LmlvL29yZ2FuaXphdGlvbnMvXCIpK2UrXCIvaXNzdWVzLz9wcm9qZWN0PVwiK3IrXCImcXVlcnk9XCIraS5ldmVudF9pZCksbyYmdC5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChwKSxpfX1jbGFzcyBPc3tjb25zdHJ1Y3Rvcih0LGksZSxyLHMsbil7dGhpcy5uYW1lPUNzLHRoaXMuc2V0dXBPbmNlPWZ1bmN0aW9uKG8pe28oTXModCx7b3JnYW5pemF0aW9uOmkscHJvamVjdElkOmUscHJlZml4OnIsc2V2ZXJpdHlBbGxvd0xpc3Q6cyxzZW5kRXhjZXB0aW9uc1RvUG9zdEhvZzpudWxsPT1ufHxufSkpfX19dmFyIEZzPW51bGwhPXQmJnQubG9jYXRpb24/bWUodC5sb2NhdGlvbi5oYXNoLFwiX19wb3N0aG9nXCIpfHxtZShsb2NhdGlvbi5oYXNoLFwic3RhdGVcIik6bnVsbCxBcz1cIl9wb3N0SG9nVG9vbGJhclBhcmFtc1wiLERzPUV0KFwiW1Rvb2xiYXJdXCIpLGpzPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuVU5JTklUSUFMSVpFRD0wXT1cIlVOSU5JVElBTElaRURcIix0W3QuTE9BRElORz0xXT1cIkxPQURJTkdcIix0W3QuTE9BREVEPTJdPVwiTE9BREVEXCIsdH0oanN8fHt9KTtjbGFzcyBMc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmluc3RhbmNlPXR9V2kodCl7di5waF90b29sYmFyX3N0YXRlPXR9R2koKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PXYucGhfdG9vbGJhcl9zdGF0ZSkmJnZvaWQgMCE9PXQ/dDpqcy5VTklOSVRJQUxJWkVEfW1heWJlTG9hZFRvb2xiYXIoaSxlLHIpe2lmKHZvaWQgMD09PWkmJihpPXZvaWQgMCksdm9pZCAwPT09ZSYmKGU9dm9pZCAwKSx2b2lkIDA9PT1yJiYocj12b2lkIDApLCF0fHwhbylyZXR1cm4hMTtpPW51bGwhPWk/aTp0LmxvY2F0aW9uLHI9bnVsbCE9cj9yOnQuaGlzdG9yeTt0cnl7aWYoIWUpe3RyeXt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVzdFwiLFwidGVzdFwiKSx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidGVzdFwiKX1jYXRjaCh0KXtyZXR1cm4hMX1lPW51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlfXZhciBzLG49RnN8fG1lKGkuaGFzaCxcIl9fcG9zdGhvZ1wiKXx8bWUoaS5oYXNoLFwic3RhdGVcIiksYT1uP0F0KCgoKT0+SlNPTi5wYXJzZShhdG9iKGRlY29kZVVSSUNvbXBvbmVudChuKSkpKSl8fEF0KCgoKT0+SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobikpKSk6bnVsbDtyZXR1cm4gYSYmXCJwaF9hdXRob3JpemVcIj09PWEuYWN0aW9uPygocz1hKS5zb3VyY2U9XCJ1cmxcIixzJiZPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmKGEuZGVzaXJlZEhhc2g/aS5oYXNoPWEuZGVzaXJlZEhhc2g6cj9yLnJlcGxhY2VTdGF0ZShyLnN0YXRlLFwiXCIsaS5wYXRobmFtZStpLnNlYXJjaCk6aS5oYXNoPVwiXCIpKTooKHM9SlNPTi5wYXJzZShlLmdldEl0ZW0oQXMpfHxcInt9XCIpKS5zb3VyY2U9XCJsb2NhbHN0b3JhZ2VcIixkZWxldGUgcy51c2VySW50ZW50KSwhKCFzLnRva2VufHx0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbiE9PXMudG9rZW4pJiYodGhpcy5sb2FkVG9vbGJhcihzKSwhMCl9Y2F0Y2godCl7cmV0dXJuITF9fVZpKHQpe3ZhciBpPXYucGhfbG9hZF90b29sYmFyfHx2LnBoX2xvYWRfZWRpdG9yOyFBKGkpJiZSKGkpP2kodCx0aGlzLmluc3RhbmNlKTpEcy53YXJuKFwiTm8gdG9vbGJhciBsb2FkIGZ1bmN0aW9uIGZvdW5kXCIpfWxvYWRUb29sYmFyKGkpe3ZhciBlPSEobnVsbD09b3x8IW8uZ2V0RWxlbWVudEJ5SWQoUmkpKTtpZighdHx8ZSlyZXR1cm4hMTt2YXIgcj1cImN1c3RvbVwiPT09dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLnJlZ2lvbiYmdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3Mscz1nKHt0b2tlbjp0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbn0saSx7YXBpVVJMOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIpfSxyP3tpbnN0cnVtZW50OiExfTp7fSk7aWYodC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBcyxKU09OLnN0cmluZ2lmeShnKHt9LHMse3NvdXJjZTp2b2lkIDB9KSkpLHRoaXMuR2koKT09PWpzLkxPQURFRCl0aGlzLlZpKHMpO2Vsc2UgaWYodGhpcy5HaSgpPT09anMuVU5JTklUSUFMSVpFRCl7dmFyIG47dGhpcy5XaShqcy5MT0FESU5HKSxudWxsPT0obj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PW4ubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8bi5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuaW5zdGFuY2UsXCJ0b29sYmFyXCIsKHQ9PntpZih0KXJldHVybiBEcy5lcnJvcihcIltUb29sYmFyXSBGYWlsZWQgdG8gbG9hZFwiLHQpLHZvaWQgdGhpcy5XaShqcy5VTklOSVRJQUxJWkVEKTt0aGlzLldpKGpzLkxPQURFRCksdGhpcy5WaShzKX0pKSxxdCh0LFwidHVyYm9saW5rczpsb2FkXCIsKCgpPT57dGhpcy5XaShqcy5VTklOSVRJQUxJWkVEKSx0aGlzLmxvYWRUb29sYmFyKHMpfSkpfXJldHVybiEwfUppKHQpe3JldHVybiB0aGlzLmxvYWRUb29sYmFyKHQpfW1heWJlTG9hZEVkaXRvcih0LGksZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXZvaWQgMCksdm9pZCAwPT09aSYmKGk9dm9pZCAwKSx2b2lkIDA9PT1lJiYoZT12b2lkIDApLHRoaXMubWF5YmVMb2FkVG9vbGJhcih0LGksZSl9fXZhciBOcz1FdChcIltUcmFjaW5nSGVhZGVyc11cIik7Y2xhc3MgVXN7Y29uc3RydWN0b3IodCl7dGhpcy5LaT12b2lkIDAsdGhpcy5ZaT12b2lkIDAsdGhpcy5sdD0oKT0+e3ZhciB0LGk7Qyh0aGlzLktpKSYmKG51bGw9PSh0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09KHQ9dC50cmFjaW5nSGVhZGVyc1BhdGNoRm5zKXx8dC5fcGF0Y2hYSFIodGhpcy5faW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVyc3x8W10sdGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKTtDKHRoaXMuWWkpJiYobnVsbD09KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0oaT1pLnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHxpLl9wYXRjaEZldGNoKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnN8fFtdLHRoaXMuX2luc3RhbmNlLmdldF9kaXN0aW5jdF9pZCgpLHRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKSl9LHRoaXMuX2luc3RhbmNlPXR9bnQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJ0cmFjaW5nLWhlYWRlcnNcIiwoaT0+e2lmKGkpcmV0dXJuIE5zLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk7dCgpfSkpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKCl7dmFyIHQsaTt0aGlzLl9pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzP3RoaXMubnQodGhpcy5sdCk6KG51bGw9PSh0PXRoaXMuS2kpfHx0LmNhbGwodGhpcyksbnVsbD09KGk9dGhpcy5ZaSl8fGkuY2FsbCh0aGlzKSx0aGlzLktpPXZvaWQgMCx0aGlzLllpPXZvaWQgMCl9fXZhciB6cz1FdChcIltXZWIgVml0YWxzXVwiKSxxcz05ZTU7Y2xhc3MgQnN7Y29uc3RydWN0b3IodCl7dmFyIGk7dGhpcy5YaT0hMSx0aGlzLkM9ITEsdGhpcy5IPXt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSx0aGlzLlFpPSgpPT57Y2xlYXJUaW1lb3V0KHRoaXMuWmkpLDAhPT10aGlzLkgubWV0cmljcy5sZW5ndGgmJih0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJHdlYl92aXRhbHNcIix0aGlzLkgubWV0cmljcy5yZWR1Y2UoKCh0LGkpPT5nKHt9LHQse1tcIiR3ZWJfdml0YWxzX1wiK2kubmFtZStcIl9ldmVudFwiXTpnKHt9LGkpLFtcIiR3ZWJfdml0YWxzX1wiK2kubmFtZStcIl92YWx1ZVwiXTppLnZhbHVlfSkpLHt9KSksdGhpcy5IPXt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSl9LHRoaXMudGU9dD0+e3ZhciBpLGU9bnVsbD09KGk9dGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDppLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtpZihDKGUpKXpzLmVycm9yKFwiQ291bGQgbm90IHJlYWQgc2Vzc2lvbiBJRC4gRHJvcHBpbmcgbWV0cmljcyFcIik7ZWxzZXt0aGlzLkg9dGhpcy5IfHx7dXJsOnZvaWQgMCxtZXRyaWNzOltdLGZpcnN0TWV0cmljVGltZXN0YW1wOnZvaWQgMH07dmFyIHI9dGhpcy5pZSgpO2lmKCFDKHIpKWlmKEEobnVsbD09dD92b2lkIDA6dC5uYW1lKXx8QShudWxsPT10P3ZvaWQgMDp0LnZhbHVlKSl6cy5lcnJvcihcIkludmFsaWQgbWV0cmljIHJlY2VpdmVkXCIsdCk7ZWxzZSBpZih0aGlzLmVlJiZ0LnZhbHVlPj10aGlzLmVlKXpzLmVycm9yKFwiSWdub3JpbmcgbWV0cmljIHdpdGggdmFsdWUgPj0gXCIrdGhpcy5lZSx0KTtlbHNlIHRoaXMuSC51cmwhPT1yJiYodGhpcy5RaSgpLHRoaXMuWmk9c2V0VGltZW91dCh0aGlzLlFpLHRoaXMuZmx1c2hUb0NhcHR1cmVUaW1lb3V0TXMpKSxDKHRoaXMuSC51cmwpJiYodGhpcy5ILnVybD1yKSx0aGlzLkguZmlyc3RNZXRyaWNUaW1lc3RhbXA9Qyh0aGlzLkguZmlyc3RNZXRyaWNUaW1lc3RhbXApP0RhdGUubm93KCk6dGhpcy5ILmZpcnN0TWV0cmljVGltZXN0YW1wLHQuYXR0cmlidXRpb24mJnQuYXR0cmlidXRpb24uaW50ZXJhY3Rpb25UYXJnZXRFbGVtZW50JiYodC5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQ9dm9pZCAwKSx0aGlzLkgubWV0cmljcy5wdXNoKGcoe30sdCx7JGN1cnJlbnRfdXJsOnIsJHNlc3Npb25faWQ6ZS5zZXNzaW9uSWQsJHdpbmRvd19pZDplLndpbmRvd0lkLHRpbWVzdGFtcDpEYXRlLm5vdygpfSkpLHRoaXMuSC5tZXRyaWNzLmxlbmd0aD09PXRoaXMuYWxsb3dlZE1ldHJpY3MubGVuZ3RoJiZ0aGlzLlFpKCl9fSx0aGlzLmx0PSgpPT57dmFyIHQsaSxlLHIscz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXztDKHMpfHxDKHMucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyl8fCh7b25MQ1A6dCxvbkNMUzppLG9uRkNQOmUsb25JTlA6cn09cy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKSx0JiZpJiZlJiZyPyh0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJMQ1BcIik+LTEmJnQodGhpcy50ZS5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJDTFNcIik+LTEmJmkodGhpcy50ZS5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJGQ1BcIik+LTEmJmUodGhpcy50ZS5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJJTlBcIik+LTEmJnIodGhpcy50ZS5iaW5kKHRoaXMpKSx0aGlzLkM9ITApOnpzLmVycm9yKFwid2ViIHZpdGFscyBjYWxsYmFja3Mgbm90IGxvYWRlZCAtIG5vdCBzdGFydGluZ1wiKX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLlhpPSEobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhaS5wcm9wc1tYdF0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXQgYWxsb3dlZE1ldHJpY3MoKXt2YXIgdCxpLGU9SSh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3ZvaWQgMDp0LndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDtyZXR1cm4gQyhlKT8obnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDppLnByb3BzW1p0XSl8fFtcIkNMU1wiLFwiRkNQXCIsXCJJTlBcIixcIkxDUFwiXTplfWdldCBmbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcygpe3JldHVybihJKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzX2RlbGF5ZWRfZmx1c2hfbXM6dm9pZCAwKXx8NWUzfWdldCBlZSgpe3ZhciB0PUkodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpJiZEKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWUpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWU6cXM7cmV0dXJuIDA8dCYmdDw9NmU0P3FzOnR9Z2V0IGlzRW5hYmxlZCgpe3ZhciB0PW51bGw9PWE/dm9pZCAwOmEucHJvdG9jb2w7aWYoXCJodHRwOlwiIT09dCYmXCJodHRwczpcIiE9PXQpcmV0dXJuIHpzLmluZm8oXCJXZWIgVml0YWxzIGFyZSBkaXNhYmxlZCBvbiBub24taHR0cC9odHRwcyBwcm90b2NvbHNcIiksITE7dmFyIGk9SSh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2Uud2ViX3ZpdGFsczpqKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZTp2b2lkIDA7cmV0dXJuIGooaSk/aTp0aGlzLlhpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLkMmJih6cy5pbmZvKFwiZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5udCh0aGlzLmx0KSl9b25SZW1vdGVDb25maWcodCl7dmFyIGk9SSh0LmNhcHR1cmVQZXJmb3JtYW5jZSkmJiEhdC5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFscyxlPUkodC5jYXB0dXJlUGVyZm9ybWFuY2UpP3QuY2FwdHVyZVBlcmZvcm1hbmNlLndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDt0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmKHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbWHRdOml9KSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1p0XTplfSkpLHRoaXMuWGk9aSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9bnQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJ3ZWItdml0YWxzXCIsKGk9PntpP3pzLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk6dCgpfSkpfWllKCl7dmFyIGk9dD90LmxvY2F0aW9uLmhyZWY6dm9pZCAwO3JldHVybiBpfHx6cy5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIiksaX19dmFyIEhzPUV0KFwiW0hlYXRtYXBzXVwiKTtmdW5jdGlvbiBXcyh0KXtyZXR1cm4gSSh0KSYmXCJjbGllbnRYXCJpbiB0JiZcImNsaWVudFlcImluIHQmJkQodC5jbGllbnRYKSYmRCh0LmNsaWVudFkpfWNsYXNzIEdze2NvbnN0cnVjdG9yKHQpe3ZhciBpO3RoaXMucmFnZWNsaWNrcz1uZXcgdWUsdGhpcy5YaT0hMSx0aGlzLkM9ITEsdGhpcy5yZT1udWxsLHRoaXMuaW5zdGFuY2U9dCx0aGlzLlhpPSEobnVsbD09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFpLnByb3BzW1Z0XSl9Z2V0IGZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMoKXt2YXIgdD01ZTM7cmV0dXJuIEkodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcykmJnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzJiYodD10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyksdH1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIEModGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcyk/Qyh0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHMpP3RoaXMuWGk6dGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzOiExIT09dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwc31zdGFydElmRW5hYmxlZCgpe2lmKHRoaXMuaXNFbmFibGVkKXtpZih0aGlzLkMpcmV0dXJuO0hzLmluZm8oXCJzdGFydGluZy4uLlwiKSx0aGlzLnNlKCksdGhpcy5yZT1zZXRJbnRlcnZhbCh0aGlzLm5lLmJpbmQodGhpcyksdGhpcy5mbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKX1lbHNle3ZhciB0LGk7Y2xlYXJJbnRlcnZhbChudWxsIT09KHQ9dGhpcy5yZSkmJnZvaWQgMCE9PXQ/dDp2b2lkIDApLG51bGw9PShpPXRoaXMub2UpfHxpLnN0b3AoKSx0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9fW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpPSEhdC5oZWF0bWFwczt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbVnRdOml9KSx0aGlzLlhpPWksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldEFuZENsZWFyQnVmZmVyKCl7dmFyIHQ9dGhpcy5IO3JldHVybiB0aGlzLkg9dm9pZCAwLHR9YWUodCl7dGhpcy5sZSh0Lm9yaWdpbmFsRXZlbnQsXCJkZWFkY2xpY2tcIil9c2UoKXt0JiZvJiYocXQodCxcImJlZm9yZXVubG9hZFwiLHRoaXMubmUuYmluZCh0aGlzKSkscXQobyxcImNsaWNrXCIsKGk9PnRoaXMubGUoaXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSxxdChvLFwibW91c2Vtb3ZlXCIsKGk9PnRoaXMudWUoaXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSx0aGlzLm9lPW5ldyBZZSh0aGlzLmluc3RhbmNlLEplLHRoaXMuYWUuYmluZCh0aGlzKSksdGhpcy5vZS5zdGFydElmRW5hYmxlZCgpLHRoaXMuQz0hMCl9aGUoaSxlKXt2YXIgcj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWSgpLHM9dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFgoKSxuPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxFbGVtZW50KCksbz1mdW5jdGlvbihpLGUscil7Zm9yKHZhciBzPWk7cyYmTWkocykmJiFPaShzLFwiYm9keVwiKTspe2lmKHM9PT1yKXJldHVybiExO2lmKHkoZSxudWxsPT10P3ZvaWQgMDp0LmdldENvbXB1dGVkU3R5bGUocykucG9zaXRpb24pKXJldHVybiEwO3M9SGkocyl9cmV0dXJuITF9KHppKGkpLFtcImZpeGVkXCIsXCJzdGlja3lcIl0sbik7cmV0dXJue3g6aS5jbGllbnRYKyhvPzA6cykseTppLmNsaWVudFkrKG8/MDpyKSx0YXJnZXRfZml4ZWQ6byx0eXBlOmV9fWxlKHQsaSl7dmFyIGU7aWYodm9pZCAwPT09aSYmKGk9XCJjbGlja1wiKSwhQ2kodC50YXJnZXQpJiZXcyh0KSl7dmFyIHI9dGhpcy5oZSh0LGkpO251bGwhPShlPXRoaXMucmFnZWNsaWNrcykmJmUuaXNSYWdlQ2xpY2sodC5jbGllbnRYLHQuY2xpZW50WSwobmV3IERhdGUpLmdldFRpbWUoKSkmJnRoaXMuZGUoZyh7fSxyLHt0eXBlOlwicmFnZWNsaWNrXCJ9KSksdGhpcy5kZShyKX19dWUodCl7IUNpKHQudGFyZ2V0KSYmV3ModCkmJihjbGVhclRpbWVvdXQodGhpcy52ZSksdGhpcy52ZT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuZGUodGhpcy5oZSh0LFwibW91c2Vtb3ZlXCIpKX0pLDUwMCkpfWRlKGkpe2lmKHQpe3ZhciBlPXQubG9jYXRpb24uaHJlZjt0aGlzLkg9dGhpcy5IfHx7fSx0aGlzLkhbZV18fCh0aGlzLkhbZV09W10pLHRoaXMuSFtlXS5wdXNoKGkpfX1uZSgpe3RoaXMuSCYmIVQodGhpcy5IKSYmdGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJCRoZWF0bWFwXCIseyRoZWF0bWFwX2RhdGE6dGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfSl9fWNsYXNzIFZze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9ZG9QYWdlVmlldyhpLGUpe3ZhciByLHM9dGhpcy5jZShpLGUpO3JldHVybiB0aGlzLmZlPXtwYXRobmFtZTpudWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5wYXRobmFtZSkmJnZvaWQgMCE9PXI/cjpcIlwiLHBhZ2VWaWV3SWQ6ZSx0aW1lc3RhbXA6aX0sdGhpcy5faW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5yZXNldENvbnRleHQoKSxzfWRvUGFnZUxlYXZlKHQpe3ZhciBpO3JldHVybiB0aGlzLmNlKHQsbnVsbD09KGk9dGhpcy5mZSk/dm9pZCAwOmkucGFnZVZpZXdJZCl9ZG9FdmVudCgpe3ZhciB0O3JldHVybnskcGFnZXZpZXdfaWQ6bnVsbD09KHQ9dGhpcy5mZSk/dm9pZCAwOnQucGFnZVZpZXdJZH19Y2UodCxpKXt2YXIgZT10aGlzLmZlO2lmKCFlKXJldHVybnskcGFnZXZpZXdfaWQ6aX07dmFyIHI9eyRwYWdldmlld19pZDppLCRwcmV2X3BhZ2V2aWV3X2lkOmUucGFnZVZpZXdJZH0scz10aGlzLl9pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLmdldENvbnRleHQoKTtpZihzJiYhdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Nyb2xsX3Byb3BlcnRpZXMpe3ZhcnttYXhTY3JvbGxIZWlnaHQ6bixsYXN0U2Nyb2xsWTpvLG1heFNjcm9sbFk6YSxtYXhDb250ZW50SGVpZ2h0OmwsbGFzdENvbnRlbnRZOnUsbWF4Q29udGVudFk6aH09cztpZighKEMobil8fEMobyl8fEMoYSl8fEMobCl8fEModSl8fEMoaCkpKXtuPU1hdGguY2VpbChuKSxvPU1hdGguY2VpbChvKSxhPU1hdGguY2VpbChhKSxsPU1hdGguY2VpbChsKSx1PU1hdGguY2VpbCh1KSxoPU1hdGguY2VpbChoKTt2YXIgZD1uPD0xPzE6RyhvL24sMCwxLHh0KSx2PW48PTE/MTpHKGEvbiwwLDEseHQpLGM9bDw9MT8xOkcodS9sLDAsMSx4dCksZj1sPD0xPzE6RyhoL2wsMCwxLHh0KTtyPU10KHIseyRwcmV2X3BhZ2V2aWV3X2xhc3Rfc2Nyb2xsOm8sJHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGxfcGVyY2VudGFnZTpkLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGw6YSwkcHJldl9wYWdldmlld19tYXhfc2Nyb2xsX3BlcmNlbnRhZ2U6diwkcHJldl9wYWdldmlld19sYXN0X2NvbnRlbnQ6dSwkcHJldl9wYWdldmlld19sYXN0X2NvbnRlbnRfcGVyY2VudGFnZTpjLCRwcmV2X3BhZ2V2aWV3X21heF9jb250ZW50OmgsJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnRfcGVyY2VudGFnZTpmfSl9fXJldHVybiBlLnBhdGhuYW1lJiYoci4kcHJldl9wYWdldmlld19wYXRobmFtZT1lLnBhdGhuYW1lKSxlLnRpbWVzdGFtcCYmKHIuJHByZXZfcGFnZXZpZXdfZHVyYXRpb249KHQuZ2V0VGltZSgpLWUudGltZXN0YW1wLmdldFRpbWUoKSkvMWUzKSxyfX12YXIgSnM9ZnVuY3Rpb24odCl7dmFyIGksZSxyLHMsbj1cIlwiO2ZvcihpPWU9MCxyPSh0PSh0K1wiXCIpLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpKS5sZW5ndGgscz0wO3M8cjtzKyspe3ZhciBvPXQuY2hhckNvZGVBdChzKSxhPW51bGw7bzwxMjg/ZSsrOmE9bz4xMjcmJm88MjA0OD9TdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjZ8MTkyLDYzJm98MTI4KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjEyfDIyNCxvPj42JjYzfDEyOCw2MyZvfDEyOCksRihhKXx8KGU+aSYmKG4rPXQuc3Vic3RyaW5nKGksZSkpLG4rPWEsaT1lPXMrMSl9cmV0dXJuIGU+aSYmKG4rPXQuc3Vic3RyaW5nKGksdC5sZW5ndGgpKSxufSxLcz0hIXV8fCEhbCxZcz1cInRleHQvcGxhaW5cIixYcz0odCxpKT0+e3ZhcltlLHJdPXQuc3BsaXQoXCI/XCIpLHM9Zyh7fSxpKTtudWxsPT1yfHxyLnNwbGl0KFwiJlwiKS5mb3JFYWNoKCh0PT57dmFyW2ldPXQuc3BsaXQoXCI9XCIpO2RlbGV0ZSBzW2ldfSkpO3ZhciBuPXBlKHMpO3JldHVybiBlK1wiP1wiKyhuPW4/KHI/citcIiZcIjpcIlwiKStuOnIpfSxRcz0odCxpKT0+SlNPTi5zdHJpbmdpZnkodCwoKHQsaSk9PlwiYmlnaW50XCI9PXR5cGVvZiBpP2kudG9TdHJpbmcoKTppKSxpKSxacz10PT57dmFye2RhdGE6aSxjb21wcmVzc2lvbjplfT10O2lmKGkpe2lmKGU9PT1kZS5HWmlwSlMpe3ZhciByPVhyKFFyKFFzKGkpKSx7bXRpbWU6MH0pLHM9bmV3IEJsb2IoW3JdLHt0eXBlOllzfSk7cmV0dXJue2NvbnRlbnRUeXBlOllzLGJvZHk6cyxlc3RpbWF0ZWRTaXplOnMuc2l6ZX19aWYoZT09PWRlLkJhc2U2NCl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGksZSxyLHMsbixvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixhPTAsbD0wLHU9XCJcIixoPVtdO2lmKCF0KXJldHVybiB0O3Q9SnModCk7ZG97aT0obj10LmNoYXJDb2RlQXQoYSsrKTw8MTZ8dC5jaGFyQ29kZUF0KGErKyk8PDh8dC5jaGFyQ29kZUF0KGErKykpPj4xOCY2MyxlPW4+PjEyJjYzLHI9bj4+NiY2MyxzPTYzJm4saFtsKytdPW8uY2hhckF0KGkpK28uY2hhckF0KGUpK28uY2hhckF0KHIpK28uY2hhckF0KHMpfXdoaWxlKGE8dC5sZW5ndGgpO3N3aXRjaCh1PWguam9pbihcIlwiKSx0Lmxlbmd0aCUzKXtjYXNlIDE6dT11LnNsaWNlKDAsLTIpK1wiPT1cIjticmVhaztjYXNlIDI6dT11LnNsaWNlKDAsLTEpK1wiPVwifXJldHVybiB1fShRcyhpKSksbz0odD0+XCJkYXRhPVwiK2VuY29kZVVSSUNvbXBvbmVudChcInN0cmluZ1wiPT10eXBlb2YgdD90OlFzKHQpKSkobik7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsYm9keTpvLGVzdGltYXRlZFNpemU6bmV3IEJsb2IoW29dKS5zaXplfX12YXIgYT1RcyhpKTtyZXR1cm57Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCIsYm9keTphLGVzdGltYXRlZFNpemU6bmV3IEJsb2IoW2FdKS5zaXplfX19LHRuPVtdO2wmJnRuLnB1c2goe3RyYW5zcG9ydDpcImZldGNoXCIsbWV0aG9kOnQ9Pnt2YXIgaSxlLHtjb250ZW50VHlwZTpyLGJvZHk6cyxlc3RpbWF0ZWRTaXplOm59PW51bGwhPT0oaT1acyh0KSkmJnZvaWQgMCE9PWk/aTp7fSxvPW5ldyBIZWFkZXJzO0N0KHQuaGVhZGVycywoZnVuY3Rpb24odCxpKXtvLmFwcGVuZChpLHQpfSkpLHImJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscik7dmFyIGE9dC51cmwsdT1udWxsO2lmKGgpe3ZhciBkPW5ldyBoO3U9e3NpZ25hbDpkLnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT5kLmFib3J0KCkpLHQudGltZW91dCl9fWwoYSxnKHttZXRob2Q6KG51bGw9PXQ/dm9pZCAwOnQubWV0aG9kKXx8XCJHRVRcIixoZWFkZXJzOm8sa2VlcGFsaXZlOlwiUE9TVFwiPT09dC5tZXRob2QmJihufHwwKTw1MjQyOC44LGJvZHk6cyxzaWduYWw6bnVsbD09KGU9dSk/dm9pZCAwOmUuc2lnbmFsfSx0LmZldGNoT3B0aW9ucykpLnRoZW4oKGk9PmkudGV4dCgpLnRoZW4oKGU9Pnt2YXIgcj17c3RhdHVzQ29kZTppLnN0YXR1cyx0ZXh0OmV9O2lmKDIwMD09PWkuc3RhdHVzKXRyeXtyLmpzb249SlNPTi5wYXJzZShlKX1jYXRjaCh0KXt4dC5lcnJvcih0KX1udWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKHIpfSkpKSkuY2F0Y2goKGk9Pnt4dC5lcnJvcihpKSxudWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKHtzdGF0dXNDb2RlOjAsdGV4dDppfSl9KSkuZmluYWxseSgoKCk9PnU/Y2xlYXJUaW1lb3V0KHUudGltZW91dCk6bnVsbCkpfX0pLHUmJnRuLnB1c2goe3RyYW5zcG9ydDpcIlhIUlwiLG1ldGhvZDp0PT57dmFyIGksZT1uZXcgdTtlLm9wZW4odC5tZXRob2R8fFwiR0VUXCIsdC51cmwsITApO3Zhcntjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShpPVpzKHQpKSYmdm9pZCAwIT09aT9pOnt9O0N0KHQuaGVhZGVycywoZnVuY3Rpb24odCxpKXtlLnNldFJlcXVlc3RIZWFkZXIoaSx0KX0pKSxyJiZlLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSx0LnRpbWVvdXQmJihlLnRpbWVvdXQ9dC50aW1lb3V0KSx0LmRpc2FibGVYSFJDcmVkZW50aWFsc3x8KGUud2l0aENyZWRlbnRpYWxzPSEwKSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1lLnJlYWR5U3RhdGUpe3ZhciBpPXtzdGF0dXNDb2RlOmUuc3RhdHVzLHRleHQ6ZS5yZXNwb25zZVRleHR9O2lmKDIwMD09PWUuc3RhdHVzKXRyeXtpLmpzb249SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCl9Y2F0Y2godCl7fW51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soaSl9fSxlLnNlbmQocyl9fSksbnVsbCE9biYmbi5zZW5kQmVhY29uJiZ0bi5wdXNoKHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCIsbWV0aG9kOnQ9Pnt2YXIgaT1Ycyh0LnVybCx7YmVhY29uOlwiMVwifSk7dHJ5e3ZhciBlLHtjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShlPVpzKHQpKSYmdm9pZCAwIT09ZT9lOnt9LG89XCJzdHJpbmdcIj09dHlwZW9mIHM/bmV3IEJsb2IoW3NdLHt0eXBlOnJ9KTpzO24uc2VuZEJlYWNvbihpLG8pfWNhdGNoKHQpe319fSk7dmFyIGVuPWZ1bmN0aW9uKHQsaSl7aWYoIWZ1bmN0aW9uKHQpe3RyeXtuZXcgUmVnRXhwKHQpfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfShpKSlyZXR1cm4hMTt0cnl7cmV0dXJuIG5ldyBSZWdFeHAoaSkudGVzdCh0KX1jYXRjaCh0KXtyZXR1cm4hMX19O2Z1bmN0aW9uIHJuKHQsaSxlKXtyZXR1cm4gUXMoe2Rpc3RpbmN0X2lkOnQsdXNlclByb3BlcnRpZXNUb1NldDppLHVzZXJQcm9wZXJ0aWVzVG9TZXRPbmNlOmV9KX12YXIgc249e2V4YWN0Oih0LGkpPT5pLnNvbWUoKGk9PnQuc29tZSgodD0+aT09PXQpKSkpLGlzX25vdDoodCxpKT0+aS5ldmVyeSgoaT0+dC5ldmVyeSgodD0+aSE9PXQpKSkpLHJlZ2V4Oih0LGkpPT5pLnNvbWUoKGk9PnQuc29tZSgodD0+ZW4oaSx0KSkpKSksbm90X3JlZ2V4Oih0LGkpPT5pLmV2ZXJ5KChpPT50LmV2ZXJ5KCh0PT4hZW4oaSx0KSkpKSksaWNvbnRhaW5zOih0LGkpPT5pLm1hcChubikuc29tZSgoaT0+dC5tYXAobm4pLnNvbWUoKHQ9PmkuaW5jbHVkZXModCkpKSkpLG5vdF9pY29udGFpbnM6KHQsaSk9PmkubWFwKG5uKS5ldmVyeSgoaT0+dC5tYXAobm4pLmV2ZXJ5KCh0PT4haS5pbmNsdWRlcyh0KSkpKSl9LG5uPXQ9PnQudG9Mb3dlckNhc2UoKSxvbj1FdChcIltFcnJvciB0cmFja2luZ11cIik7Y2xhc3MgYW57Y29uc3RydWN0b3IodCl7dmFyIGksZTt0aGlzLnBlPVtdLHRoaXMuZ2U9bmV3IHZ0KFtuZXcgY3QsbmV3IGt0LG5ldyBwdCxuZXcgZnQsbmV3IHd0LG5ldyBidCxuZXcgX3QsbmV3IFN0XSxbbnQsbHRdKSx0aGlzLl9pbnN0YW5jZT10LHRoaXMucGU9bnVsbCE9PShpPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoS3QpKSYmdm9pZCAwIT09aT9pOltdfW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPW51bGwhPT0oaT1udWxsPT0oZT10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDplLnN1cHByZXNzaW9uUnVsZXMpJiZ2b2lkIDAhPT1pP2k6W10sbj1udWxsPT0ocj10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDpyLmNhcHR1cmVFeHRlbnNpb25FeGNlcHRpb25zO3RoaXMucGU9cyx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tLdF06dGhpcy5wZSxbWXRdOm59KX1nZXQgX2UoKXt2YXIgdCxpPSEhdGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFl0KSxlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5jYXB0dXJlRXh0ZW5zaW9uRXhjZXB0aW9ucztyZXR1cm4gbnVsbCE9PSh0PW51bGwhPWU/ZTppKSYmdm9pZCAwIT09dCYmdH1idWlsZFByb3BlcnRpZXModCxpKXtyZXR1cm4gdGhpcy5nZS5idWlsZEZyb21Vbmtub3duKHQse3N5bnRoZXRpY0V4Y2VwdGlvbjpudWxsPT1pP3ZvaWQgMDppLnN5bnRoZXRpY0V4Y2VwdGlvbixtZWNoYW5pc206e2hhbmRsZWQ6bnVsbD09aT92b2lkIDA6aS5oYW5kbGVkfX0pfXNlbmRFeGNlcHRpb25FdmVudCh0KXtpZih0aGlzLm1lKHQpKW9uLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGEgc3VwcHJlc3Npb24gcnVsZSBtYXRjaGVkXCIpO2Vsc2V7aWYodGhpcy5fZXx8IXRoaXMueWUodCkpcmV0dXJuIHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZXhjZXB0aW9uXCIsdCx7X25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwiZXhjZXB0aW9uRXZlbnRcIn0pO29uLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGl0IHdhcyB0aHJvd24gYnkgYW4gZXh0ZW5zaW9uXCIpfX1tZSh0KXt2YXIgaT10LiRleGNlcHRpb25fbGlzdDtpZighaXx8IVAoaSl8fDA9PT1pLmxlbmd0aClyZXR1cm4hMTt2YXIgZT1pLnJlZHVjZSgoKHQsaSk9Pnt2YXJ7dHlwZTplLHZhbHVlOnJ9PWk7cmV0dXJuIE0oZSkmJmUubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl90eXBlcy5wdXNoKGUpLE0ocikmJnIubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl92YWx1ZXMucHVzaChyKSx0fSkseyRleGNlcHRpb25fdHlwZXM6W10sJGV4Y2VwdGlvbl92YWx1ZXM6W119KTtyZXR1cm4gdGhpcy5wZS5zb21lKCh0PT57dmFyIGk9dC52YWx1ZXMubWFwKCh0PT57dmFyIGkscj1zblt0Lm9wZXJhdG9yXSxzPVAodC52YWx1ZSk/dC52YWx1ZTpbdC52YWx1ZV0sbj1udWxsIT09KGk9ZVt0LmtleV0pJiZ2b2lkIDAhPT1pP2k6W107cmV0dXJuIHMubGVuZ3RoPjAmJnIocyxuKX0pKTtyZXR1cm5cIk9SXCI9PT10LnR5cGU/aS5zb21lKEJvb2xlYW4pOmkuZXZlcnkoQm9vbGVhbil9KSl9eWUodCl7dmFyIGk9dC4kZXhjZXB0aW9uX2xpc3Q7cmV0dXJuISghaXx8IVAoaSkpJiZpLmZsYXRNYXAoKHQ9Pnt2YXIgaSxlO3JldHVybiBudWxsIT09KGk9bnVsbD09KGU9dC5zdGFja3RyYWNlKT92b2lkIDA6ZS5mcmFtZXMpJiZ2b2lkIDAhPT1pP2k6W119KSkuc29tZSgodD0+dC5maWxlbmFtZSYmdC5maWxlbmFtZS5zdGFydHNXaXRoKFwiY2hyb21lLWV4dGVuc2lvbjovL1wiKSkpfX12YXIgbG49XCJNb2JpbGVcIix1bj1cImlPU1wiLGhuPVwiQW5kcm9pZFwiLGRuPVwiVGFibGV0XCIsdm49aG4rXCIgXCIrZG4sY249XCJpUGFkXCIsZm49XCJBcHBsZVwiLHBuPWZuK1wiIFdhdGNoXCIsZ249XCJTYWZhcmlcIixfbj1cIkJsYWNrQmVycnlcIixtbj1cIlNhbXN1bmdcIix5bj1tbitcIkJyb3dzZXJcIixibj1tbitcIiBJbnRlcm5ldFwiLHduPVwiQ2hyb21lXCIsU249d24rXCIgT1NcIixrbj13bitcIiBcIit1biwkbj1cIkludGVybmV0IEV4cGxvcmVyXCIseG49JG4rXCIgXCIrbG4sRW49XCJPcGVyYVwiLFBuPUVuK1wiIE1pbmlcIixSbj1cIkVkZ2VcIixJbj1cIk1pY3Jvc29mdCBcIitSbixUbj1cIkZpcmVmb3hcIixDbj1UbitcIiBcIit1bixNbj1cIk5pbnRlbmRvXCIsT249XCJQbGF5U3RhdGlvblwiLEZuPVwiWGJveFwiLEFuPWhuK1wiIFwiK2xuLERuPWxuK1wiIFwiK2duLGpuPVwiV2luZG93c1wiLExuPWpuK1wiIFBob25lXCIsTm49XCJOb2tpYVwiLFVuPVwiT3V5YVwiLHpuPVwiR2VuZXJpY1wiLHFuPXpuK1wiIFwiK2xuLnRvTG93ZXJDYXNlKCksQm49em4rXCIgXCIrZG4udG9Mb3dlckNhc2UoKSxIbj1cIktvbnF1ZXJvclwiLFduPVwiKFxcXFxkKyhcXFxcLlxcXFxkKyk/KVwiLEduPW5ldyBSZWdFeHAoXCJWZXJzaW9uL1wiK1duKSxWbj1uZXcgUmVnRXhwKEZuLFwiaVwiKSxKbj1uZXcgUmVnRXhwKE9uK1wiIFxcXFx3K1wiLFwiaVwiKSxLbj1uZXcgUmVnRXhwKE1uK1wiIFxcXFx3K1wiLFwiaVwiKSxZbj1uZXcgUmVnRXhwKF9uK1wifFBsYXlCb29rfEJCMTBcIixcImlcIiksWG49e1wiTlQzLjUxXCI6XCJOVCAzLjExXCIsXCJOVDQuMFwiOlwiTlQgNC4wXCIsXCI1LjBcIjpcIjIwMDBcIiw1LjE6XCJYUFwiLDUuMjpcIlhQXCIsXCI2LjBcIjpcIlZpc3RhXCIsNi4xOlwiN1wiLDYuMjpcIjhcIiw2LjM6XCI4LjFcIiw2LjQ6XCIxMFwiLFwiMTAuMFwiOlwiMTBcIn07dmFyIFFuPSh0LGkpPT5pJiZ5KGksZm4pfHxmdW5jdGlvbih0KXtyZXR1cm4geSh0LGduKSYmIXkodCx3bikmJiF5KHQsaG4pfSh0KSxabj1mdW5jdGlvbih0LGkpe3JldHVybiBpPWl8fFwiXCIseSh0LFwiIE9QUi9cIikmJnkodCxcIk1pbmlcIik/UG46eSh0LFwiIE9QUi9cIik/RW46WW4udGVzdCh0KT9fbjp5KHQsXCJJRVwiK2xuKXx8eSh0LFwiV1BEZXNrdG9wXCIpP3huOnkodCx5bik/Ym46eSh0LFJuKXx8eSh0LFwiRWRnL1wiKT9Jbjp5KHQsXCJGQklPU1wiKT9cIkZhY2Vib29rIFwiK2xuOnkodCxcIlVDV0VCXCIpfHx5KHQsXCJVQ0Jyb3dzZXJcIik/XCJVQyBCcm93c2VyXCI6eSh0LFwiQ3JpT1NcIik/a246eSh0LFwiQ3JNb1wiKXx8eSh0LHduKT93bjp5KHQsaG4pJiZ5KHQsZ24pP0FuOnkodCxcIkZ4aU9TXCIpP0NuOnkodC50b0xvd2VyQ2FzZSgpLEhuLnRvTG93ZXJDYXNlKCkpP0huOlFuKHQsaSk/eSh0LGxuKT9Ebjpnbjp5KHQsVG4pP1RuOnkodCxcIk1TSUVcIil8fHkodCxcIlRyaWRlbnQvXCIpPyRuOnkodCxcIkdlY2tvXCIpP1RuOlwiXCJ9LHRvPXtbeG5dOltuZXcgUmVnRXhwKFwicnY6XCIrV24pXSxbSW5dOltuZXcgUmVnRXhwKFJuK1wiP1xcXFwvXCIrV24pXSxbd25dOltuZXcgUmVnRXhwKFwiKFwiK3duK1wifENyTW8pXFxcXC9cIitXbildLFtrbl06W25ldyBSZWdFeHAoXCJDcmlPU1xcXFwvXCIrV24pXSxcIlVDIEJyb3dzZXJcIjpbbmV3IFJlZ0V4cChcIihVQ0Jyb3dzZXJ8VUNXRUIpXFxcXC9cIitXbildLFtnbl06W0duXSxbRG5dOltHbl0sW0VuXTpbbmV3IFJlZ0V4cChcIihPcGVyYXxPUFIpXFxcXC9cIitXbildLFtUbl06W25ldyBSZWdFeHAoVG4rXCJcXFxcL1wiK1duKV0sW0NuXTpbbmV3IFJlZ0V4cChcIkZ4aU9TXFxcXC9cIitXbildLFtIbl06W25ldyBSZWdFeHAoXCJLb25xdWVyb3JbOi9dP1wiK1duLFwiaVwiKV0sW19uXTpbbmV3IFJlZ0V4cChfbitcIiBcIitXbiksR25dLFtBbl06W25ldyBSZWdFeHAoXCJhbmRyb2lkXFxcXHNcIitXbixcImlcIildLFtibl06W25ldyBSZWdFeHAoeW4rXCJcXFxcL1wiK1duKV0sWyRuXTpbbmV3IFJlZ0V4cChcIihydjp8TVNJRSApXCIrV24pXSxNb3ppbGxhOltuZXcgUmVnRXhwKFwicnY6XCIrV24pXX0saW89ZnVuY3Rpb24odCxpKXt2YXIgZT1abih0LGkpLHI9dG9bZV07aWYoQyhyKSlyZXR1cm4gbnVsbDtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49cltzXSxvPXQubWF0Y2gobik7aWYobylyZXR1cm4gcGFyc2VGbG9hdChvW28ubGVuZ3RoLTJdKX1yZXR1cm4gbnVsbH0sZW89W1tuZXcgUmVnRXhwKEZuK1wiOyBcIitGbitcIiAoLio/KVspO11cIixcImlcIiksdD0+W0ZuLHQmJnRbMV18fFwiXCJdXSxbbmV3IFJlZ0V4cChNbixcImlcIiksW01uLFwiXCJdXSxbbmV3IFJlZ0V4cChPbixcImlcIiksW09uLFwiXCJdXSxbWW4sW19uLFwiXCJdXSxbbmV3IFJlZ0V4cChqbixcImlcIiksKHQsaSk9PntpZigvUGhvbmUvLnRlc3QoaSl8fC9XUERlc2t0b3AvLnRlc3QoaSkpcmV0dXJuW0xuLFwiXCJdO2lmKG5ldyBSZWdFeHAobG4pLnRlc3QoaSkmJiEvSUVNb2JpbGVcXGIvLnRlc3QoaSkpcmV0dXJuW2puK1wiIFwiK2xuLFwiXCJdO3ZhciBlPS9XaW5kb3dzIE5UIChbMC05Ll0rKS9pLmV4ZWMoaSk7aWYoZSYmZVsxXSl7dmFyIHI9ZVsxXSxzPVhuW3JdfHxcIlwiO3JldHVybi9hcm0vaS50ZXN0KGkpJiYocz1cIlJUXCIpLFtqbixzXX1yZXR1cm5bam4sXCJcIl19XSxbLygoaVBob25lfGlQYWR8aVBvZCkuKj9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/fGlQaG9uZSkvLHQ9PntpZih0JiZ0WzNdKXt2YXIgaT1bdFszXSx0WzRdLHRbNV18fFwiMFwiXTtyZXR1cm5bdW4saS5qb2luKFwiLlwiKV19cmV0dXJuW3VuLFwiXCJdfV0sWy8od2F0Y2guKlxcLyhcXGQrXFwuXFxkK1xcLlxcZCspfHdhdGNoIG9zLChcXGQrXFwuXFxkKyksKS9pLHQ9Pnt2YXIgaT1cIlwiO3JldHVybiB0JiZ0Lmxlbmd0aD49MyYmKGk9Qyh0WzJdKT90WzNdOnRbMl0pLFtcIndhdGNoT1NcIixpXX1dLFtuZXcgUmVnRXhwKFwiKFwiK2huK1wiIChcXFxcZCspXFxcXC4oXFxcXGQrKVxcXFwuPyhcXFxcZCspP3xcIitobitcIilcIixcImlcIiksdD0+e2lmKHQmJnRbMl0pe3ZhciBpPVt0WzJdLHRbM10sdFs0XXx8XCIwXCJdO3JldHVybltobixpLmpvaW4oXCIuXCIpXX1yZXR1cm5baG4sXCJcIl19XSxbL01hYyBPUyBYIChcXGQrKVtfLl0oXFxkKylbXy5dPyhcXGQrKT8vaSx0PT57dmFyIGk9W1wiTWFjIE9TIFhcIixcIlwiXTtpZih0JiZ0WzFdKXt2YXIgZT1bdFsxXSx0WzJdLHRbM118fFwiMFwiXTtpWzFdPWUuam9pbihcIi5cIil9cmV0dXJuIGl9XSxbL01hYy9pLFtcIk1hYyBPUyBYXCIsXCJcIl1dLFsvQ3JPUy8sW1NuLFwiXCJdXSxbL0xpbnV4fGRlYmlhbi9pLFtcIkxpbnV4XCIsXCJcIl1dXSxybz1mdW5jdGlvbih0KXtyZXR1cm4gS24udGVzdCh0KT9NbjpKbi50ZXN0KHQpP09uOlZuLnRlc3QodCk/Rm46bmV3IFJlZ0V4cChVbixcImlcIikudGVzdCh0KT9VbjpuZXcgUmVnRXhwKFwiKFwiK0xuK1wifFdQRGVza3RvcClcIixcImlcIikudGVzdCh0KT9MbjovaVBhZC8udGVzdCh0KT9jbjovaVBvZC8udGVzdCh0KT9cImlQb2QgVG91Y2hcIjovaVBob25lLy50ZXN0KHQpP1wiaVBob25lXCI6Lyh3YXRjaCkoPzogP29zWywvXXxcXGQsXFxkXFwvKVtcXGQuXSsvaS50ZXN0KHQpP3BuOlluLnRlc3QodCk/X246Lyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLnRlc3QodCk/XCJLb2JvXCI6bmV3IFJlZ0V4cChObixcImlcIikudGVzdCh0KT9ObjovKGtmW2Etel17Mn13aXxhZW9bYy1yXXsyfSkoIGJ1aXxcXCkpL2kudGVzdCh0KXx8LyhrZlthLXpdKykoIGJ1aXxcXCkpLitzaWxrXFwvL2kudGVzdCh0KT9cIktpbmRsZSBGaXJlXCI6LyhBbmRyb2lkfFpURSkvaS50ZXN0KHQpPyFuZXcgUmVnRXhwKGxuKS50ZXN0KHQpfHwvKDkxMzhCfFRCNzgyQnxOZXh1cyBbOTddfHBpeGVsIGN8SFVBV0VJU0hUfEJUVnxub2JsZSBub29rfHNtYXJ0IHVsdHJhIDYpL2kudGVzdCh0KT8vcGl4ZWxbXFxkYXhsIF17MSw2fS9pLnRlc3QodCkmJiEvcGl4ZWwgYy9pLnRlc3QodCl8fC8oaHVhd2VpbWVkLWFsMDB8dGFoLXxBUEF8U00tRzkyfGk5ODB8enRlfFUzMDRBQSkvaS50ZXN0KHQpfHwvbG15NDd2L2kudGVzdCh0KSYmIS9RVEFRWjMvaS50ZXN0KHQpP2huOnZuOmhuOm5ldyBSZWdFeHAoXCIocGRhfFwiK2xuK1wiKVwiLFwiaVwiKS50ZXN0KHQpP3FuOm5ldyBSZWdFeHAoZG4sXCJpXCIpLnRlc3QodCkmJiFuZXcgUmVnRXhwKGRuK1wiIHBjXCIsXCJpXCIpLnRlc3QodCk/Qm46XCJcIn0sc289XCJodHRwcz86Ly8oLiopXCIsbm89W1wiZ2NsaWRcIixcImdjbHNyY1wiLFwiZGNsaWRcIixcImdicmFpZFwiLFwid2JyYWlkXCIsXCJmYmNsaWRcIixcIm1zY2xraWRcIixcInR3Y2xpZFwiLFwibGlfZmF0X2lkXCIsXCJpZ3NoaWRcIixcInR0Y2xpZFwiLFwicmR0X2NpZFwiLFwiZXBpa1wiLFwicWNsaWRcIixcInNjY2lkXCIsXCJpcmNsaWRcIixcIl9reFwiXSxvbz1PdChbXCJ1dG1fc291cmNlXCIsXCJ1dG1fbWVkaXVtXCIsXCJ1dG1fY2FtcGFpZ25cIixcInV0bV9jb250ZW50XCIsXCJ1dG1fdGVybVwiLFwiZ2FkX3NvdXJjZVwiLFwibWNfY2lkXCJdLG5vKSxhbz1cIjxtYXNrZWQ+XCIsbG89W1wibGlfZmF0X2lkXCJdO2Z1bmN0aW9uIHVvKHQsaSxlKXtpZighbylyZXR1cm57fTt2YXIgcixzPWk/T3QoW10sbm8sZXx8W10pOltdLG49aG8oX2Uoby5VUkwscyxhbyksdCksYT0ocj17fSxDdChsbywoZnVuY3Rpb24odCl7dmFyIGk9RGUuSih0KTtyW3RdPWl8fG51bGx9KSkscik7cmV0dXJuIE10KGEsbil9ZnVuY3Rpb24gaG8odCxpKXt2YXIgZT1vby5jb25jYXQoaXx8W10pLHI9e307cmV0dXJuIEN0KGUsKGZ1bmN0aW9uKGkpe3ZhciBlPWdlKHQsaSk7cltpXT1lfHxudWxsfSkpLHJ9ZnVuY3Rpb24gdm8odCl7dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/MD09PXQuc2VhcmNoKHNvK1wiZ29vZ2xlLihbXi8/XSopXCIpP1wiZ29vZ2xlXCI6MD09PXQuc2VhcmNoKHNvK1wiYmluZy5jb21cIik/XCJiaW5nXCI6MD09PXQuc2VhcmNoKHNvK1wieWFob28uY29tXCIpP1wieWFob29cIjowPT09dC5zZWFyY2goc28rXCJkdWNrZHVja2dvLmNvbVwiKT9cImR1Y2tkdWNrZ29cIjpudWxsOm51bGx9KHQpLGU9XCJ5YWhvb1wiIT1pP1wicVwiOlwicFwiLHI9e307aWYoIUYoaSkpe3IuJHNlYXJjaF9lbmdpbmU9aTt2YXIgcz1vP2dlKG8ucmVmZXJyZXIsZSk6XCJcIjtzLmxlbmd0aCYmKHIucGhfa2V5d29yZD1zKX1yZXR1cm4gcn1mdW5jdGlvbiBjbygpe3JldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V9ZnVuY3Rpb24gZm8oKXtyZXR1cm4obnVsbD09bz92b2lkIDA6by5yZWZlcnJlcil8fFwiJGRpcmVjdFwifWZ1bmN0aW9uIHBvKHQsaSl7dmFyIGU9dD9PdChbXSxubyxpfHxbXSk6W10scj1udWxsPT1hP3ZvaWQgMDphLmhyZWYuc3Vic3RyaW5nKDAsMWUzKTtyZXR1cm57cjpmbygpLnN1YnN0cmluZygwLDFlMyksdTpyP19lKHIsZSxhbyk6dm9pZCAwfX1mdW5jdGlvbiBnbyh0KXt2YXIgaSx7cjplLHU6cn09dCxzPXskcmVmZXJyZXI6ZSwkcmVmZXJyaW5nX2RvbWFpbjpudWxsPT1lP3ZvaWQgMDpcIiRkaXJlY3RcIj09ZT9cIiRkaXJlY3RcIjpudWxsPT0oaT1mZShlKSk/dm9pZCAwOmkuaG9zdH07aWYocil7cy4kY3VycmVudF91cmw9cjt2YXIgbj1mZShyKTtzLiRob3N0PW51bGw9PW4/dm9pZCAwOm4uaG9zdCxzLiRwYXRobmFtZT1udWxsPT1uP3ZvaWQgMDpuLnBhdGhuYW1lO3ZhciBvPWhvKHIpO010KHMsbyl9aWYoZSl7dmFyIGE9dm8oZSk7TXQocyxhKX1yZXR1cm4gc31mdW5jdGlvbiBfbygpe3RyeXtyZXR1cm4gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lfWNhdGNoKHQpe3JldHVybn19ZnVuY3Rpb24gbW8oKXt0cnl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpfWNhdGNoKHQpe3JldHVybn19ZnVuY3Rpb24geW8oaSxlKXtpZighZClyZXR1cm57fTt2YXIgcixzLG4sbz1pP090KFtdLG5vLGV8fFtdKTpbXSxbbCx1XT1mdW5jdGlvbih0KXtmb3IodmFyIGk9MDtpPGVvLmxlbmd0aDtpKyspe3ZhcltlLHJdPWVvW2ldLHM9ZS5leGVjKHQpLG49cyYmKFIocik/cihzLHQpOnIpO2lmKG4pcmV0dXJuIG59cmV0dXJuW1wiXCIsXCJcIl19KGQpO3JldHVybiBNdChqdCh7JG9zOmwsJG9zX3ZlcnNpb246dSwkYnJvd3NlcjpabihkLG5hdmlnYXRvci52ZW5kb3IpLCRkZXZpY2U6cm8oZCksJGRldmljZV90eXBlOihzPWQsbj1ybyhzKSxuPT09Y258fG49PT12bnx8XCJLb2JvXCI9PT1ufHxcIktpbmRsZSBGaXJlXCI9PT1ufHxuPT09Qm4/ZG46bj09PU1ufHxuPT09Rm58fG49PT1Pbnx8bj09PVVuP1wiQ29uc29sZVwiOm49PT1wbj9cIldlYXJhYmxlXCI6bj9sbjpcIkRlc2t0b3BcIiksJHRpbWV6b25lOl9vKCksJHRpbWV6b25lX29mZnNldDptbygpfSkseyRjdXJyZW50X3VybDpfZShudWxsPT1hP3ZvaWQgMDphLmhyZWYsbyxhbyksJGhvc3Q6bnVsbD09YT92b2lkIDA6YS5ob3N0LCRwYXRobmFtZTpudWxsPT1hP3ZvaWQgMDphLnBhdGhuYW1lLCRyYXdfdXNlcl9hZ2VudDpkLmxlbmd0aD4xZTM/ZC5zdWJzdHJpbmcoMCw5OTcpK1wiLi4uXCI6ZCwkYnJvd3Nlcl92ZXJzaW9uOmlvKGQsbmF2aWdhdG9yLnZlbmRvciksJGJyb3dzZXJfbGFuZ3VhZ2U6Y28oKSwkYnJvd3Nlcl9sYW5ndWFnZV9wcmVmaXg6KHI9Y28oKSxcInN0cmluZ1wiPT10eXBlb2Ygcj9yLnNwbGl0KFwiLVwiKVswXTp2b2lkIDApLCRzY3JlZW5faGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuc2NyZWVuLmhlaWdodCwkc2NyZWVuX3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuc2NyZWVuLndpZHRoLCR2aWV3cG9ydF9oZWlnaHQ6bnVsbD09dD92b2lkIDA6dC5pbm5lckhlaWdodCwkdmlld3BvcnRfd2lkdGg6bnVsbD09dD92b2lkIDA6dC5pbm5lcldpZHRoLCRsaWI6XCJ3ZWJcIiwkbGliX3ZlcnNpb246Yy5MSUJfVkVSU0lPTiwkaW5zZXJ0X2lkOk1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDEwKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCksJHRpbWU6RGF0ZS5ub3coKS8xZTN9KX12YXIgYm89RXQoXCJbRmVhdHVyZUZsYWdzXVwiKSx3bz1cIiRhY3RpdmVfZmVhdHVyZV9mbGFnc1wiLFNvPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ3NcIixrbz1cIiRmZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIiwkbz1cIiRvdmVycmlkZV9mZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIix4bz1cIiRmZWF0dXJlX2ZsYWdfcmVxdWVzdF9pZFwiLEVvPXQ9Pnt2YXIgaT17fTtmb3IodmFyW2Uscl1vZiBGdCh0fHx7fSkpciYmKGlbZV09cik7cmV0dXJuIGl9LFBvPXQ9Pnt2YXIgaT10LmZsYWdzO3JldHVybiBpPyh0LmZlYXR1cmVGbGFncz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoaSkubWFwKCh0PT57dmFyIGU7cmV0dXJuW3QsbnVsbCE9PShlPWlbdF0udmFyaWFudCkmJnZvaWQgMCE9PWU/ZTppW3RdLmVuYWJsZWRdfSkpKSx0LmZlYXR1cmVGbGFnUGF5bG9hZHM9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKGkpLmZpbHRlcigodD0+aVt0XS5lbmFibGVkKSkuZmlsdGVyKCh0PT57dmFyIGU7cmV0dXJuIG51bGw9PShlPWlbdF0ubWV0YWRhdGEpP3ZvaWQgMDplLnBheWxvYWR9KSkubWFwKCh0PT57dmFyIGU7cmV0dXJuW3QsbnVsbD09KGU9aVt0XS5tZXRhZGF0YSk/dm9pZCAwOmUucGF5bG9hZF19KSkpKTpiby53YXJuKFwiVXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBQb3N0SG9nIHNlcnZlciB0byB0aGUgbGF0ZXN0IHZlcnNpb25cIiksdH0sUm89ZnVuY3Rpb24odCl7cmV0dXJuIHQuRmVhdHVyZUZsYWdzPVwiZmVhdHVyZV9mbGFnc1wiLHQuUmVjb3JkaW5ncz1cInJlY29yZGluZ3NcIix0fSh7fSk7Y2xhc3MgSW97Y29uc3RydWN0b3IodCl7dGhpcy5iZT0hMSx0aGlzLndlPSExLHRoaXMuU2U9ITEsdGhpcy5rZT0hMSx0aGlzLiRlPSExLHRoaXMueGU9ITEsdGhpcy5FZT0hMSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPVtdfWZsYWdzKCl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnKXRoaXMueGU9ITA7ZWxzZXt2YXIgdD0hdGhpcy5QZSYmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZCk7dGhpcy5SZSh7ZGlzYWJsZUZsYWdzOnR9KX19Z2V0IGhhc0xvYWRlZEZsYWdzKCl7cmV0dXJuIHRoaXMud2V9Z2V0RmxhZ3MoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXRGbGFnVmFyaWFudHMoKSl9Z2V0RmxhZ3NXaXRoRGV0YWlscygpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShwaSksaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoU28pLGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRvKTtpZighZSYmIWkpcmV0dXJuIHR8fHt9O3ZhciByPU10KHt9LHR8fHt9KSxzPVsuLi5uZXcgU2V0KFsuLi5PYmplY3Qua2V5cyhlfHx7fSksLi4uT2JqZWN0LmtleXMoaXx8e30pXSldO2Zvcih2YXIgbiBvZiBzKXt2YXIgbyxhLGw9cltuXSx1PW51bGw9PWk/dm9pZCAwOmlbbl0saD1DKHUpP251bGwhPT0obz1udWxsPT1sP3ZvaWQgMDpsLmVuYWJsZWQpJiZ2b2lkIDAhPT1vJiZvOiEhdSxkPUModSk/bC52YXJpYW50Olwic3RyaW5nXCI9PXR5cGVvZiB1P3U6dm9pZCAwLHY9bnVsbD09ZT92b2lkIDA6ZVtuXSxjPWcoe30sbCx7ZW5hYmxlZDpoLHZhcmlhbnQ6aD9udWxsIT1kP2Q6bnVsbD09bD92b2lkIDA6bC52YXJpYW50OnZvaWQgMH0pO2lmKGghPT0obnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSYmKGMub3JpZ2luYWxfZW5hYmxlZD1udWxsPT1sP3ZvaWQgMDpsLmVuYWJsZWQpLGQhPT0obnVsbD09bD92b2lkIDA6bC52YXJpYW50KSYmKGMub3JpZ2luYWxfdmFyaWFudD1udWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQpLHYpYy5tZXRhZGF0YT1nKHt9LG51bGw9PWw/dm9pZCAwOmwubWV0YWRhdGEse3BheWxvYWQ6dixvcmlnaW5hbF9wYXlsb2FkOm51bGw9PWx8fG51bGw9PShhPWwubWV0YWRhdGEpP3ZvaWQgMDphLnBheWxvYWR9KTtyW25dPWN9cmV0dXJuIHRoaXMuYmV8fChiby53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIGRldGFpbHMhXCIse2ZsYWdEZXRhaWxzOnQsb3ZlcnJpZGRlblBheWxvYWRzOmUsZmluYWxEZXRhaWxzOnJ9KSx0aGlzLmJlPSEwKSxyfWdldEZsYWdWYXJpYW50cygpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShjaSksaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoU28pO2lmKCFpKXJldHVybiB0fHx7fTtmb3IodmFyIGU9TXQoe30sdCkscj1PYmplY3Qua2V5cyhpKSxzPTA7czxyLmxlbmd0aDtzKyspZVtyW3NdXT1pW3Jbc11dO3JldHVybiB0aGlzLmJlfHwoYm8ud2FybihcIiBPdmVycmlkaW5nIGZlYXR1cmUgZmxhZ3MhXCIse2VuYWJsZWRGbGFnczp0LG92ZXJyaWRkZW5GbGFnczppLGZpbmFsRmxhZ3M6ZX0pLHRoaXMuYmU9ITApLGV9Z2V0RmxhZ1BheWxvYWRzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGtvKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSgkbyk7aWYoIWkpcmV0dXJuIHR8fHt9O2Zvcih2YXIgZT1NdCh7fSx0fHx7fSkscj1PYmplY3Qua2V5cyhpKSxzPTA7czxyLmxlbmd0aDtzKyspZVtyW3NdXT1pW3Jbc11dO3JldHVybiB0aGlzLmJlfHwoYm8ud2FybihcIiBPdmVycmlkaW5nIGZlYXR1cmUgZmxhZyBwYXlsb2FkcyFcIix7ZmxhZ1BheWxvYWRzOnQsb3ZlcnJpZGRlblBheWxvYWRzOmksZmluYWxQYXlsb2FkczplfSksdGhpcy5iZT0hMCksZX1yZWxvYWRGZWF0dXJlRmxhZ3MoKXt0aGlzLmtlfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzfHx0aGlzLlBlfHwodGhpcy5QZT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuUmUoKX0pLDUpKX1JZSgpe2NsZWFyVGltZW91dCh0aGlzLlBlKSx0aGlzLlBlPXZvaWQgMH1lbnN1cmVGbGFnc0xvYWRlZCgpe3RoaXMud2V8fHRoaXMuU2V8fHRoaXMuUGV8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9c2V0QW5vbnltb3VzRGlzdGluY3RJZCh0KXt0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkPXR9c2V0UmVsb2FkaW5nUGF1c2VkKHQpe3RoaXMua2U9dH1SZSh0KXt2YXIgaTtpZih0aGlzLkllKCksIXRoaXMuX2luc3RhbmNlLkwoKSlpZih0aGlzLlNlKXRoaXMuJGU9ITA7ZWxzZXt2YXIgZT17dG9rZW46dGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuLGRpc3RpbmN0X2lkOnRoaXMuX2luc3RhbmNlLmdldF9kaXN0aW5jdF9pZCgpLGdyb3Vwczp0aGlzLl9pbnN0YW5jZS5nZXRHcm91cHMoKSwkYW5vbl9kaXN0aW5jdF9pZDp0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkLHBlcnNvbl9wcm9wZXJ0aWVzOmcoe30sKG51bGw9PShpPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6aS5nZXRfaW5pdGlhbF9wcm9wcygpKXx8e30sdGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGdpKXx8e30pLGdyb3VwX3Byb3BlcnRpZXM6dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KF9pKX07KG51bGwhPXQmJnQuZGlzYWJsZUZsYWdzfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzKSYmKGUuZGlzYWJsZV9mbGFncz0hMCk7dmFyIHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnLHM9cj9cIi9mbGFncy8/dj0yXCI6XCIvZmxhZ3MvP3Y9MiZjb25maWc9dHJ1ZVwiLG49dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX29ubHlfZXZhbHVhdGVfc3VydmV5X2ZlYXR1cmVfZmxhZ3M/XCImb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFncz10cnVlXCI6XCJcIixvPXRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixzK24pO3ImJihlLnRpbWV6b25lPV9vKCkpLHRoaXMuU2U9ITAsdGhpcy5faW5zdGFuY2UuVGUoe21ldGhvZDpcIlBPU1RcIix1cmw6byxkYXRhOmUsY29tcHJlc3Npb246dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOmRlLkJhc2U2NCx0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOnQ9Pnt2YXIgaSxyLHM9ITA7KDIwMD09PXQuc3RhdHVzQ29kZSYmKHRoaXMuJGV8fCh0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkPXZvaWQgMCkscz0hMSksdGhpcy5TZT0hMSx0aGlzLnhlKXx8KHRoaXMueGU9ITAsdGhpcy5faW5zdGFuY2UuQ2UobnVsbCE9PShyPXQuanNvbikmJnZvaWQgMCE9PXI/cjp7fSkpO2lmKCFlLmRpc2FibGVfZmxhZ3N8fHRoaXMuJGUpaWYodGhpcy5FZT0hcyx0Lmpzb24mJm51bGwhPShpPXQuanNvbi5xdW90YUxpbWl0ZWQpJiZpLmluY2x1ZGVzKFJvLkZlYXR1cmVGbGFncykpYm8ud2FybihcIllvdSBoYXZlIGhpdCB5b3VyIGZlYXR1cmUgZmxhZ3MgcXVvdGEgbGltaXQsIGFuZCB3aWxsIG5vdCBiZSBhYmxlIHRvIGxvYWQgZmVhdHVyZSBmbGFncyB1bnRpbCB0aGUgcXVvdGEgaXMgcmVzZXQuICBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wb3N0aG9nLmNvbS9kb2NzL2JpbGxpbmcvbGltaXRzLWFsZXJ0cyB0byBsZWFybiBtb3JlLlwiKTtlbHNle3ZhciBuO2lmKCFlLmRpc2FibGVfZmxhZ3MpdGhpcy5yZWNlaXZlZEZlYXR1cmVGbGFncyhudWxsIT09KG49dC5qc29uKSYmdm9pZCAwIT09bj9uOnt9LHMpO3RoaXMuJGUmJih0aGlzLiRlPSExLHRoaXMuUmUoKSl9fX0pfX1nZXRGZWF0dXJlRmxhZyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPXt9KSx0aGlzLndlfHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MCl7dmFyIGU9dGhpcy5nZXRGbGFnVmFyaWFudHMoKVt0XSxyPVwiXCIrZSxzPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh4byl8fHZvaWQgMCxuPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShiaSl8fHt9O2lmKChpLnNlbmRfZXZlbnR8fCEoXCJzZW5kX2V2ZW50XCJpbiBpKSkmJighKHQgaW4gbil8fCFuW3RdLmluY2x1ZGVzKHIpKSl7dmFyIG8sYSxsLHUsaCxkLHYsYyxmO1Aoblt0XSk/blt0XS5wdXNoKHIpOm5bdF09W3JdLG51bGw9PShvPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8by5yZWdpc3Rlcih7W2JpXTpufSk7dmFyIHA9dGhpcy5nZXRGZWF0dXJlRmxhZ0RldGFpbHModCksZz17JGZlYXR1cmVfZmxhZzp0LCRmZWF0dXJlX2ZsYWdfcmVzcG9uc2U6ZSwkZmVhdHVyZV9mbGFnX3BheWxvYWQ6dGhpcy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCl8fG51bGwsJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkOnMsJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcmVzcG9uc2U6KG51bGw9PShhPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHxudWxsPT0oYT1hLmZlYXR1cmVGbGFncyk/dm9pZCAwOmFbdF0pfHxudWxsLCRmZWF0dXJlX2ZsYWdfYm9vdHN0cmFwcGVkX3BheWxvYWQ6KG51bGw9PShsPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHxudWxsPT0obD1sLmZlYXR1cmVGbGFnUGF5bG9hZHMpP3ZvaWQgMDpsW3RdKXx8bnVsbCwkdXNlZF9ib290c3RyYXBfdmFsdWU6IXRoaXMuRWV9O0MobnVsbD09cHx8bnVsbD09KHU9cC5tZXRhZGF0YSk/dm9pZCAwOnUudmVyc2lvbil8fChnLiRmZWF0dXJlX2ZsYWdfdmVyc2lvbj1wLm1ldGFkYXRhLnZlcnNpb24pO3ZhciBfLG09bnVsbCE9PShoPW51bGw9PXB8fG51bGw9PShkPXAucmVhc29uKT92b2lkIDA6ZC5kZXNjcmlwdGlvbikmJnZvaWQgMCE9PWg/aDpudWxsPT1wfHxudWxsPT0odj1wLnJlYXNvbik/dm9pZCAwOnYuY29kZTtpZihtJiYoZy4kZmVhdHVyZV9mbGFnX3JlYXNvbj1tKSxudWxsIT1wJiZudWxsIT0oYz1wLm1ldGFkYXRhKSYmYy5pZCYmKGcuJGZlYXR1cmVfZmxhZ19pZD1wLm1ldGFkYXRhLmlkKSxDKG51bGw9PXA/dm9pZCAwOnAub3JpZ2luYWxfdmFyaWFudCkmJkMobnVsbD09cD92b2lkIDA6cC5vcmlnaW5hbF9lbmFibGVkKXx8KGcuJGZlYXR1cmVfZmxhZ19vcmlnaW5hbF9yZXNwb25zZT1DKHAub3JpZ2luYWxfdmFyaWFudCk/cC5vcmlnaW5hbF9lbmFibGVkOnAub3JpZ2luYWxfdmFyaWFudCksbnVsbCE9cCYmbnVsbCE9KGY9cC5tZXRhZGF0YSkmJmYub3JpZ2luYWxfcGF5bG9hZClnLiRmZWF0dXJlX2ZsYWdfb3JpZ2luYWxfcGF5bG9hZD1udWxsPT1wfHxudWxsPT0oXz1wLm1ldGFkYXRhKT92b2lkIDA6Xy5vcmlnaW5hbF9wYXlsb2FkO3RoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiLGcpfXJldHVybiBlfWJvLndhcm4oJ2dldEZlYXR1cmVGbGFnIGZvciBrZXkgXCInK3QrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1nZXRGZWF0dXJlRmxhZ0RldGFpbHModCl7cmV0dXJuIHRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpW3RdfWdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXtyZXR1cm4gdGhpcy5nZXRGbGFnUGF5bG9hZHMoKVt0XX1nZXRSZW1vdGVDb25maWdQYXlsb2FkKHQsaSl7dmFyIGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuO3RoaXMuX2luc3RhbmNlLlRlKHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9mbGFncy8/dj0yJmNvbmZpZz10cnVlXCIpLGRhdGE6e2Rpc3RpbmN0X2lkOnRoaXMuX2luc3RhbmNlLmdldF9kaXN0aW5jdF9pZCgpLHRva2VuOmV9LGNvbXByZXNzaW9uOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDpkZS5CYXNlNjQsdGltZW91dDp0aGlzLl9pbnN0YW5jZS5jb25maWcuZmVhdHVyZV9mbGFnX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazplPT57dmFyIHIscz1udWxsPT0ocj1lLmpzb24pP3ZvaWQgMDpyLmZlYXR1cmVGbGFnUGF5bG9hZHM7aSgobnVsbD09cz92b2lkIDA6c1t0XSl8fHZvaWQgMCl9fSl9aXNGZWF0dXJlRW5hYmxlZCh0LGkpe2lmKHZvaWQgMD09PWkmJihpPXt9KSx0aGlzLndlfHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MCl7dmFyIGU9dGhpcy5nZXRGZWF0dXJlRmxhZyh0LGkpO3JldHVybiBDKGUpP3ZvaWQgMDohIWV9Ym8ud2FybignaXNGZWF0dXJlRW5hYmxlZCBmb3Iga2V5IFwiJyt0K1wiXFxcIiBmYWlsZWQuIEZlYXR1cmUgZmxhZ3MgZGlkbid0IGxvYWQgaW4gdGltZS5cIil9YWRkRmVhdHVyZUZsYWdzSGFuZGxlcih0KXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5wdXNoKHQpfXJlbW92ZUZlYXR1cmVGbGFnc0hhbmRsZXIodCl7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnM9dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMuZmlsdGVyKChpPT5pIT09dCkpfXJlY2VpdmVkRmVhdHVyZUZsYWdzKHQsaSl7aWYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Upe3RoaXMud2U9ITA7dmFyIGU9dGhpcy5nZXRGbGFnVmFyaWFudHMoKSxyPXRoaXMuZ2V0RmxhZ1BheWxvYWRzKCkscz10aGlzLmdldEZsYWdzV2l0aERldGFpbHMoKTshZnVuY3Rpb24odCxpLGUscixzKXt2b2lkIDA9PT1lJiYoZT17fSksdm9pZCAwPT09ciYmKHI9e30pLHZvaWQgMD09PXMmJihzPXt9KTt2YXIgbj1Qbyh0KSxvPW4uZmxhZ3MsYT1uLmZlYXR1cmVGbGFncyxsPW4uZmVhdHVyZUZsYWdQYXlsb2FkcztpZihhKXt2YXIgdT10LnJlcXVlc3RJZDtpZihQKGEpKXtiby53YXJuKFwidjEgb2YgdGhlIGZlYXR1cmUgZmxhZ3MgZW5kcG9pbnQgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgbGF0ZXN0IHZlcnNpb24uXCIpO3ZhciBoPXt9O2lmKGEpZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaFthW2RdXT0hMDtpJiZpLnJlZ2lzdGVyKHtbd29dOmEsW2NpXTpofSl9ZWxzZXt2YXIgdj1hLGM9bCxmPW87dC5lcnJvcnNXaGlsZUNvbXB1dGluZ0ZsYWdzJiYodj1nKHt9LGUsdiksYz1nKHt9LHIsYyksZj1nKHt9LHMsZikpLGkmJmkucmVnaXN0ZXIoZyh7W3dvXTpPYmplY3Qua2V5cyhFbyh2KSksW2NpXTp2fHx7fSxba29dOmN8fHt9LFtwaV06Znx8e319LHU/e1t4b106dX06e30pKX19fSh0LHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLGUscixzKSx0aGlzLk1lKGkpfX1vdmVycmlkZSh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSxiby53YXJuKFwib3ZlcnJpZGUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBvdmVycmlkZUZlYXR1cmVGbGFncyBpbnN0ZWFkLlwiKSx0aGlzLm92ZXJyaWRlRmVhdHVyZUZsYWdzKHtmbGFnczp0LHN1cHByZXNzV2FybmluZzppfSl9b3ZlcnJpZGVGZWF0dXJlRmxhZ3ModCl7aWYoIXRoaXMuX2luc3RhbmNlLl9fbG9hZGVkfHwhdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpcmV0dXJuIGJvLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5mZWF0dXJlRmxhZ3Mub3ZlcnJpZGVGZWF0dXJlRmxhZ3NcIik7aWYoITE9PT10KXJldHVybiB0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKFNvKSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKCRvKSx2b2lkIHRoaXMuTWUoKTtpZih0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKFwiZmxhZ3NcImluIHR8fFwicGF5bG9hZHNcImluIHQpKXt2YXIgaSxlPXQ7aWYodGhpcy5iZT1Cb29sZWFuKG51bGwhPT0oaT1lLnN1cHByZXNzV2FybmluZykmJnZvaWQgMCE9PWkmJmkpLFwiZmxhZ3NcImluIGUpaWYoITE9PT1lLmZsYWdzKXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoU28pO2Vsc2UgaWYoZS5mbGFncylpZihQKGUuZmxhZ3MpKXtmb3IodmFyIHI9e30scz0wO3M8ZS5mbGFncy5sZW5ndGg7cysrKXJbZS5mbGFnc1tzXV09ITA7dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tTb106cn0pfWVsc2UgdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tTb106ZS5mbGFnc30pO3JldHVyblwicGF5bG9hZHNcImluIGUmJighMT09PWUucGF5bG9hZHM/dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcigkbyk6ZS5wYXlsb2FkcyYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1skb106ZS5wYXlsb2Fkc30pKSx2b2lkIHRoaXMuTWUoKX10aGlzLk1lKCl9b25GZWF0dXJlRmxhZ3ModCl7aWYodGhpcy5hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpLHRoaXMud2Upe3ZhcntmbGFnczppLGZsYWdWYXJpYW50czplfT10aGlzLk9lKCk7dChpLGUpfXJldHVybigpPT50aGlzLnJlbW92ZUZlYXR1cmVGbGFnc0hhbmRsZXIodCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudCh0LGksZSl7dmFyIHIscz0odGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGZpKXx8W10pLmZpbmQoKGk9PmkuZmxhZ0tleT09PXQpKSxuPXtbXCIkZmVhdHVyZV9lbnJvbGxtZW50L1wiK3RdOml9LG89eyRmZWF0dXJlX2ZsYWc6dCwkZmVhdHVyZV9lbnJvbGxtZW50OmksJHNldDpufTtzJiYoby4kZWFybHlfYWNjZXNzX2ZlYXR1cmVfbmFtZT1zLm5hbWUpLGUmJihvLiRmZWF0dXJlX2Vucm9sbG1lbnRfc3RhZ2U9ZSksdGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2Vucm9sbG1lbnRfdXBkYXRlXCIsbyksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MobiwhMSk7dmFyIGE9Zyh7fSx0aGlzLmdldEZsYWdWYXJpYW50cygpLHtbdF06aX0pO251bGw9PShyPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8ci5yZWdpc3Rlcih7W3dvXTpPYmplY3Qua2V5cyhFbyhhKSksW2NpXTphfSksdGhpcy5NZSgpfWdldEVhcmx5QWNjZXNzRmVhdHVyZXModCxpLGUpe3ZvaWQgMD09PWkmJihpPSExKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoZmkpLHM9ZT9cIiZcIitlLm1hcCgodD0+XCJzdGFnZT1cIit0KSkuam9pbihcIiZcIik6XCJcIjtpZihyJiYhaSlyZXR1cm4gdChyKTt0aGlzLl9pbnN0YW5jZS5UZSh7dXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvZWFybHlfYWNjZXNzX2ZlYXR1cmVzLz90b2tlbj1cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4rcyksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6aT0+e3ZhciBlLHI7aWYoaS5qc29uKXt2YXIgcz1pLmpzb24uZWFybHlBY2Nlc3NGZWF0dXJlcztyZXR1cm4gbnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxlLnVucmVnaXN0ZXIoZmkpLG51bGw9PShyPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8ci5yZWdpc3Rlcih7W2ZpXTpzfSksdChzKX19fSl9T2UoKXt2YXIgdD10aGlzLmdldEZsYWdzKCksaT10aGlzLmdldEZsYWdWYXJpYW50cygpO3JldHVybntmbGFnczp0LmZpbHRlcigodD0+aVt0XSkpLGZsYWdWYXJpYW50czpPYmplY3Qua2V5cyhpKS5maWx0ZXIoKHQ9PmlbdF0pKS5yZWR1Y2UoKCh0LGUpPT4odFtlXT1pW2VdLHQpKSx7fSl9fU1lKHQpe3ZhcntmbGFnczppLGZsYWdWYXJpYW50czplfT10aGlzLk9lKCk7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMuZm9yRWFjaCgocj0+cihpLGUse2Vycm9yc0xvYWRpbmc6dH0pKSl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShnaSl8fHt9O3RoaXMuX2luc3RhbmNlLnJlZ2lzdGVyKHtbZ2ldOmcoe30sZSx0KX0pLGkmJnRoaXMuX2luc3RhbmNlLnJlbG9hZEZlYXR1cmVGbGFncygpfXJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl7dGhpcy5faW5zdGFuY2UudW5yZWdpc3RlcihnaSl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KF9pKXx8e307MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoaT0+e2VbaV09Zyh7fSxlW2ldLHRbaV0pLGRlbGV0ZSB0W2ldfSkpLHRoaXMuX2luc3RhbmNlLnJlZ2lzdGVyKHtbX2ldOmcoe30sZSx0KX0pLGkmJnRoaXMuX2luc3RhbmNlLnJlbG9hZEZlYXR1cmVGbGFncygpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCl7aWYodCl7dmFyIGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KF9pKXx8e307dGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1tfaV06Zyh7fSxpLHtbdF06e319KX0pfWVsc2UgdGhpcy5faW5zdGFuY2UudW5yZWdpc3RlcihfaSl9cmVzZXQoKXt0aGlzLndlPSExLHRoaXMuU2U9ITEsdGhpcy5rZT0hMSx0aGlzLiRlPSExLHRoaXMueGU9ITEsdGhpcy5FZT0hMSx0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkPXZvaWQgMCx0aGlzLkllKCksdGhpcy5iZT0hMX19dmFyIFRvPVtcImNvb2tpZVwiLFwibG9jYWxzdG9yYWdlXCIsXCJsb2NhbHN0b3JhZ2UrY29va2llXCIsXCJzZXNzaW9uc3RvcmFnZVwiLFwibWVtb3J5XCJdO2NsYXNzIENve2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5BPXQsdGhpcy5wcm9wcz17fSx0aGlzLkZlPSExLHRoaXMuQWU9KHQ9Pnt2YXIgaT1cIlwiO3JldHVybiB0LnRva2VuJiYoaT10LnRva2VuLnJlcGxhY2UoL1xcKy9nLFwiUExcIikucmVwbGFjZSgvXFwvL2csXCJTTFwiKS5yZXBsYWNlKC89L2csXCJFUVwiKSksdC5wZXJzaXN0ZW5jZV9uYW1lP1wicGhfXCIrdC5wZXJzaXN0ZW5jZV9uYW1lOlwicGhfXCIraStcIl9wb3N0aG9nXCJ9KSh0KSx0aGlzLml0PXRoaXMuRGUodCksdGhpcy5sb2FkKCksdC5kZWJ1ZyYmeHQuaW5mbyhcIlBlcnNpc3RlbmNlIGxvYWRlZFwiLHQucGVyc2lzdGVuY2UsZyh7fSx0aGlzLnByb3BzKSksdGhpcy51cGRhdGVfY29uZmlnKHQsdCxpKSx0aGlzLnNhdmUoKX1pc0Rpc2FibGVkKCl7cmV0dXJuISF0aGlzLmplfURlKHQpey0xPT09VG8uaW5kZXhPZih0LnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCkpJiYoeHQuY3JpdGljYWwoXCJVbmtub3duIHBlcnNpc3RlbmNlIHR5cGUgXCIrdC5wZXJzaXN0ZW5jZStcIjsgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZStjb29raWVcIiksdC5wZXJzaXN0ZW5jZT1cImxvY2FsU3RvcmFnZStjb29raWVcIik7dmFyIGk9dC5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PT1pJiZMZS5HKCk/TGU6XCJsb2NhbHN0b3JhZ2UrY29va2llXCI9PT1pJiZVZS5HKCk/VWU6XCJzZXNzaW9uc3RvcmFnZVwiPT09aSYmSGUuRygpP0hlOlwibWVtb3J5XCI9PT1pP3FlOlwiY29va2llXCI9PT1pP0RlOlVlLkcoKT9VZTpEZX1wcm9wZXJ0aWVzKCl7dmFyIHQ9e307cmV0dXJuIEN0KHRoaXMucHJvcHMsKGZ1bmN0aW9uKGksZSl7aWYoZT09PWNpJiZJKGkpKWZvcih2YXIgcj1PYmplY3Qua2V5cyhpKSxuPTA7bjxyLmxlbmd0aDtuKyspdFtcIiRmZWF0dXJlL1wiK3Jbbl1dPWlbcltuXV07ZWxzZSBhPWUsbD0hMSwoRihvPVRpKT9sOnMmJm8uaW5kZXhPZj09PXM/LTEhPW8uaW5kZXhPZihhKTooQ3QobywoZnVuY3Rpb24odCl7aWYobHx8KGw9dD09PWEpKXJldHVybiBJdH0pKSxsKSl8fCh0W2VdPWkpO3ZhciBvLGEsbH0pKSx0fWxvYWQoKXtpZighdGhpcy5qZSl7dmFyIHQ9dGhpcy5pdC5LKHRoaXMuQWUpO3QmJih0aGlzLnByb3BzPU10KHt9LHQpKX19c2F2ZSgpe3RoaXMuamV8fHRoaXMuaXQuWSh0aGlzLkFlLHRoaXMucHJvcHMsdGhpcy5MZSx0aGlzLk5lLHRoaXMuVWUsdGhpcy5BLmRlYnVnKX1yZW1vdmUoKXt0aGlzLml0LlgodGhpcy5BZSwhMSksdGhpcy5pdC5YKHRoaXMuQWUsITApfWNsZWFyKCl7dGhpcy5yZW1vdmUoKSx0aGlzLnByb3BzPXt9fXJlZ2lzdGVyX29uY2UodCxpLGUpe2lmKEkodCkpe0MoaSkmJihpPVwiTm9uZVwiKSx0aGlzLkxlPUMoZSk/dGhpcy56ZTplO3ZhciByPSExO2lmKEN0KHQsKCh0LGUpPT57dGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5wcm9wc1tlXSE9PWl8fCh0aGlzLnByb3BzW2VdPXQscj0hMCl9KSkscilyZXR1cm4gdGhpcy5zYXZlKCksITB9cmV0dXJuITF9cmVnaXN0ZXIodCxpKXtpZihJKHQpKXt0aGlzLkxlPUMoaSk/dGhpcy56ZTppO3ZhciBlPSExO2lmKEN0KHQsKChpLHIpPT57dC5oYXNPd25Qcm9wZXJ0eShyKSYmdGhpcy5wcm9wc1tyXSE9PWkmJih0aGlzLnByb3BzW3JdPWksZT0hMCl9KSksZSlyZXR1cm4gdGhpcy5zYXZlKCksITB9cmV0dXJuITF9dW5yZWdpc3Rlcih0KXt0IGluIHRoaXMucHJvcHMmJihkZWxldGUgdGhpcy5wcm9wc1t0XSx0aGlzLnNhdmUoKSl9dXBkYXRlX2NhbXBhaWduX3BhcmFtcygpe2lmKCF0aGlzLkZlKXt2YXIgdD11byh0aGlzLkEuY3VzdG9tX2NhbXBhaWduX3BhcmFtcyx0aGlzLkEubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsdGhpcy5BLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO1QoanQodCkpfHx0aGlzLnJlZ2lzdGVyKHQpLHRoaXMuRmU9ITB9fXVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpe3ZhciB0O3RoaXMucmVnaXN0ZXIoKHQ9bnVsbD09bz92b2lkIDA6by5yZWZlcnJlcik/dm8odCk6e30pfXVwZGF0ZV9yZWZlcnJlcl9pbmZvKCl7dmFyIHQ7dGhpcy5yZWdpc3Rlcl9vbmNlKHskcmVmZXJyZXI6Zm8oKSwkcmVmZXJyaW5nX2RvbWFpbjpudWxsIT1vJiZvLnJlZmVycmVyJiYobnVsbD09KHQ9ZmUoby5yZWZlcnJlcikpP3ZvaWQgMDp0Lmhvc3QpfHxcIiRkaXJlY3RcIn0sdm9pZCAwKX1zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpe3RoaXMucHJvcHNbJGldfHx0aGlzLnByb3BzW3hpXXx8dGhpcy5yZWdpc3Rlcl9vbmNlKHtbRWldOnBvKHRoaXMuQS5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLkEuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyl9LHZvaWQgMCl9Z2V0X2luaXRpYWxfcHJvcHMoKXt2YXIgdD17fTtDdChbeGksJGldLChpPT57dmFyIGU9dGhpcy5wcm9wc1tpXTtlJiZDdChlLChmdW5jdGlvbihpLGUpe3RbXCIkaW5pdGlhbF9cIit3KGUpXT1pfSkpfSkpO3ZhciBpLGUscj10aGlzLnByb3BzW0VpXTtpZihyKXt2YXIgcz0oaT1nbyhyKSxlPXt9LEN0KGksKGZ1bmN0aW9uKHQsaSl7ZVtcIiRpbml0aWFsX1wiK3coaSldPXR9KSksZSk7TXQodCxzKX1yZXR1cm4gdH1zYWZlX21lcmdlKHQpe3JldHVybiBDdCh0aGlzLnByb3BzLChmdW5jdGlvbihpLGUpe2UgaW4gdHx8KHRbZV09aSl9KSksdH11cGRhdGVfY29uZmlnKHQsaSxlKXtpZih0aGlzLnplPXRoaXMuTGU9dC5jb29raWVfZXhwaXJhdGlvbix0aGlzLnNldF9kaXNhYmxlZCh0LmRpc2FibGVfcGVyc2lzdGVuY2V8fCEhZSksdGhpcy5zZXRfY3Jvc3Nfc3ViZG9tYWluKHQuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSksdGhpcy5zZXRfc2VjdXJlKHQuc2VjdXJlX2Nvb2tpZSksdC5wZXJzaXN0ZW5jZSE9PWkucGVyc2lzdGVuY2Upe3ZhciByPXRoaXMuRGUodCkscz10aGlzLnByb3BzO3RoaXMuY2xlYXIoKSx0aGlzLml0PXIsdGhpcy5wcm9wcz1zLHRoaXMuc2F2ZSgpfX1zZXRfZGlzYWJsZWQodCl7dGhpcy5qZT10LHRoaXMuamU/dGhpcy5yZW1vdmUoKTp0aGlzLnNhdmUoKX1zZXRfY3Jvc3Nfc3ViZG9tYWluKHQpe3QhPT10aGlzLk5lJiYodGhpcy5OZT10LHRoaXMucmVtb3ZlKCksdGhpcy5zYXZlKCkpfXNldF9zZWN1cmUodCl7dCE9PXRoaXMuVWUmJih0aGlzLlVlPXQsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X2V2ZW50X3RpbWVyKHQsaSl7dmFyIGU9dGhpcy5wcm9wc1tXdF18fHt9O2VbdF09aSx0aGlzLnByb3BzW1d0XT1lLHRoaXMuc2F2ZSgpfXJlbW92ZV9ldmVudF90aW1lcih0KXt2YXIgaT0odGhpcy5wcm9wc1tXdF18fHt9KVt0XTtyZXR1cm4gQyhpKXx8KGRlbGV0ZSB0aGlzLnByb3BzW1d0XVt0XSx0aGlzLnNhdmUoKSksaX1nZXRfcHJvcGVydHkodCl7cmV0dXJuIHRoaXMucHJvcHNbdF19c2V0X3Byb3BlcnR5KHQsaSl7dGhpcy5wcm9wc1t0XT1pLHRoaXMuc2F2ZSgpfX12YXIgTW89ZnVuY3Rpb24odCl7cmV0dXJuIHQuQnV0dG9uPVwiYnV0dG9uXCIsdC5UYWI9XCJ0YWJcIix0LlNlbGVjdG9yPVwic2VsZWN0b3JcIix0fSh7fSksT289ZnVuY3Rpb24odCl7cmV0dXJuIHQuVG9wTGVmdD1cInRvcF9sZWZ0XCIsdC5Ub3BSaWdodD1cInRvcF9yaWdodFwiLHQuVG9wQ2VudGVyPVwidG9wX2NlbnRlclwiLHQuTWlkZGxlTGVmdD1cIm1pZGRsZV9sZWZ0XCIsdC5NaWRkbGVSaWdodD1cIm1pZGRsZV9yaWdodFwiLHQuTWlkZGxlQ2VudGVyPVwibWlkZGxlX2NlbnRlclwiLHQuTGVmdD1cImxlZnRcIix0LkNlbnRlcj1cImNlbnRlclwiLHQuUmlnaHQ9XCJyaWdodFwiLHQuTmV4dFRvVHJpZ2dlcj1cIm5leHRfdG9fdHJpZ2dlclwiLHR9KHt9KSxGbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5Qb3BvdmVyPVwicG9wb3ZlclwiLHQuQVBJPVwiYXBpXCIsdC5XaWRnZXQ9XCJ3aWRnZXRcIix0LkV4dGVybmFsU3VydmV5PVwiZXh0ZXJuYWxfc3VydmV5XCIsdH0oe30pLEFvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9wZW49XCJvcGVuXCIsdC5NdWx0aXBsZUNob2ljZT1cIm11bHRpcGxlX2Nob2ljZVwiLHQuU2luZ2xlQ2hvaWNlPVwic2luZ2xlX2Nob2ljZVwiLHQuUmF0aW5nPVwicmF0aW5nXCIsdC5MaW5rPVwibGlua1wiLHR9KHt9KSxEbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5OZXh0UXVlc3Rpb249XCJuZXh0X3F1ZXN0aW9uXCIsdC5FbmQ9XCJlbmRcIix0LlJlc3BvbnNlQmFzZWQ9XCJyZXNwb25zZV9iYXNlZFwiLHQuU3BlY2lmaWNRdWVzdGlvbj1cInNwZWNpZmljX3F1ZXN0aW9uXCIsdH0oe30pLGpvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9uY2U9XCJvbmNlXCIsdC5SZWN1cnJpbmc9XCJyZWN1cnJpbmdcIix0LkFsd2F5cz1cImFsd2F5c1wiLHR9KHt9KSxMbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5TSE9XTj1cInN1cnZleSBzaG93blwiLHQuRElTTUlTU0VEPVwic3VydmV5IGRpc21pc3NlZFwiLHQuU0VOVD1cInN1cnZleSBzZW50XCIsdH0oe30pLE5vPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNVUlZFWV9JRD1cIiRzdXJ2ZXlfaWRcIix0LlNVUlZFWV9OQU1FPVwiJHN1cnZleV9uYW1lXCIsdC5TVVJWRVlfUkVTUE9OU0U9XCIkc3VydmV5X3Jlc3BvbnNlXCIsdC5TVVJWRVlfSVRFUkFUSU9OPVwiJHN1cnZleV9pdGVyYXRpb25cIix0LlNVUlZFWV9JVEVSQVRJT05fU1RBUlRfREFURT1cIiRzdXJ2ZXlfaXRlcmF0aW9uX3N0YXJ0X2RhdGVcIix0LlNVUlZFWV9QQVJUSUFMTFlfQ09NUExFVEVEPVwiJHN1cnZleV9wYXJ0aWFsbHlfY29tcGxldGVkXCIsdC5TVVJWRVlfU1VCTUlTU0lPTl9JRD1cIiRzdXJ2ZXlfc3VibWlzc2lvbl9pZFwiLHQuU1VSVkVZX1FVRVNUSU9OUz1cIiRzdXJ2ZXlfcXVlc3Rpb25zXCIsdC5TVVJWRVlfQ09NUExFVEVEPVwiJHN1cnZleV9jb21wbGV0ZWRcIix0fSh7fSksVW89ZnVuY3Rpb24odCl7cmV0dXJuIHQuUG9wb3Zlcj1cInBvcG92ZXJcIix0LklubGluZT1cImlubGluZVwiLHR9KHt9KTtjbGFzcyB6b3tjb25zdHJ1Y3Rvcigpe3RoaXMucWU9e30sdGhpcy5xZT17fX1vbih0LGkpe3JldHVybiB0aGlzLnFlW3RdfHwodGhpcy5xZVt0XT1bXSksdGhpcy5xZVt0XS5wdXNoKGkpLCgpPT57dGhpcy5xZVt0XT10aGlzLnFlW3RdLmZpbHRlcigodD0+dCE9PWkpKX19ZW1pdCh0LGkpe2Zvcih2YXIgZSBvZiB0aGlzLnFlW3RdfHxbXSllKGkpO2Zvcih2YXIgciBvZiB0aGlzLnFlW1wiKlwiXXx8W10pcih0LGkpfX1jbGFzcyBxb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLkJlPW5ldyB6byx0aGlzLkhlPSh0LGkpPT50aGlzLldlKHQsaSkmJnRoaXMuR2UodCxpKSYmdGhpcy5WZSh0LGkpLHRoaXMuV2U9KHQsaSk9Pm51bGw9PWl8fCFpLmV2ZW50fHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk9PT0obnVsbD09aT92b2lkIDA6aS5ldmVudCksdGhpcy5faW5zdGFuY2U9dCx0aGlzLkplPW5ldyBTZXQsdGhpcy5LZT1uZXcgU2V0fWluaXQoKXt2YXIgdDtpZighQyhudWxsPT0odD10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOnQuWWUpKXt2YXIgaTtudWxsPT0oaT10aGlzLl9pbnN0YW5jZSl8fGkuWWUoKCh0LGkpPT57dGhpcy5vbih0LGkpfSkpfX1yZWdpc3Rlcih0KXt2YXIgaSxlO2lmKCFDKG51bGw9PShpPXRoaXMuX2luc3RhbmNlKT92b2lkIDA6aS5ZZSkmJih0LmZvckVhY2goKHQ9Pnt2YXIgaSxlO251bGw9PShpPXRoaXMuS2UpfHxpLmFkZCh0KSxudWxsPT0oZT10LnN0ZXBzKXx8ZS5mb3JFYWNoKCh0PT57dmFyIGk7bnVsbD09KGk9dGhpcy5KZSl8fGkuYWRkKChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KXx8XCJcIil9KSl9KSksbnVsbCE9KGU9dGhpcy5faW5zdGFuY2UpJiZlLmF1dG9jYXB0dXJlKSl7dmFyIHIscz1uZXcgU2V0O3QuZm9yRWFjaCgodD0+e3ZhciBpO251bGw9PShpPXQuc3RlcHMpfHxpLmZvckVhY2goKHQ9PntudWxsIT10JiZ0LnNlbGVjdG9yJiZzLmFkZChudWxsPT10P3ZvaWQgMDp0LnNlbGVjdG9yKX0pKX0pKSxudWxsPT0ocj10aGlzLl9pbnN0YW5jZSl8fHIuYXV0b2NhcHR1cmUuc2V0RWxlbWVudFNlbGVjdG9ycyhzKX19b24odCxpKXt2YXIgZTtudWxsIT1pJiYwIT10Lmxlbmd0aCYmKHRoaXMuSmUuaGFzKHQpfHx0aGlzLkplLmhhcyhudWxsPT1pP3ZvaWQgMDppLmV2ZW50KSkmJnRoaXMuS2UmJihudWxsPT0oZT10aGlzLktlKT92b2lkIDA6ZS5zaXplKT4wJiZ0aGlzLktlLmZvckVhY2goKHQ9Pnt0aGlzLlhlKGksdCkmJnRoaXMuQmUuZW1pdChcImFjdGlvbkNhcHR1cmVkXCIsdC5uYW1lKX0pKX1RZSh0KXt0aGlzLm9uQWN0aW9uKFwiYWN0aW9uQ2FwdHVyZWRcIiwoaT0+dChpKSkpfVhlKHQsaSl7aWYobnVsbD09KG51bGw9PWk/dm9pZCAwOmkuc3RlcHMpKXJldHVybiExO2Zvcih2YXIgZSBvZiBpLnN0ZXBzKWlmKHRoaXMuSGUodCxlKSlyZXR1cm4hMDtyZXR1cm4hMX1vbkFjdGlvbih0LGkpe3JldHVybiB0aGlzLkJlLm9uKHQsaSl9R2UodCxpKXtpZihudWxsIT1pJiZpLnVybCl7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRjdXJyZW50X3VybDtpZighcnx8XCJzdHJpbmdcIiE9dHlwZW9mIHIpcmV0dXJuITE7aWYoIXFvLlplKHIsbnVsbD09aT92b2lkIDA6aS51cmwsKG51bGw9PWk/dm9pZCAwOmkudXJsX21hdGNoaW5nKXx8XCJjb250YWluc1wiKSlyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgWmUoaSxlLHIpe3N3aXRjaChyKXtjYXNlXCJyZWdleFwiOnJldHVybiEhdCYmZW4oaSxlKTtjYXNlXCJleGFjdFwiOnJldHVybiBlPT09aTtjYXNlXCJjb250YWluc1wiOnZhciBzPXFvLnRyKGUpLnJlcGxhY2UoL18vZyxcIi5cIikucmVwbGFjZSgvJS9nLFwiLipcIik7cmV0dXJuIGVuKGkscyk7ZGVmYXVsdDpyZXR1cm4hMX19c3RhdGljIHRyKHQpe3JldHVybiB0LnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoLy0vZyxcIlxcXFx4MmRcIil9VmUodCxpKXtpZigobnVsbCE9aSYmaS5ocmVmfHxudWxsIT1pJiZpLnRhZ19uYW1lfHxudWxsIT1pJiZpLnRleHQpJiYhdGhpcy5pcih0KS5zb21lKCh0PT4hKG51bGwhPWkmJmkuaHJlZiYmIXFvLlplKHQuaHJlZnx8XCJcIixudWxsPT1pP3ZvaWQgMDppLmhyZWYsKG51bGw9PWk/dm9pZCAwOmkuaHJlZl9tYXRjaGluZyl8fFwiZXhhY3RcIikpJiYoKG51bGw9PWl8fCFpLnRhZ19uYW1lfHx0LnRhZ19uYW1lPT09KG51bGw9PWk/dm9pZCAwOmkudGFnX25hbWUpKSYmIShudWxsIT1pJiZpLnRleHQmJiFxby5aZSh0LnRleHR8fFwiXCIsbnVsbD09aT92b2lkIDA6aS50ZXh0LChudWxsPT1pP3ZvaWQgMDppLnRleHRfbWF0Y2hpbmcpfHxcImV4YWN0XCIpJiYhcW8uWmUodC4kZWxfdGV4dHx8XCJcIixudWxsPT1pP3ZvaWQgMDppLnRleHQsKG51bGw9PWk/dm9pZCAwOmkudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikpKSkpKXJldHVybiExO2lmKG51bGwhPWkmJmkuc2VsZWN0b3Ipe3ZhciBlLHI9bnVsbD09dHx8bnVsbD09KGU9dC5wcm9wZXJ0aWVzKT92b2lkIDA6ZS4kZWxlbWVudF9zZWxlY3RvcnM7aWYoIXIpcmV0dXJuITE7aWYoIXIuaW5jbHVkZXMobnVsbD09aT92b2lkIDA6aS5zZWxlY3RvcikpcmV0dXJuITF9cmV0dXJuITB9aXIodCl7cmV0dXJuIG51bGw9PShudWxsPT10P3ZvaWQgMDp0LnByb3BlcnRpZXMuJGVsZW1lbnRzKT9bXTpudWxsPT10P3ZvaWQgMDp0LnByb3BlcnRpZXMuJGVsZW1lbnRzfX12YXIgQm89RXQoXCJbU3VydmV5c11cIik7dmFyIEhvPVwic2VlblN1cnZleV9cIixXbz0odCxpKT0+e3ZhciBlPVwiJHN1cnZleV9cIitpK1wiL1wiK3QuaWQ7cmV0dXJuIHQuY3VycmVudF9pdGVyYXRpb24mJnQuY3VycmVudF9pdGVyYXRpb24+MCYmKGU9XCIkc3VydmV5X1wiK2krXCIvXCIrdC5pZCtcIi9cIit0LmN1cnJlbnRfaXRlcmF0aW9uKSxlfSxHbz10PT57dmFyIGk9XCJcIitIbyt0LmlkO3JldHVybiB0LmN1cnJlbnRfaXRlcmF0aW9uJiZ0LmN1cnJlbnRfaXRlcmF0aW9uPjAmJihpPVwiXCIrSG8rdC5pZCtcIl9cIit0LmN1cnJlbnRfaXRlcmF0aW9uKSxpfSxWbz1bRm8uUG9wb3ZlcixGby5XaWRnZXQsRm8uQVBJXSxKbz17aWdub3JlQ29uZGl0aW9uczohMSxpZ25vcmVEZWxheTohMSxkaXNwbGF5VHlwZTpVby5Qb3BvdmVyfTtjbGFzcyBLb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10LHRoaXMuZXI9bmV3IE1hcCx0aGlzLnJyPW5ldyBNYXB9cmVnaXN0ZXIodCl7dmFyIGk7QyhudWxsPT0oaT10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOmkuWWUpfHwodGhpcy5zcih0KSx0aGlzLm5yKHQpKX1ucih0KXt2YXIgaT10LmZpbHRlcigodD0+e3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkuYWN0aW9ucykmJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHxudWxsPT0oZT1lLmFjdGlvbnMpfHxudWxsPT0oZT1lLnZhbHVlcyk/dm9pZCAwOmUubGVuZ3RoKT4wfSkpO2lmKDAhPT1pLmxlbmd0aCl7aWYobnVsbD09dGhpcy5hcil7dGhpcy5hcj1uZXcgcW8odGhpcy5faW5zdGFuY2UpLHRoaXMuYXIuaW5pdCgpO3RoaXMuYXIuUWUoKHQ9Pnt0aGlzLm9uQWN0aW9uKHQpfSkpfWkuZm9yRWFjaCgodD0+e3ZhciBpLGUscixzLG47dC5jb25kaXRpb25zJiZudWxsIT0oaT10LmNvbmRpdGlvbnMpJiZpLmFjdGlvbnMmJm51bGwhPShlPXQuY29uZGl0aW9ucykmJm51bGwhPShlPWUuYWN0aW9ucykmJmUudmFsdWVzJiYobnVsbD09KHI9dC5jb25kaXRpb25zKXx8bnVsbD09KHI9ci5hY3Rpb25zKXx8bnVsbD09KHI9ci52YWx1ZXMpP3ZvaWQgMDpyLmxlbmd0aCk+MCYmKG51bGw9PShzPXRoaXMuYXIpfHxzLnJlZ2lzdGVyKHQuY29uZGl0aW9ucy5hY3Rpb25zLnZhbHVlcyksbnVsbD09KG49dC5jb25kaXRpb25zKXx8bnVsbD09KG49bi5hY3Rpb25zKXx8bnVsbD09KG49bi52YWx1ZXMpfHxuLmZvckVhY2goKGk9PntpZihpJiZpLm5hbWUpe3ZhciBlPXRoaXMucnIuZ2V0KGkubmFtZSk7ZSYmZS5wdXNoKHQuaWQpLHRoaXMucnIuc2V0KGkubmFtZSxlfHxbdC5pZF0pfX0pKSl9KSl9fXNyKHQpe3ZhciBpO2lmKDAhPT10LmZpbHRlcigodD0+e3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkuZXZlbnRzKSYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fG51bGw9PShlPWUuZXZlbnRzKXx8bnVsbD09KGU9ZS52YWx1ZXMpP3ZvaWQgMDplLmxlbmd0aCk+MH0pKS5sZW5ndGgpe251bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8aS5ZZSgoKHQsaSk9Pnt0aGlzLm9uRXZlbnQodCxpKX0pKSx0LmZvckVhY2goKHQ9Pnt2YXIgaTtudWxsPT0oaT10LmNvbmRpdGlvbnMpfHxudWxsPT0oaT1pLmV2ZW50cyl8fG51bGw9PShpPWkudmFsdWVzKXx8aS5mb3JFYWNoKChpPT57aWYoaSYmaS5uYW1lKXt2YXIgZT10aGlzLmVyLmdldChpLm5hbWUpO2UmJmUucHVzaCh0LmlkKSx0aGlzLmVyLnNldChpLm5hbWUsZXx8W3QuaWRdKX19KSl9KSl9fW9uRXZlbnQodCxpKXt2YXIgZSxyLHM9KG51bGw9PShlPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGU9ZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmUucHJvcHNbeWldKXx8W107aWYoTG8uU0hPV049PT10JiZpJiZzLmxlbmd0aD4wKXt2YXIgbjtCby5pbmZvKFwic3VydmV5IGV2ZW50IG1hdGNoZWQsIHJlbW92aW5nIHN1cnZleSBmcm9tIGFjdGl2YXRlZCBzdXJ2ZXlzXCIse2V2ZW50OnQsZXZlbnRQYXlsb2FkOmksZXhpc3RpbmdBY3RpdmF0ZWRTdXJ2ZXlzOnN9KTt2YXIgbz1udWxsPT1pfHxudWxsPT0obj1pLnByb3BlcnRpZXMpP3ZvaWQgMDpuLiRzdXJ2ZXlfaWQ7aWYobyl7dmFyIGE9cy5pbmRleE9mKG8pO2E+PTAmJihzLnNwbGljZShhLDEpLHRoaXMubHIocykpfX1lbHNlIGlmKHRoaXMuZXIuaGFzKHQpKXtCby5pbmZvKFwic3VydmV5IGV2ZW50IG5hbWUgbWF0Y2hlZFwiLHtldmVudDp0LGV2ZW50UGF5bG9hZDppLHN1cnZleXM6dGhpcy5lci5nZXQodCl9KTt2YXIgbD1bXTtudWxsPT0ocj10aGlzLl9pbnN0YW5jZSl8fHIuZ2V0U3VydmV5cygoaT0+e2w9aS5maWx0ZXIoKGk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09KGU9dGhpcy5lci5nZXQodCkpP3ZvaWQgMDplLmluY2x1ZGVzKGkuaWQpfSkpfSkpO3ZhciB1PWwuZmlsdGVyKChlPT57dmFyIHIscz1udWxsPT0ocj1lLmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLmV2ZW50cyl8fG51bGw9PShyPXIudmFsdWVzKT92b2lkIDA6ci5maW5kKChpPT5pLm5hbWU9PT10KSk7cmV0dXJuISFzJiYoIXMucHJvcGVydHlGaWx0ZXJzfHxPYmplY3QuZW50cmllcyhzLnByb3BlcnR5RmlsdGVycykuZXZlcnkoKHQ9Pnt2YXIgZSxbcixzXT10LG49bnVsbD09aXx8bnVsbD09KGU9aS5wcm9wZXJ0aWVzKT92b2lkIDA6ZVtyXTtpZihDKG4pfHxGKG4pKXJldHVybiExO3ZhciBvPVtTdHJpbmcobildLGE9c25bcy5vcGVyYXRvcl07cmV0dXJuIGE/YShzLnZhbHVlcyxvKTooQm8ud2FybihcIlVua25vd24gcHJvcGVydHkgY29tcGFyaXNvbiBvcGVyYXRvcjogXCIrcy5vcGVyYXRvciksITEpfSkpKX0pKTt0aGlzLmxyKHMuY29uY2F0KHUubWFwKCh0PT50LmlkKSl8fFtdKSl9fW9uQWN0aW9uKHQpe3ZhciBpLGU9KG51bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGk9aS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbeWldKXx8W107dGhpcy5yci5oYXModCkmJnRoaXMubHIoZS5jb25jYXQodGhpcy5yci5nZXQodCl8fFtdKSl9bHIodCl7dmFyIGk7Qm8uaW5mbyhcInVwZGF0aW5nIGFjdGl2YXRlZCBzdXJ2ZXlzXCIse2FjdGl2YXRlZFN1cnZleXM6dH0pLG51bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGk9aS5wZXJzaXN0ZW5jZSl8fGkucmVnaXN0ZXIoe1t5aV06Wy4uLm5ldyBTZXQodCldfSl9Z2V0U3VydmV5cygpe3ZhciB0LGk9bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0odD10LnBlcnNpc3RlbmNlKT92b2lkIDA6dC5wcm9wc1t5aV07cmV0dXJuIGl8fFtdfWdldEV2ZW50VG9TdXJ2ZXlzKCl7cmV0dXJuIHRoaXMuZXJ9dXIoKXtyZXR1cm4gdGhpcy5hcn19Y2xhc3MgWW97Y29uc3RydWN0b3IodCl7dGhpcy5ocj12b2lkIDAsdGhpcy5fc3VydmV5TWFuYWdlcj1udWxsLHRoaXMuZHI9ITEsdGhpcy52cj0hMSx0aGlzLmNyPVtdLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1udWxsfW9uUmVtb3RlQ29uZmlnKHQpe2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXt2YXIgaT10LnN1cnZleXM7aWYoQShpKSlyZXR1cm4gQm8ud2FybihcIkZsYWdzIG5vdCBsb2FkZWQgeWV0LiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTt2YXIgZT1QKGkpO3RoaXMuaHI9ZT9pLmxlbmd0aD4wOmksQm8uaW5mbyhcImZsYWdzIHJlc3BvbnNlIHJlY2VpdmVkLCBpc1N1cnZleXNFbmFibGVkOiBcIit0aGlzLmhyKSx0aGlzLmxvYWRJZkVuYWJsZWQoKX19cmVzZXQoKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxhc3RTZWVuU3VydmV5RGF0ZVwiKTtmb3IodmFyIHQ9W10saT0wO2k8bG9jYWxTdG9yYWdlLmxlbmd0aDtpKyspe3ZhciBlPWxvY2FsU3RvcmFnZS5rZXkoaSk7KG51bGwhPWUmJmUuc3RhcnRzV2l0aChIbyl8fG51bGwhPWUmJmUuc3RhcnRzV2l0aChcImluUHJvZ3Jlc3NTdXJ2ZXlfXCIpKSYmdC5wdXNoKGUpfXQuZm9yRWFjaCgodD0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCkpKX1sb2FkSWZFbmFibGVkKCl7aWYoIXRoaXMuX3N1cnZleU1hbmFnZXIpaWYodGhpcy52cilCby5pbmZvKFwiQWxyZWFkeSBpbml0aWFsaXppbmcgc3VydmV5cywgc2tpcHBpbmcuLi5cIik7ZWxzZSBpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKUJvLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7ZWxzZSBpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLl9pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSlCby5pbmZvKFwiTm90IGxvYWRpbmcgc3VydmV5cyBpbiBjb29raWVsZXNzIG1vZGUgd2l0aG91dCBjb25zZW50LlwiKTtlbHNle3ZhciB0PW51bGw9PXY/dm9pZCAwOnYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO2lmKHQpe2lmKCFDKHRoaXMuaHIpfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZW5hYmxlX3N1cnZleXMpe3ZhciBpPXRoaXMuaHJ8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9lbmFibGVfc3VydmV5czt0aGlzLnZyPSEwO3RyeXt2YXIgZT10LmdlbmVyYXRlU3VydmV5cztpZihlKXJldHVybiB2b2lkIHRoaXMucHIoZSxpKTt2YXIgcj10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k7aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5ncihcIlBvc3RIb2cgbG9hZEV4dGVybmFsRGVwZW5kZW5jeSBleHRlbnNpb24gbm90IGZvdW5kLlwiKTtyKHRoaXMuX2luc3RhbmNlLFwic3VydmV5c1wiLChlPT57ZXx8IXQuZ2VuZXJhdGVTdXJ2ZXlzP3RoaXMuZ3IoXCJDb3VsZCBub3QgbG9hZCBzdXJ2ZXlzIHNjcmlwdFwiLGUpOnRoaXMucHIodC5nZW5lcmF0ZVN1cnZleXMsaSl9KSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5ncihcIkVycm9yIGluaXRpYWxpemluZyBzdXJ2ZXlzXCIsdCksdH1maW5hbGx5e3RoaXMudnI9ITF9fX1lbHNlIEJvLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC5cIil9fXByKHQsaSl7dGhpcy5fc3VydmV5TWFuYWdlcj10KHRoaXMuX2luc3RhbmNlLGkpLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bmV3IEtvKHRoaXMuX2luc3RhbmNlKSxCby5pbmZvKFwiU3VydmV5cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpLHRoaXMuX3Ioe2lzTG9hZGVkOiEwfSl9Z3IodCxpKXtCby5lcnJvcih0LGkpLHRoaXMuX3Ioe2lzTG9hZGVkOiExLGVycm9yOnR9KX1vblN1cnZleXNMb2FkZWQodCl7cmV0dXJuIHRoaXMuY3IucHVzaCh0KSx0aGlzLl9zdXJ2ZXlNYW5hZ2VyJiZ0aGlzLl9yKHtpc0xvYWRlZDohMH0pLCgpPT57dGhpcy5jcj10aGlzLmNyLmZpbHRlcigoaT0+aSE9PXQpKX19Z2V0U3VydmV5cyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSExKSx0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXJldHVybiBCby5pbmZvKFwiRGlzYWJsZWQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpLHQoW10pO3ZhciBlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShtaSk7aWYoZSYmIWkpcmV0dXJuIHQoZSx7aXNMb2FkZWQ6ITB9KTtpZih0aGlzLmRyKXJldHVybiB0KFtdLHtpc0xvYWRlZDohMSxlcnJvcjpcIlN1cnZleXMgYXJlIGFscmVhZHkgYmVpbmcgbG9hZGVkXCJ9KTt0cnl7dGhpcy5kcj0hMCx0aGlzLl9pbnN0YW5jZS5UZSh7dXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvc3VydmV5cy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuKSxtZXRob2Q6XCJHRVRcIix0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5zdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazppPT57dmFyIGU7dGhpcy5kcj0hMTt2YXIgcj1pLnN0YXR1c0NvZGU7aWYoMjAwIT09cnx8IWkuanNvbil7dmFyIHM9XCJTdXJ2ZXlzIEFQSSBjb3VsZCBub3QgYmUgbG9hZGVkLCBzdGF0dXM6IFwiK3I7cmV0dXJuIEJvLmVycm9yKHMpLHQoW10se2lzTG9hZGVkOiExLGVycm9yOnN9KX12YXIgbixvPWkuanNvbi5zdXJ2ZXlzfHxbXSxhPW8uZmlsdGVyKCh0PT5mdW5jdGlvbih0KXtyZXR1cm4hKCF0LnN0YXJ0X2RhdGV8fHQuZW5kX2RhdGUpfSh0KSYmKGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiEobnVsbD09KGk9dC5jb25kaXRpb25zKXx8bnVsbD09KGk9aS5ldmVudHMpfHxudWxsPT0oaT1pLnZhbHVlcyl8fCFpLmxlbmd0aCl9KHQpfHxmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm4hKG51bGw9PShpPXQuY29uZGl0aW9ucyl8fG51bGw9PShpPWkuYWN0aW9ucyl8fG51bGw9PShpPWkudmFsdWVzKXx8IWkubGVuZ3RoKX0odCkpKSk7YS5sZW5ndGg+MCYmKG51bGw9PShuPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHxuLnJlZ2lzdGVyKGEpKTtyZXR1cm4gbnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHtbbWldOm99KSx0KG8se2lzTG9hZGVkOiEwfSl9fSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5kcj0hMSx0fX1fcih0KXtmb3IodmFyIGkgb2YgdGhpcy5jcil0cnl7aWYoIXQuaXNMb2FkZWQpcmV0dXJuIGkoW10sdCk7dGhpcy5nZXRTdXJ2ZXlzKGkpfWNhdGNoKHQpe0JvLmVycm9yKFwiRXJyb3IgaW4gc3VydmV5IGNhbGxiYWNrXCIsdCl9fWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSExKSwhQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlyZXR1cm4gdGhpcy5fc3VydmV5TWFuYWdlci5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXModCxpKTtCby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKX1tcih0KXt2YXIgaT1udWxsO3JldHVybiB0aGlzLmdldFN1cnZleXMoKGU9Pnt2YXIgcjtpPW51bGwhPT0ocj1lLmZpbmQoKGk9PmkuaWQ9PT10KSkpJiZ2b2lkIDAhPT1yP3I6bnVsbH0pKSxpfXlyKHQpe2lmKEEodGhpcy5fc3VydmV5TWFuYWdlcikpcmV0dXJue2VsaWdpYmxlOiExLHJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLm1yKHQpOnQ7cmV0dXJuIGk/dGhpcy5fc3VydmV5TWFuYWdlci5jaGVja1N1cnZleUVsaWdpYmlsaXR5KGkpOntlbGlnaWJsZTohMSxyZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9fWNhblJlbmRlclN1cnZleSh0KXtpZihBKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiBCby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKSx7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgaT10aGlzLnlyKHQpO3JldHVybnt2aXNpYmxlOmkuZWxpZ2libGUsZGlzYWJsZWRSZWFzb246aS5yZWFzb259fWNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl7cmV0dXJuIEEodGhpcy5fc3VydmV5TWFuYWdlcik/KEJvLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLFByb21pc2UucmVzb2x2ZSh7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifSkpOm5ldyBQcm9taXNlKChlPT57dGhpcy5nZXRTdXJ2ZXlzKChpPT57dmFyIHIscz1udWxsIT09KHI9aS5maW5kKChpPT5pLmlkPT09dCkpKSYmdm9pZCAwIT09cj9yOm51bGw7aWYocyl7dmFyIG49dGhpcy55cihzKTtlKHt2aXNpYmxlOm4uZWxpZ2libGUsZGlzYWJsZWRSZWFzb246bi5yZWFzb259KX1lbHNlIGUoe3Zpc2libGU6ITEsZGlzYWJsZWRSZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9KX0pLGkpfSkpfXJlbmRlclN1cnZleSh0LGkpe3ZhciBlO2lmKEEodGhpcy5fc3VydmV5TWFuYWdlcikpQm8ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik7ZWxzZXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLm1yKHQpOnQ7aWYobnVsbCE9ciYmci5pZClpZihWby5pbmNsdWRlcyhyLnR5cGUpKXt2YXIgcz1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3IoaSk7aWYocylyZXR1cm4gbnVsbCE9KGU9ci5hcHBlYXJhbmNlKSYmZS5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcz8oQm8uaW5mbyhcIlJlbmRlcmluZyBzdXJ2ZXkgXCIrci5pZCtcIiB3aXRoIGRlbGF5IG9mIFwiK3IuYXBwZWFyYW5jZS5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcytcIiBzZWNvbmRzXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt2YXIgdCxpO0JvLmluZm8oXCJSZW5kZXJpbmcgc3VydmV5IFwiK3IuaWQrXCIgd2l0aCBkZWxheSBvZiBcIisobnVsbD09KHQ9ci5hcHBlYXJhbmNlKT92b2lkIDA6dC5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcykrXCIgc2Vjb25kc1wiKSxudWxsPT0oaT10aGlzLl9zdXJ2ZXlNYW5hZ2VyKXx8aS5yZW5kZXJTdXJ2ZXkocixzKSxCby5pbmZvKFwiU3VydmV5IFwiK3IuaWQrXCIgcmVuZGVyZWRcIil9KSwxZTMqci5hcHBlYXJhbmNlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzKSk6dm9pZCB0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShyLHMpO0JvLndhcm4oXCJTdXJ2ZXkgZWxlbWVudCBub3QgZm91bmRcIil9ZWxzZSBCby53YXJuKFwiU3VydmV5cyBvZiB0eXBlIFwiK3IudHlwZStcIiBjYW5ub3QgYmUgcmVuZGVyZWQgaW4gdGhlIGFwcFwiKTtlbHNlIEJvLndhcm4oXCJTdXJ2ZXkgbm90IGZvdW5kXCIpfX1kaXNwbGF5U3VydmV5KHQsaSl7dmFyIGU7aWYoQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlCby53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTtlbHNle3ZhciByPXRoaXMubXIodCk7aWYocil7dmFyIHM9cjtpZihudWxsIT0oZT1yLmFwcGVhcmFuY2UpJiZlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzJiZpLmlnbm9yZURlbGF5JiYocz1nKHt9LHIse2FwcGVhcmFuY2U6Zyh7fSxyLmFwcGVhcmFuY2Use3N1cnZleVBvcHVwRGVsYXlTZWNvbmRzOjB9KX0pKSwhMT09PWkuaWdub3JlQ29uZGl0aW9ucyl7dmFyIG49dGhpcy5jYW5SZW5kZXJTdXJ2ZXkocik7aWYoIW4udmlzaWJsZSlyZXR1cm4gdm9pZCBCby53YXJuKFwiU3VydmV5IGlzIG5vdCBlbGlnaWJsZSB0byBiZSBkaXNwbGF5ZWQ6IFwiLG4uZGlzYWJsZWRSZWFzb24pfWkuZGlzcGxheVR5cGUhPT1Vby5JbmxpbmU/dGhpcy5fc3VydmV5TWFuYWdlci5oYW5kbGVQb3BvdmVyU3VydmV5KHMpOnRoaXMucmVuZGVyU3VydmV5KHMsaS5zZWxlY3Rvcil9ZWxzZSBCby53YXJuKFwiU3VydmV5IG5vdCBmb3VuZFwiKX19fXZhciBYbz1FdChcIltSYXRlTGltaXRlcl1cIik7Y2xhc3MgUW97Y29uc3RydWN0b3IodCl7dmFyIGksZTt0aGlzLnNlcnZlckxpbWl0cz17fSx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkPSExLHRoaXMuY2hlY2tGb3JMaW1pdGluZz10PT57dmFyIGk9dC50ZXh0O2lmKGkmJmkubGVuZ3RoKXRyeXsoSlNPTi5wYXJzZShpKS5xdW90YV9saW1pdGVkfHxbXSkuZm9yRWFjaCgodD0+e1hvLmluZm8oKHR8fFwiZXZlbnRzXCIpK1wiIGlzIHF1b3RhIGxpbWl0ZWQuXCIpLHRoaXMuc2VydmVyTGltaXRzW3RdPShuZXcgRGF0ZSkuZ2V0VGltZSgpKzZlNH0pKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBYby53YXJuKCdjb3VsZCBub3QgcmF0ZSBsaW1pdCAtIGNvbnRpbnVpbmcuIEVycm9yOiBcIicrKG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSkrJ1wiJyx7dGV4dDppfSl9fSx0aGlzLmluc3RhbmNlPXQsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kPShudWxsPT0oaT10LmNvbmZpZy5yYXRlX2xpbWl0aW5nKT92b2lkIDA6aS5ldmVudHNfcGVyX3NlY29uZCl8fDEwLHRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQ9TWF0aC5tYXgoKG51bGw9PShlPXQuY29uZmlnLnJhdGVfbGltaXRpbmcpP3ZvaWQgMDplLmV2ZW50c19idXJzdF9saW1pdCl8fDEwKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQpLHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9dGhpcy5jbGllbnRSYXRlTGltaXRDb250ZXh0KCEwKS5pc1JhdGVMaW1pdGVkfWNsaWVudFJhdGVMaW1pdENvbnRleHQodCl7dmFyIGksZSxyO3ZvaWQgMD09PXQmJih0PSExKTt2YXIgcz0obmV3IERhdGUpLmdldFRpbWUoKSxuPW51bGwhPT0oaT1udWxsPT0oZT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoa2kpKSYmdm9pZCAwIT09aT9pOnt0b2tlbnM6dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCxsYXN0OnN9O24udG9rZW5zKz0ocy1uLmxhc3QpLzFlMyp0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQsbi5sYXN0PXMsbi50b2tlbnM+dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCYmKG4udG9rZW5zPXRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQpO3ZhciBvPW4udG9rZW5zPDE7cmV0dXJuIG98fHR8fChuLnRva2Vucz1NYXRoLm1heCgwLG4udG9rZW5zLTEpKSwhb3x8dGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZHx8dHx8dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIix7JCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdfbWVzc2FnZTpcInBvc3Rob2ctanMgY2xpZW50IHJhdGUgbGltaXRlZC4gQ29uZmlnIGlzIHNldCB0byBcIit0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQrXCIgZXZlbnRzIHBlciBzZWNvbmQgYW5kIFwiK3RoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQrXCIgZXZlbnRzIGJ1cnN0IGxpbWl0LlwifSx7c2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZzohMH0pLHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9byxudWxsPT0ocj10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8ci5zZXRfcHJvcGVydHkoa2ksbikse2lzUmF0ZUxpbWl0ZWQ6byxyZW1haW5pbmdUb2tlbnM6bi50b2tlbnN9fWlzU2VydmVyUmF0ZUxpbWl0ZWQodCl7dmFyIGk9dGhpcy5zZXJ2ZXJMaW1pdHNbdHx8XCJldmVudHNcIl18fCExO3JldHVybiExIT09aSYmKG5ldyBEYXRlKS5nZXRUaW1lKCk8aX19dmFyIFpvPUV0KFwiW1JlbW90ZUNvbmZpZ11cIik7Y2xhc3MgdGF7Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1nZXQgcmVtb3RlQ29uZmlnKCl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXYuX1BPU1RIT0dfUkVNT1RFX0NPTkZJRyl8fG51bGw9PSh0PXRbdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuXSk/dm9pZCAwOnQuY29uZmlnfWJyKHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k/bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcInJlbW90ZS1jb25maWdcIiwoKCk9PnQodGhpcy5yZW1vdGVDb25maWcpKSk6KFpvLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC4gQ2Fubm90IGxvYWQgcmVtb3RlIGNvbmZpZy5cIiksdCgpKX13cih0KXt0aGlzLl9pbnN0YW5jZS5UZSh7bWV0aG9kOlwiR0VUXCIsdXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhc3NldHNcIixcIi9hcnJheS9cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4rXCIvY29uZmlnXCIpLGNhbGxiYWNrOmk9Pnt0KGkuanNvbil9fSl9bG9hZCgpe3RyeXtpZih0aGlzLnJlbW90ZUNvbmZpZylyZXR1cm4gWm8uaW5mbyhcIlVzaW5nIHByZWxvYWRlZCByZW1vdGUgY29uZmlnXCIsdGhpcy5yZW1vdGVDb25maWcpLHZvaWQgdGhpcy5DZSh0aGlzLnJlbW90ZUNvbmZpZyk7aWYodGhpcy5faW5zdGFuY2UuTCgpKXJldHVybiB2b2lkIFpvLndhcm4oXCJSZW1vdGUgY29uZmlnIGlzIGRpc2FibGVkLiBGYWxsaW5nIGJhY2sgdG8gbG9jYWwgY29uZmlnLlwiKTt0aGlzLmJyKCh0PT57aWYoIXQpcmV0dXJuIFpvLmluZm8oXCJObyBjb25maWcgZm91bmQgYWZ0ZXIgbG9hZGluZyByZW1vdGUgSlMgY29uZmlnLiBGYWxsaW5nIGJhY2sgdG8gSlNPTi5cIiksdm9pZCB0aGlzLndyKCh0PT57dGhpcy5DZSh0KX0pKTt0aGlzLkNlKHQpfSkpfWNhdGNoKHQpe1pvLmVycm9yKFwiRXJyb3IgbG9hZGluZyByZW1vdGUgY29uZmlnXCIsdCl9fUNlKHQpe3Q/dGhpcy5faW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnPyh0aGlzLl9pbnN0YW5jZS5DZSh0KSwhMSE9PXQuaGFzRmVhdHVyZUZsYWdzJiZ0aGlzLl9pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuZW5zdXJlRmxhZ3NMb2FkZWQoKSk6Wm8uaW5mbyhcIl9fcHJldmlld19yZW1vdGVfY29uZmlnIGlzIGRpc2FibGVkLiBMb2dnaW5nIGNvbmZpZyBpbnN0ZWFkXCIsdCk6Wm8uZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcmVtb3RlIGNvbmZpZyBmcm9tIFBvc3RIb2cuXCIpfX12YXIgaWE9M2UzO2NsYXNzIGVhe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5Tcj0hMCx0aGlzLmtyPVtdLHRoaXMuJHI9RygobnVsbD09aT92b2lkIDA6aS5mbHVzaF9pbnRlcnZhbF9tcyl8fGlhLDI1MCw1ZTMseHQuY3JlYXRlTG9nZ2VyKFwiZmx1c2ggaW50ZXJ2YWxcIiksaWEpLHRoaXMuRXI9dH1lbnF1ZXVlKHQpe3RoaXMua3IucHVzaCh0KSx0aGlzLlByfHx0aGlzLlJyKCl9dW5sb2FkKCl7dGhpcy5JcigpO3ZhciB0PXRoaXMua3IubGVuZ3RoPjA/dGhpcy5UcigpOnt9LGk9T2JqZWN0LnZhbHVlcyh0KTtbLi4uaS5maWx0ZXIoKHQ9PjA9PT10LnVybC5pbmRleE9mKFwiL2VcIikpKSwuLi5pLmZpbHRlcigodD0+MCE9PXQudXJsLmluZGV4T2YoXCIvZVwiKSkpXS5tYXAoKHQ9Pnt0aGlzLkVyKGcoe30sdCx7dHJhbnNwb3J0Olwic2VuZEJlYWNvblwifSkpfSkpfWVuYWJsZSgpe3RoaXMuU3I9ITEsdGhpcy5ScigpfVJyKCl7dmFyIHQ9dGhpczt0aGlzLlNyfHwodGhpcy5Qcj1zZXRUaW1lb3V0KCgoKT0+e2lmKHRoaXMuSXIoKSx0aGlzLmtyLmxlbmd0aD4wKXt2YXIgaT10aGlzLlRyKCksZT1mdW5jdGlvbigpe3ZhciBlPWlbcl0scz0obmV3IERhdGUpLmdldFRpbWUoKTtlLmRhdGEmJlAoZS5kYXRhKSYmQ3QoZS5kYXRhLCh0PT57dC5vZmZzZXQ9TWF0aC5hYnModC50aW1lc3RhbXAtcyksZGVsZXRlIHQudGltZXN0YW1wfSkpLHQuRXIoZSl9O2Zvcih2YXIgciBpbiBpKWUoKX19KSx0aGlzLiRyKSl9SXIoKXtjbGVhclRpbWVvdXQodGhpcy5QciksdGhpcy5Qcj12b2lkIDB9VHIoKXt2YXIgdD17fTtyZXR1cm4gQ3QodGhpcy5rciwoaT0+e3ZhciBlLHI9aSxzPShyP3IuYmF0Y2hLZXk6bnVsbCl8fHIudXJsO0ModFtzXSkmJih0W3NdPWcoe30scix7ZGF0YTpbXX0pKSxudWxsPT0oZT10W3NdLmRhdGEpfHxlLnB1c2goci5kYXRhKX0pKSx0aGlzLmtyPVtdLHR9fXZhciByYT1bXCJyZXRyaWVzUGVyZm9ybWVkU29GYXJcIl07Y2xhc3Mgc2F7Y29uc3RydWN0b3IoaSl7dGhpcy5Dcj0hMSx0aGlzLk1yPTNlMyx0aGlzLmtyPVtdLHRoaXMuX2luc3RhbmNlPWksdGhpcy5rcj1bXSx0aGlzLk9yPSEwLCFDKHQpJiZcIm9uTGluZVwiaW4gdC5uYXZpZ2F0b3ImJih0aGlzLk9yPXQubmF2aWdhdG9yLm9uTGluZSxxdCh0LFwib25saW5lXCIsKCgpPT57dGhpcy5Pcj0hMCx0aGlzLm5lKCl9KSkscXQodCxcIm9mZmxpbmVcIiwoKCk9Pnt0aGlzLk9yPSExfSkpKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMua3IubGVuZ3RofXJldHJpYWJsZVJlcXVlc3QodCl7dmFye3JldHJpZXNQZXJmb3JtZWRTb0ZhcjppfT10LGU9Xyh0LHJhKTtEKGkpJiZpPjAmJihlLnVybD1YcyhlLnVybCx7cmV0cnlfY291bnQ6aX0pKSx0aGlzLl9pbnN0YW5jZS5UZShnKHt9LGUse2NhbGxiYWNrOnQ9PnsyMDAhPT10LnN0YXR1c0NvZGUmJih0LnN0YXR1c0NvZGU8NDAwfHx0LnN0YXR1c0NvZGU+PTUwMCkmJihudWxsIT1pP2k6MCk8MTA/dGhpcy5GcihnKHtyZXRyaWVzUGVyZm9ybWVkU29GYXI6aX0sZSkpOm51bGw9PWUuY2FsbGJhY2t8fGUuY2FsbGJhY2sodCl9fSkpfUZyKHQpe3ZhciBpPXQucmV0cmllc1BlcmZvcm1lZFNvRmFyfHwwO3QucmV0cmllc1BlcmZvcm1lZFNvRmFyPWkrMTt2YXIgZT1mdW5jdGlvbih0KXt2YXIgaT0zZTMqTWF0aC5wb3coMix0KSxlPWkvMixyPU1hdGgubWluKDE4ZTUsaSkscz0oTWF0aC5yYW5kb20oKS0uNSkqKHItZSk7cmV0dXJuIE1hdGguY2VpbChyK3MpfShpKSxyPURhdGUubm93KCkrZTt0aGlzLmtyLnB1c2goe3JldHJ5QXQ6cixyZXF1ZXN0T3B0aW9uczp0fSk7dmFyIHM9XCJFbnF1ZXVlZCBmYWlsZWQgcmVxdWVzdCBmb3IgcmV0cnkgaW4gXCIrZTtuYXZpZ2F0b3Iub25MaW5lfHwocys9XCIgKEJyb3dzZXIgaXMgb2ZmbGluZSlcIikseHQud2FybihzKSx0aGlzLkNyfHwodGhpcy5Dcj0hMCx0aGlzLkFyKCkpfUFyKCl7dGhpcy5EciYmY2xlYXJUaW1lb3V0KHRoaXMuRHIpLHRoaXMuRHI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLk9yJiZ0aGlzLmtyLmxlbmd0aD4wJiZ0aGlzLm5lKCksdGhpcy5BcigpfSksdGhpcy5Ncil9bmUoKXt2YXIgdD1EYXRlLm5vdygpLGk9W10sZT10aGlzLmtyLmZpbHRlcigoZT0+ZS5yZXRyeUF0PHR8fChpLnB1c2goZSksITEpKSk7aWYodGhpcy5rcj1pLGUubGVuZ3RoPjApZm9yKHZhcntyZXF1ZXN0T3B0aW9uczpyfW9mIGUpdGhpcy5yZXRyaWFibGVSZXF1ZXN0KHIpfXVubG9hZCgpe2Zvcih2YXJ7cmVxdWVzdE9wdGlvbnM6dH1vZih0aGlzLkRyJiYoY2xlYXJUaW1lb3V0KHRoaXMuRHIpLHRoaXMuRHI9dm9pZCAwKSx0aGlzLmtyKSl0cnl7dGhpcy5faW5zdGFuY2UuVGUoZyh7fSx0LHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KSl9Y2F0Y2godCl7eHQuZXJyb3IodCl9dGhpcy5rcj1bXX19Y2xhc3MgbmF7Y29uc3RydWN0b3IodCl7dGhpcy5qcj0oKT0+e3ZhciB0LGksZSxyO3RoaXMuTHJ8fCh0aGlzLkxyPXt9KTt2YXIgcz10aGlzLnNjcm9sbEVsZW1lbnQoKSxuPXRoaXMuc2Nyb2xsWSgpLG89cz9NYXRoLm1heCgwLHMuc2Nyb2xsSGVpZ2h0LXMuY2xpZW50SGVpZ2h0KTowLGE9bisoKG51bGw9PXM/dm9pZCAwOnMuY2xpZW50SGVpZ2h0KXx8MCksbD0obnVsbD09cz92b2lkIDA6cy5zY3JvbGxIZWlnaHQpfHwwO3RoaXMuTHIubGFzdFNjcm9sbFk9TWF0aC5jZWlsKG4pLHRoaXMuTHIubWF4U2Nyb2xsWT1NYXRoLm1heChuLG51bGwhPT0odD10aGlzLkxyLm1heFNjcm9sbFkpJiZ2b2lkIDAhPT10P3Q6MCksdGhpcy5Mci5tYXhTY3JvbGxIZWlnaHQ9TWF0aC5tYXgobyxudWxsIT09KGk9dGhpcy5Mci5tYXhTY3JvbGxIZWlnaHQpJiZ2b2lkIDAhPT1pP2k6MCksdGhpcy5Mci5sYXN0Q29udGVudFk9YSx0aGlzLkxyLm1heENvbnRlbnRZPU1hdGgubWF4KGEsbnVsbCE9PShlPXRoaXMuTHIubWF4Q29udGVudFkpJiZ2b2lkIDAhPT1lP2U6MCksdGhpcy5Mci5tYXhDb250ZW50SGVpZ2h0PU1hdGgubWF4KGwsbnVsbCE9PShyPXRoaXMuTHIubWF4Q29udGVudEhlaWdodCkmJnZvaWQgMCE9PXI/cjowKX0sdGhpcy5faW5zdGFuY2U9dH1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuTHJ9cmVzZXRDb250ZXh0KCl7dmFyIHQ9dGhpcy5McjtyZXR1cm4gc2V0VGltZW91dCh0aGlzLmpyLDApLHR9c3RhcnRNZWFzdXJpbmdTY3JvbGxQb3NpdGlvbigpe3F0KHQsXCJzY3JvbGxcIix0aGlzLmpyLHtjYXB0dXJlOiEwfSkscXQodCxcInNjcm9sbGVuZFwiLHRoaXMuanIse2NhcHR1cmU6ITB9KSxxdCh0LFwicmVzaXplXCIsdGhpcy5qcil9c2Nyb2xsRWxlbWVudCgpe2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpcmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBpPVAodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKT90aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3I6W3RoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcl07Zm9yKHZhciBlIG9mIGkpe3ZhciByPW51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihyKXJldHVybiByfX1zY3JvbGxZKCl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgaT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gaSYmaS5zY3JvbGxUb3B8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFl8fHQucGFnZVlPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCl8fDB9c2Nyb2xsWCgpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcil7dmFyIGk9dGhpcy5zY3JvbGxFbGVtZW50KCk7cmV0dXJuIGkmJmkuc2Nyb2xsTGVmdHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWHx8dC5wYWdlWE9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl8fDB9fXZhciBvYT10PT5wbyhudWxsPT10P3ZvaWQgMDp0LmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxudWxsPT10P3ZvaWQgMDp0LmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKTtjbGFzcyBhYXtjb25zdHJ1Y3Rvcih0LGksZSxyKXt0aGlzLk5yPXQ9Pnt2YXIgaT10aGlzLlVyKCk7aWYoIWl8fGkuc2Vzc2lvbklkIT09dCl7dmFyIGU9e3Nlc3Npb25JZDp0LHByb3BzOnRoaXMuenIodGhpcy5faW5zdGFuY2UpfTt0aGlzLnFyLnJlZ2lzdGVyKHtbU2ldOmV9KX19LHRoaXMuX2luc3RhbmNlPXQsdGhpcy5Ccj1pLHRoaXMucXI9ZSx0aGlzLnpyPXJ8fG9hLHRoaXMuQnIub25TZXNzaW9uSWQodGhpcy5Ocil9VXIoKXtyZXR1cm4gdGhpcy5xci5wcm9wc1tTaV19Z2V0U2V0T25jZVByb3BzKCl7dmFyIHQsaT1udWxsPT0odD10aGlzLlVyKCkpP3ZvaWQgMDp0LnByb3BzO3JldHVybiBpP1wiclwiaW4gaT9nbyhpKTp7JHJlZmVycmluZ19kb21haW46aS5yZWZlcnJpbmdEb21haW4sJHBhdGhuYW1lOmkuaW5pdGlhbFBhdGhOYW1lLHV0bV9zb3VyY2U6aS51dG1fc291cmNlLHV0bV9jYW1wYWlnbjppLnV0bV9jYW1wYWlnbix1dG1fbWVkaXVtOmkudXRtX21lZGl1bSx1dG1fY29udGVudDppLnV0bV9jb250ZW50LHV0bV90ZXJtOmkudXRtX3Rlcm19Ont9fWdldFNlc3Npb25Qcm9wcygpe3ZhciB0PXt9O3JldHVybiBDdChqdCh0aGlzLmdldFNldE9uY2VQcm9wcygpKSwoKGksZSk9PntcIiRjdXJyZW50X3VybFwiPT09ZSYmKGU9XCJ1cmxcIiksdFtcIiRzZXNzaW9uX2VudHJ5X1wiK3coZSldPWl9KSksdH19dmFyIGxhPUV0KFwiW1Nlc3Npb25JZF1cIik7Y2xhc3MgdWF7b24odCxpKXtyZXR1cm4gdGhpcy5Ici5vbih0LGkpfWNvbnN0cnVjdG9yKHQsaSxlKXt2YXIgcjtpZih0aGlzLldyPVtdLHRoaXMuSHI9bmV3IHpvLHRoaXMuR3I9KHQsaSk9Pk1hdGguYWJzKHQtaSk+dGhpcy5zZXNzaW9uVGltZW91dE1zLCF0LnBlcnNpc3RlbmNlKXRocm93IG5ldyBFcnJvcihcIlNlc3Npb25JZE1hbmFnZXIgcmVxdWlyZXMgYSBQb3N0SG9nUGVyc2lzdGVuY2UgaW5zdGFuY2VcIik7aWYoXCJhbHdheXNcIj09PXQuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb25JZE1hbmFnZXIgY2Fubm90IGJlIHVzZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpO3RoaXMuQT10LmNvbmZpZyx0aGlzLnFyPXQucGVyc2lzdGVuY2UsdGhpcy5waT12b2lkIDAsdGhpcy5GdD12b2lkIDAsdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPW51bGwsdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPW51bGwsdGhpcy5Wcj1pfHxDZSx0aGlzLkpyPWV8fENlO3ZhciBzPXRoaXMuQS5wZXJzaXN0ZW5jZV9uYW1lfHx0aGlzLkEudG9rZW4sbj10aGlzLkEuc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc3x8MTgwMDtpZih0aGlzLl9zZXNzaW9uVGltZW91dE1zPTFlMypHKG4sNjAsMzZlMyxsYS5jcmVhdGVMb2dnZXIoXCJzZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzXCIpLDE4MDApLHQucmVnaXN0ZXIoeyRjb25maWd1cmVkX3Nlc3Npb25fdGltZW91dF9tczp0aGlzLl9zZXNzaW9uVGltZW91dE1zfSksdGhpcy5LcigpLHRoaXMuWXI9XCJwaF9cIitzK1wiX3dpbmRvd19pZFwiLHRoaXMuWHI9XCJwaF9cIitzK1wiX3ByaW1hcnlfd2luZG93X2V4aXN0c1wiLHRoaXMuUXIoKSl7dmFyIG89SGUuSyh0aGlzLllyKSxhPUhlLksodGhpcy5Ycik7byYmIWE/dGhpcy5waT1vOkhlLlgodGhpcy5ZciksSGUuWSh0aGlzLlhyLCEwKX1pZihudWxsIT0ocj10aGlzLkEuYm9vdHN0cmFwKSYmci5zZXNzaW9uSUQpdHJ5e3ZhciBsPSh0PT57dmFyIGk9dC5yZXBsYWNlKC8tL2csXCJcIik7aWYoMzIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBVVUlEXCIpO2lmKFwiN1wiIT09aVsxMl0pdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgVVVJRHY3XCIpO3JldHVybiBwYXJzZUludChpLnN1YnN0cmluZygwLDEyKSwxNil9KSh0aGlzLkEuYm9vdHN0cmFwLnNlc3Npb25JRCk7dGhpcy5acih0aGlzLkEuYm9vdHN0cmFwLnNlc3Npb25JRCwobmV3IERhdGUpLmdldFRpbWUoKSxsKX1jYXRjaCh0KXtsYS5lcnJvcihcIkludmFsaWQgc2Vzc2lvbklEIGluIGJvb3RzdHJhcFwiLHQpfXRoaXMudHMoKX1nZXQgc2Vzc2lvblRpbWVvdXRNcygpe3JldHVybiB0aGlzLl9zZXNzaW9uVGltZW91dE1zfW9uU2Vzc2lvbklkKHQpe3JldHVybiBDKHRoaXMuV3IpJiYodGhpcy5Xcj1bXSksdGhpcy5Xci5wdXNoKHQpLHRoaXMuRnQmJnQodGhpcy5GdCx0aGlzLnBpKSwoKT0+e3RoaXMuV3I9dGhpcy5Xci5maWx0ZXIoKGk9PmkhPT10KSl9fVFyKCl7cmV0dXJuXCJtZW1vcnlcIiE9PXRoaXMuQS5wZXJzaXN0ZW5jZSYmIXRoaXMucXIuamUmJkhlLkcoKX1lcyh0KXt0IT09dGhpcy5waSYmKHRoaXMucGk9dCx0aGlzLlFyKCkmJkhlLlkodGhpcy5Zcix0KSl9cnMoKXtyZXR1cm4gdGhpcy5waT90aGlzLnBpOnRoaXMuUXIoKT9IZS5LKHRoaXMuWXIpOm51bGx9WnIodCxpLGUpe3Q9PT10aGlzLkZ0JiZpPT09dGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZlPT09dGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wfHwodGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPWUsdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPWksdGhpcy5GdD10LHRoaXMucXIucmVnaXN0ZXIoe1t1aV06W2ksdCxlXX0pKX1zcygpe2lmKHRoaXMuRnQmJnRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wKXJldHVyblt0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAsdGhpcy5GdCx0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXBdO3ZhciB0PXRoaXMucXIucHJvcHNbdWldO3JldHVybiBQKHQpJiYyPT09dC5sZW5ndGgmJnQucHVzaCh0WzBdKSx0fHxbMCxudWxsLDBdfXJlc2V0U2Vzc2lvbklkKCl7dGhpcy5acihudWxsLG51bGwsbnVsbCl9dHMoKXtxdCh0LFwiYmVmb3JldW5sb2FkXCIsKCgpPT57dGhpcy5RcigpJiZIZS5YKHRoaXMuWHIpfSkse2NhcHR1cmU6ITF9KX1jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCh0LGkpe2lmKHZvaWQgMD09PXQmJih0PSExKSx2b2lkIDA9PT1pJiYoaT1udWxsKSxcImFsd2F5c1wiPT09dGhpcy5BLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoJ2NoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkIHNob3VsZCBub3QgYmUgY2FsbGVkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCInKTt2YXIgZT1pfHwobmV3IERhdGUpLmdldFRpbWUoKSxbcixzLG5dPXRoaXMuc3MoKSxvPXRoaXMucnMoKSxhPUQobikmJm4+MCYmTWF0aC5hYnMoZS1uKT44NjRlNSxsPSExLHU9IXMsaD0hdCYmdGhpcy5HcihlLHIpO3V8fGh8fGE/KHM9dGhpcy5WcigpLG89dGhpcy5KcigpLGxhLmluZm8oXCJuZXcgc2Vzc2lvbiBJRCBnZW5lcmF0ZWRcIix7c2Vzc2lvbklkOnMsd2luZG93SWQ6byxjaGFuZ2VSZWFzb246e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9fSksbj1lLGw9ITApOm98fChvPXRoaXMuSnIoKSxsPSEwKTt2YXIgZD0wPT09cnx8IXR8fGE/ZTpyLHY9MD09PW4/KG5ldyBEYXRlKS5nZXRUaW1lKCk6bjtyZXR1cm4gdGhpcy5lcyhvKSx0aGlzLlpyKHMsZCx2KSx0fHx0aGlzLktyKCksbCYmdGhpcy5Xci5mb3JFYWNoKCh0PT50KHMsbyxsP3tub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpoLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDApKSkse3Nlc3Npb25JZDpzLHdpbmRvd0lkOm8sc2Vzc2lvblN0YXJ0VGltZXN0YW1wOnYsY2hhbmdlUmVhc29uOmw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6cn19S3IoKXtjbGVhclRpbWVvdXQodGhpcy5ucyksdGhpcy5ucz1zZXRUaW1lb3V0KCgoKT0+e3Zhclt0XT10aGlzLnNzKCk7aWYodGhpcy5HcigobmV3IERhdGUpLmdldFRpbWUoKSx0KSl7dmFyIGk9dGhpcy5GdDt0aGlzLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5Ici5lbWl0KFwiZm9yY2VkSWRsZVJlc2V0XCIse2lkbGVTZXNzaW9uSWQ6aX0pfX0pLDEuMSp0aGlzLnNlc3Npb25UaW1lb3V0TXMpfX12YXIgaGE9W1wiJHNldF9vbmNlXCIsXCIkc2V0XCJdLGRhPUV0KFwiW1NpdGVBcHBzXVwiKTtjbGFzcyB2YXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10LHRoaXMub3M9W10sdGhpcy5hcHBzPXt9fWdldCBpc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5vcHRfaW5fc2l0ZV9hcHBzfWxzKHQsaSl7aWYoaSl7dmFyIGU9dGhpcy5nbG9iYWxzRm9yRXZlbnQoaSk7dGhpcy5vcy5wdXNoKGUpLHRoaXMub3MubGVuZ3RoPjFlMyYmKHRoaXMub3M9dGhpcy5vcy5zbGljZSgxMCkpfX1nZXQgc2l0ZUFwcExvYWRlcnMoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9di5fUE9TVEhPR19SRU1PVEVfQ09ORklHKXx8bnVsbD09KHQ9dFt0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW5dKT92b2lkIDA6dC5zaXRlQXBwc31pbml0KCl7aWYodGhpcy5pc0VuYWJsZWQpe3ZhciB0PXRoaXMuX2luc3RhbmNlLlllKHRoaXMubHMuYmluZCh0aGlzKSk7dGhpcy51cz0oKT0+e3QoKSx0aGlzLm9zPVtdLHRoaXMudXM9dm9pZCAwfX19Z2xvYmFsc0ZvckV2ZW50KHQpe3ZhciBpLGUscixzLG4sbyxhO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkV2ZW50IHBheWxvYWQgaXMgcmVxdWlyZWRcIik7dmFyIGw9e30sdT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkZ3JvdXBzXCIpfHxbXSxoPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiKXx8e307Zm9yKHZhcltkLHZdb2YgT2JqZWN0LmVudHJpZXMoaCkpbFtkXT17aWQ6dVtkXSx0eXBlOmQscHJvcGVydGllczp2fTt2YXJ7JHNldF9vbmNlOmMsJHNldDpmfT10O3JldHVybntldmVudDpnKHt9LF8odCxoYSkse3Byb3BlcnRpZXM6Zyh7fSx0LnByb3BlcnRpZXMsZj97JHNldDpnKHt9LG51bGwhPT0oaT1udWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRzZXQpJiZ2b2lkIDAhPT1pP2k6e30sZil9Ont9LGM/eyRzZXRfb25jZTpnKHt9LG51bGwhPT0ocj1udWxsPT0ocz10LnByb3BlcnRpZXMpP3ZvaWQgMDpzLiRzZXRfb25jZSkmJnZvaWQgMCE9PXI/cjp7fSxjKX06e30pLGVsZW1lbnRzX2NoYWluOm51bGwhPT0obj1udWxsPT0obz10LnByb3BlcnRpZXMpP3ZvaWQgMDpvLiRlbGVtZW50c19jaGFpbikmJnZvaWQgMCE9PW4/bjpcIlwiLGRpc3RpbmN0X2lkOm51bGw9PShhPXQucHJvcGVydGllcyk/dm9pZCAwOmEuZGlzdGluY3RfaWR9KSxwZXJzb246e3Byb3BlcnRpZXM6dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiKX0sZ3JvdXBzOmx9fXNldHVwU2l0ZUFwcCh0KXt2YXIgaT10aGlzLmFwcHNbdC5pZF0sZT0oKT0+e3ZhciBlOyghaS5lcnJvcmVkJiZ0aGlzLm9zLmxlbmd0aCYmKGRhLmluZm8oXCJQcm9jZXNzaW5nIFwiK3RoaXMub3MubGVuZ3RoK1wiIGV2ZW50cyBmb3Igc2l0ZSBhcHAgd2l0aCBpZCBcIit0LmlkKSx0aGlzLm9zLmZvckVhY2goKHQ9Pm51bGw9PWkucHJvY2Vzc0V2ZW50P3ZvaWQgMDppLnByb2Nlc3NFdmVudCh0KSkpLGkucHJvY2Vzc2VkQnVmZmVyPSEwKSxPYmplY3QudmFsdWVzKHRoaXMuYXBwcykuZXZlcnkoKHQ9PnQucHJvY2Vzc2VkQnVmZmVyfHx0LmVycm9yZWQpKSkmJihudWxsPT0oZT10aGlzLnVzKXx8ZS5jYWxsKHRoaXMpKX0scj0hMSxzPXM9PntpLmVycm9yZWQ9IXMsaS5sb2FkZWQ9ITAsZGEuaW5mbyhcIlNpdGUgYXBwIHdpdGggaWQgXCIrdC5pZCtcIiBcIisocz9cImxvYWRlZFwiOlwiZXJyb3JlZFwiKSksciYmZSgpfTt0cnl7dmFye3Byb2Nlc3NFdmVudDpufT10LmluaXQoe3Bvc3Rob2c6dGhpcy5faW5zdGFuY2UsY2FsbGJhY2s6dD0+e3ModCl9fSk7biYmKGkucHJvY2Vzc0V2ZW50PW4pLHI9ITB9Y2F0Y2goaSl7ZGEuZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdC5pZCxpKSxzKCExKX1pZihyJiZpLmxvYWRlZCl0cnl7ZSgpfWNhdGNoKGUpe2RhLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBidWZmZXJlZCBldmVudHMgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdC5pZCxlKSxpLmVycm9yZWQ9ITB9fWhzKCl7dmFyIHQ9dGhpcy5zaXRlQXBwTG9hZGVyc3x8W107Zm9yKHZhciBpIG9mIHQpdGhpcy5hcHBzW2kuaWRdPXtpZDppLmlkLGxvYWRlZDohMSxlcnJvcmVkOiExLHByb2Nlc3NlZEJ1ZmZlcjohMX07Zm9yKHZhciBlIG9mIHQpdGhpcy5zZXR1cFNpdGVBcHAoZSl9ZHModCl7aWYoMCE9PU9iamVjdC5rZXlzKHRoaXMuYXBwcykubGVuZ3RoKXt2YXIgaT10aGlzLmdsb2JhbHNGb3JFdmVudCh0KTtmb3IodmFyIGUgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmFwcHMpKXRyeXtudWxsPT1lLnByb2Nlc3NFdmVudHx8ZS5wcm9jZXNzRXZlbnQoaSl9Y2F0Y2goaSl7ZGEuZXJyb3IoXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGV2ZW50IFwiK3QuZXZlbnQrXCIgZm9yIHNpdGUgYXBwIFwiK2UuaWQsaSl9fX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaSxlLHIscz10aGlzO2lmKG51bGwhPShpPXRoaXMuc2l0ZUFwcExvYWRlcnMpJiZpLmxlbmd0aClyZXR1cm4gdGhpcy5pc0VuYWJsZWQ/KHRoaXMuaHMoKSx2b2lkIHRoaXMuX2luc3RhbmNlLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT50aGlzLmRzKHQpKSkpOnZvaWQgZGEuZXJyb3IoJ1Bvc3RIb2cgc2l0ZSBhcHBzIGFyZSBkaXNhYmxlZC4gRW5hYmxlIHRoZSBcIm9wdF9pbl9zaXRlX2FwcHNcIiBjb25maWcgdG8gcHJvY2VlZC4nKTtpZihudWxsPT0oZT10aGlzLnVzKXx8ZS5jYWxsKHRoaXMpLG51bGwhPShyPXQuc2l0ZUFwcHMpJiZyLmxlbmd0aClpZih0aGlzLmlzRW5hYmxlZCl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGk7dltcIl9fJCRwaF9zaXRlX2FwcF9cIit0XT1zLl9pbnN0YW5jZSxudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWkubG9hZFNpdGVBcHB8fGkubG9hZFNpdGVBcHAocy5faW5zdGFuY2UsYSwoaT0+e2lmKGkpcmV0dXJuIGRhLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiK3QsaSl9KSl9O2Zvcih2YXJ7aWQ6byx1cmw6YX1vZiB0LnNpdGVBcHBzKW4obyl9ZWxzZSBkYS5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpfX12YXIgY2E9W1wiYW1hem9uYm90XCIsXCJhbWF6b25wcm9kdWN0Ym90XCIsXCJhcHAuaHlwZWZhY3RvcnMuY29tXCIsXCJhcHBsZWJvdFwiLFwiYXJjaGl2ZS5vcmdfYm90XCIsXCJhd2FyaW9ib3RcIixcImJhY2tsaW5rc2V4dGVuZGVkYm90XCIsXCJiYWlkdXNwaWRlclwiLFwiYmluZ2JvdFwiLFwiYmluZ3ByZXZpZXdcIixcImNocm9tZS1saWdodGhvdXNlXCIsXCJkYXRhZm9yc2VvYm90XCIsXCJkZWVwc2NhblwiLFwiZHVja2R1Y2tib3RcIixcImZhY2Vib29rZXh0ZXJuYWxcIixcImZhY2Vib29rY2F0YWxvZ1wiLFwiaHR0cDovL3lhbmRleC5jb20vYm90c1wiLFwiaHVic3BvdFwiLFwiaWFfYXJjaGl2ZXJcIixcImxlaWtpYm90XCIsXCJsaW5rZWRpbmJvdFwiLFwibWV0YS1leHRlcm5hbGFnZW50XCIsXCJtajEyYm90XCIsXCJtc25ib3RcIixcIm5lc3N1c1wiLFwicGV0YWxib3RcIixcInBpbnRlcmVzdFwiLFwicHJlcmVuZGVyXCIsXCJyb2dlcmJvdFwiLFwic2NyZWFtaW5nIGZyb2dcIixcInNlYm90LXdhXCIsXCJzaXRlYnVsYlwiLFwic2xhY2tib3RcIixcInNsdXJwXCIsXCJ0cmVuZGljdGlvbmJvdFwiLFwidHVybml0aW5cIixcInR3aXR0ZXJib3RcIixcInZlcmNlbC1zY3JlZW5zaG90XCIsXCJ2ZXJjZWxib3RcIixcInlhaG9vISBzbHVycFwiLFwieWFuZGV4Ym90XCIsXCJ6b29tYm90XCIsXCJib3QuaHRtXCIsXCJib3QucGhwXCIsXCIoYm90O1wiLFwiYm90L1wiLFwiY3Jhd2xlclwiLFwiYWhyZWZzYm90XCIsXCJhaHJlZnNzaXRlYXVkaXRcIixcInNlbXJ1c2hib3RcIixcInNpdGVhdWRpdGJvdFwiLFwic3BsaXRzaWduYWxib3RcIixcImdwdGJvdFwiLFwib2FpLXNlYXJjaGJvdFwiLFwiY2hhdGdwdC11c2VyXCIsXCJwZXJwbGV4aXR5Ym90XCIsXCJiZXR0ZXIgdXB0aW1lIGJvdFwiLFwic2VudHJ5dXB0aW1lYm90XCIsXCJ1cHRpbWVyb2JvdFwiLFwiaGVhZGxlc3NjaHJvbWVcIixcImN5cHJlc3NcIixcImdvb2dsZS1ob3RlbGFkc3ZlcmlmaWVyXCIsXCJhZHNib3QtZ29vZ2xlXCIsXCJhcGlzLWdvb2dsZVwiLFwiZHVwbGV4d2ViLWdvb2dsZVwiLFwiZmVlZGZldGNoZXItZ29vZ2xlXCIsXCJnb29nbGUgZmF2aWNvblwiLFwiZ29vZ2xlIHdlYiBwcmV2aWV3XCIsXCJnb29nbGUtcmVhZC1hbG91ZFwiLFwiZ29vZ2xlYm90XCIsXCJnb29nbGVvdGhlclwiLFwiZ29vZ2xlLWNsb3VkdmVydGV4Ym90XCIsXCJnb29nbGV3ZWJsaWdodFwiLFwibWVkaWFwYXJ0bmVycy1nb29nbGVcIixcInN0b3JlYm90LWdvb2dsZVwiLFwiZ29vZ2xlLWluc3BlY3Rpb250b29sXCIsXCJieXRlc3BpZGVyXCJdLGZhPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuITE7dmFyIGU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiBjYS5jb25jYXQoaXx8W10pLnNvbWUoKHQ9Pnt2YXIgaT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuLTEhPT1lLmluZGV4T2YoaSl9KSl9LHBhPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuITE7dmFyIGU9dC51c2VyQWdlbnQ7aWYoZSYmZmEoZSxpKSlyZXR1cm4hMDt0cnl7dmFyIHI9bnVsbD09dD92b2lkIDA6dC51c2VyQWdlbnREYXRhO2lmKG51bGwhPXImJnIuYnJhbmRzJiZyLmJyYW5kcy5zb21lKCh0PT5mYShudWxsPT10P3ZvaWQgMDp0LmJyYW5kLGkpKSkpcmV0dXJuITB9Y2F0Y2godCl7fXJldHVybiEhdC53ZWJkcml2ZXJ9LGdhPWZ1bmN0aW9uKHQpe3JldHVybiB0LlVTPVwidXNcIix0LkVVPVwiZXVcIix0LkNVU1RPTT1cImN1c3RvbVwiLHR9KHt9KSxfYT1cImkucG9zdGhvZy5jb21cIjtjbGFzcyBtYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnZzPXt9LHRoaXMuaW5zdGFuY2U9dH1nZXQgYXBpSG9zdCgpe3ZhciB0PXRoaXMuaW5zdGFuY2UuY29uZmlnLmFwaV9ob3N0LnRyaW0oKS5yZXBsYWNlKC9cXC8kLyxcIlwiKTtyZXR1cm5cImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT10P1wiaHR0cHM6Ly91cy5pLnBvc3Rob2cuY29tXCI6dH1nZXQgdWlIb3N0KCl7dmFyIHQsaT1udWxsPT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy51aV9ob3N0KT92b2lkIDA6dC5yZXBsYWNlKC9cXC8kLyxcIlwiKTtyZXR1cm4gaXx8KGk9dGhpcy5hcGlIb3N0LnJlcGxhY2UoXCIuXCIrX2EsXCIucG9zdGhvZy5jb21cIikpLFwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PWk/XCJodHRwczovL3VzLnBvc3Rob2cuY29tXCI6aX1nZXQgcmVnaW9uKCl7cmV0dXJuIHRoaXMudnNbdGhpcy5hcGlIb3N0XXx8KC9odHRwczpcXC9cXC8oYXBwfHVzfHVzLWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLnZzW3RoaXMuYXBpSG9zdF09Z2EuVVM6L2h0dHBzOlxcL1xcLyhldXxldS1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy52c1t0aGlzLmFwaUhvc3RdPWdhLkVVOnRoaXMudnNbdGhpcy5hcGlIb3N0XT1nYS5DVVNUT00pLHRoaXMudnNbdGhpcy5hcGlIb3N0XX1lbmRwb2ludEZvcih0LGkpe2lmKHZvaWQgMD09PWkmJihpPVwiXCIpLGkmJihpPVwiL1wiPT09aVswXT9pOlwiL1wiK2kpLFwidWlcIj09PXQpcmV0dXJuIHRoaXMudWlIb3N0K2k7aWYodGhpcy5yZWdpb249PT1nYS5DVVNUT00pcmV0dXJuIHRoaXMuYXBpSG9zdCtpO3ZhciBlPV9hK2k7c3dpdGNoKHQpe2Nhc2VcImFzc2V0c1wiOnJldHVyblwiaHR0cHM6Ly9cIit0aGlzLnJlZ2lvbitcIi1hc3NldHMuXCIrZTtjYXNlXCJhcGlcIjpyZXR1cm5cImh0dHBzOi8vXCIrdGhpcy5yZWdpb24rXCIuXCIrZX19fXZhciB5YT17aWNvbnRhaW5zOihpLGUpPT4hIXQmJmUuaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaS50b0xvd2VyQ2FzZSgpKT4tMSxub3RfaWNvbnRhaW5zOihpLGUpPT4hIXQmJi0xPT09ZS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpLnRvTG93ZXJDYXNlKCkpLHJlZ2V4OihpLGUpPT4hIXQmJmVuKGUuaHJlZixpKSxub3RfcmVnZXg6KGksZSk9PiEhdCYmIWVuKGUuaHJlZixpKSxleGFjdDoodCxpKT0+aS5ocmVmPT09dCxpc19ub3Q6KHQsaSk9PmkuaHJlZiE9PXR9O2NsYXNzIGJhe2NvbnN0cnVjdG9yKHQpe3ZhciBpPXRoaXM7dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKSxpLmdldFdlYkV4cGVyaW1lbnRzKCh0PT57YmEuY3MoXCJyZXRyaWV2ZWQgd2ViIGV4cGVyaW1lbnRzIGZyb20gdGhlIHNlcnZlclwiKSxpLmZzPW5ldyBNYXAsdC5mb3JFYWNoKCh0PT57aWYodC5mZWF0dXJlX2ZsYWdfa2V5KXt2YXIgZTtpZihpLmZzKWJhLmNzKFwic2V0dGluZyBmbGFnIGtleSBcIix0LmZlYXR1cmVfZmxhZ19rZXksXCIgdG8gd2ViIGV4cGVyaW1lbnQgXCIsdCksbnVsbD09KGU9aS5mcyl8fGUuc2V0KHQuZmVhdHVyZV9mbGFnX2tleSx0KTt2YXIgcj1pLl9pbnN0YW5jZS5nZXRGZWF0dXJlRmxhZyh0LmZlYXR1cmVfZmxhZ19rZXkpO00ocikmJnQudmFyaWFudHNbcl0mJmkucHModC5uYW1lLHIsdC52YXJpYW50c1tyXS50cmFuc2Zvcm1zKX1lbHNlIGlmKHQudmFyaWFudHMpZm9yKHZhciBzIGluIHQudmFyaWFudHMpe3ZhciBuPXQudmFyaWFudHNbc107YmEuZ3MobikmJmkucHModC5uYW1lLHMsbi50cmFuc2Zvcm1zKX19KSl9KSx0KX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLl9pbnN0YW5jZS5vbkZlYXR1cmVGbGFncygodD0+e3RoaXMub25GZWF0dXJlRmxhZ3ModCl9KSl9b25GZWF0dXJlRmxhZ3ModCl7aWYodGhpcy5faXNfYm90KCkpYmEuY3MoXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik7ZWxzZSBpZighdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzKXtpZihBKHRoaXMuZnMpKXJldHVybiB0aGlzLmZzPW5ldyBNYXAsdGhpcy5sb2FkSWZFbmFibGVkKCksdm9pZCB0aGlzLnByZXZpZXdXZWJFeHBlcmltZW50KCk7YmEuY3MoXCJhcHBseWluZyBmZWF0dXJlIGZsYWdzXCIsdCksdC5mb3JFYWNoKCh0PT57dmFyIGk7aWYodGhpcy5mcyYmbnVsbCE9KGk9dGhpcy5mcykmJmkuaGFzKHQpKXt2YXIgZSxyPXRoaXMuX2luc3RhbmNlLmdldEZlYXR1cmVGbGFnKHQpLHM9bnVsbD09KGU9dGhpcy5mcyk/dm9pZCAwOmUuZ2V0KHQpO3ImJm51bGwhPXMmJnMudmFyaWFudHNbcl0mJnRoaXMucHMocy5uYW1lLHIscy52YXJpYW50c1tyXS50cmFuc2Zvcm1zKX19KSl9fXByZXZpZXdXZWJFeHBlcmltZW50KCl7dmFyIHQ9YmEuZ2V0V2luZG93TG9jYXRpb24oKTtpZihudWxsIT10JiZ0LnNlYXJjaCl7dmFyIGk9Z2UobnVsbD09dD92b2lkIDA6dC5zZWFyY2gsXCJfX2V4cGVyaW1lbnRfaWRcIiksZT1nZShudWxsPT10P3ZvaWQgMDp0LnNlYXJjaCxcIl9fZXhwZXJpbWVudF92YXJpYW50XCIpO2kmJmUmJihiYS5jcyhcInByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnRzIFwiK2krXCIgJiYgXCIrZSksdGhpcy5nZXRXZWJFeHBlcmltZW50cygodD0+e3RoaXMuX3MocGFyc2VJbnQoaSksZSx0KX0pLCExLCEwKSl9fWxvYWRJZkVuYWJsZWQoKXt0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHN8fHRoaXMuZ2V0V2ViRXhwZXJpbWVudHNBbmRFdmFsdWF0ZURpc3BsYXlMb2dpYygpfWdldFdlYkV4cGVyaW1lbnRzKHQsaSxlKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMmJiFlKXJldHVybiB0KFtdKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkd2ViX2V4cGVyaW1lbnRzXCIpO2lmKHImJiFpKXJldHVybiB0KHIpO3RoaXMuX2luc3RhbmNlLlRlKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS93ZWJfZXhwZXJpbWVudHMvP3Rva2VuPVwiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbiksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6aT0+e2lmKDIwMCE9PWkuc3RhdHVzQ29kZXx8IWkuanNvbilyZXR1cm4gdChbXSk7dmFyIGU9aS5qc29uLmV4cGVyaW1lbnRzfHxbXTtyZXR1cm4gdChlKX19KX1fcyh0LGksZSl7dmFyIHI9ZS5maWx0ZXIoKGk9PmkuaWQ9PT10KSk7ciYmci5sZW5ndGg+MCYmKGJhLmNzKFwiUHJldmlld2luZyB3ZWIgZXhwZXJpbWVudCBbXCIrclswXS5uYW1lK1wiXSB3aXRoIHZhcmlhbnQgW1wiK2krXCJdXCIpLHRoaXMucHMoclswXS5uYW1lLGksclswXS52YXJpYW50c1tpXS50cmFuc2Zvcm1zKSl9c3RhdGljIGdzKHQpe3JldHVybiFBKHQuY29uZGl0aW9ucykmJihiYS55cyh0KSYmYmEuYnModCkpfXN0YXRpYyB5cyh0KXt2YXIgaTtpZihBKHQuY29uZGl0aW9ucyl8fEEobnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS51cmwpKXJldHVybiEwO3ZhciBlLHIscyxuPWJhLmdldFdpbmRvd0xvY2F0aW9uKCk7cmV0dXJuISFuJiYobnVsbD09KGU9dC5jb25kaXRpb25zKXx8IWUudXJsfHx5YVtudWxsIT09KHI9bnVsbD09KHM9dC5jb25kaXRpb25zKT92b2lkIDA6cy51cmxNYXRjaFR5cGUpJiZ2b2lkIDAhPT1yP3I6XCJpY29udGFpbnNcIl0odC5jb25kaXRpb25zLnVybCxuKSl9c3RhdGljIGdldFdpbmRvd0xvY2F0aW9uKCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb259c3RhdGljIGJzKHQpe3ZhciBpO2lmKEEodC5jb25kaXRpb25zKXx8QShudWxsPT0oaT10LmNvbmRpdGlvbnMpP3ZvaWQgMDppLnV0bSkpcmV0dXJuITA7dmFyIGU9dW8oKTtpZihlLnV0bV9zb3VyY2Upe3ZhciByLHMsbixvLGEsbCx1LGgsZD1udWxsPT0ocj10LmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLnV0bSl8fCFyLnV0bV9jYW1wYWlnbnx8KG51bGw9PShzPXQuY29uZGl0aW9ucyl8fG51bGw9PShzPXMudXRtKT92b2lkIDA6cy51dG1fY2FtcGFpZ24pPT1lLnV0bV9jYW1wYWlnbix2PW51bGw9PShuPXQuY29uZGl0aW9ucyl8fG51bGw9PShuPW4udXRtKXx8IW4udXRtX3NvdXJjZXx8KG51bGw9PShvPXQuY29uZGl0aW9ucyl8fG51bGw9PShvPW8udXRtKT92b2lkIDA6by51dG1fc291cmNlKT09ZS51dG1fc291cmNlLGM9bnVsbD09KGE9dC5jb25kaXRpb25zKXx8bnVsbD09KGE9YS51dG0pfHwhYS51dG1fbWVkaXVtfHwobnVsbD09KGw9dC5jb25kaXRpb25zKXx8bnVsbD09KGw9bC51dG0pP3ZvaWQgMDpsLnV0bV9tZWRpdW0pPT1lLnV0bV9tZWRpdW0sZj1udWxsPT0odT10LmNvbmRpdGlvbnMpfHxudWxsPT0odT11LnV0bSl8fCF1LnV0bV90ZXJtfHwobnVsbD09KGg9dC5jb25kaXRpb25zKXx8bnVsbD09KGg9aC51dG0pP3ZvaWQgMDpoLnV0bV90ZXJtKT09ZS51dG1fdGVybTtyZXR1cm4gZCYmYyYmZiYmdn1yZXR1cm4hMX1zdGF0aWMgY3ModCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3h0LmluZm8oXCJbV2ViRXhwZXJpbWVudHNdIFwiK3QsZSl9cHModCxpLGUpe3RoaXMuX2lzX2JvdCgpP2JhLmNzKFwiUmVmdXNpbmcgdG8gcmVuZGVyIHdlYiBleHBlcmltZW50IHNpbmNlIHRoZSB2aWV3ZXIgaXMgYSBsaWtlbHkgYm90XCIpOlwiY29udHJvbFwiIT09aT9lLmZvckVhY2goKGU9PntpZihlLnNlbGVjdG9yKXt2YXIgcjtiYS5jcyhcImFwcGx5aW5nIHRyYW5zZm9ybSBvZiB2YXJpYW50IFwiK2krXCIgZm9yIGV4cGVyaW1lbnQgXCIrdCtcIiBcIixlKTt2YXIgcz1udWxsPT0ocj1kb2N1bWVudCk/dm9pZCAwOnIucXVlcnlTZWxlY3RvckFsbChlLnNlbGVjdG9yKTtudWxsPT1zfHxzLmZvckVhY2goKHQ9Pnt2YXIgaT10O2UuaHRtbCYmKGkuaW5uZXJIVE1MPWUuaHRtbCksZS5jc3MmJmkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixlLmNzcyl9KSl9fSkpOmJhLmNzKFwiQ29udHJvbCB2YXJpYW50cyBsZWF2ZSB0aGUgcGFnZSB1bm1vZGlmaWVkLlwiKX1faXNfYm90KCl7cmV0dXJuIG4mJnRoaXMuX2luc3RhbmNlP3BhKG4sdGhpcy5faW5zdGFuY2UuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH19dmFyIHdhPUV0KFwiW1Bvc3RIb2cgRXh0ZXJuYWxJbnRlZ3JhdGlvbnNdXCIpLFNhPXtpbnRlcmNvbTpcImludGVyY29tLWludGVncmF0aW9uXCIsY3Jpc3BDaGF0OlwiY3Jpc3AtY2hhdC1pbnRlZ3JhdGlvblwifTtjbGFzcyBrYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fW50KHQsaSl7dmFyIGU7bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSx0LCh0PT57aWYodClyZXR1cm4gd2EuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTtpKCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgdD10aGlzLGk9ZnVuY3Rpb24oaSl7dmFyIGUscyxuOyghcnx8bnVsbCE9KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZudWxsIT0oZT1lLmludGVncmF0aW9ucykmJmVbaV18fHQubnQoU2FbaV0sKCgpPT57dmFyIGU7bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0oZT1lLmludGVncmF0aW9ucyl8fG51bGw9PShlPWVbaV0pfHxlLnN0YXJ0KHQuX2luc3RhbmNlKX0pKSwhciYmbnVsbCE9KHM9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZudWxsIT0ocz1zLmludGVncmF0aW9ucykmJnNbaV0pJiYobnVsbD09KG49di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0obj1uLmludGVncmF0aW9ucyl8fG51bGw9PShuPW5baV0pfHxuLnN0b3AoKSl9O2Zvcih2YXJbZSxyXW9mIE9iamVjdC5lbnRyaWVzKG51bGwhPT0ocz10aGlzLl9pbnN0YW5jZS5jb25maWcuaW50ZWdyYXRpb25zKSYmdm9pZCAwIT09cz9zOnt9KSl7dmFyIHM7aShlKX19fXZhciAkYT1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLHhhPUV0KCRhKTtjbGFzcyBFYXtnZXQgc3RhcnRlZCgpe3ZhciB0O3JldHVybiEobnVsbD09KHQ9dGhpcy53cyl8fCF0LmlzU3RhcnRlZCl9Z2V0IHN0YXR1cygpe3ZhciB0O3JldHVybihudWxsPT0odD10aGlzLndzKT92b2lkIDA6dC5zdGF0dXMpfHxcImxhenlfbG9hZGluZ1wifWNvbnN0cnVjdG9yKHQpe2lmKHRoaXMuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZT0hMSx0aGlzLm5pPXZvaWQgMCx0aGlzLl9pbnN0YW5jZT10LCF0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyB4YS5lcnJvcihcInN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlclwiKSxuZXcgRXJyb3IoJGErXCIgc3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyLiBUaGlzIGlzIGEgYnVnLlwiKTtpZihcImFsd2F5c1wiPT09dGhpcy5faW5zdGFuY2UuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoJGErJyBjYW5ub3QgYmUgdXNlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyl9Z2V0IHF0KCl7dmFyIGksZT0hKG51bGw9PShpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh0aSkpfHwhaS5lbmFibGVkKSxyPSF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZyxzPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nfHx0aGlzLl9pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKTtyZXR1cm4gdCYmZSYmciYmIXN9c3RhcnRJZkVuYWJsZWRPclN0b3AodCl7dmFyIGk7aWYoIXRoaXMucXR8fG51bGw9PShpPXRoaXMud3MpfHwhaS5pc1N0YXJ0ZWQpe3ZhciBlPSFDKE9iamVjdC5hc3NpZ24pJiYhQyhBcnJheS5mcm9tKTt0aGlzLnF0JiZlPyh0aGlzLlNzKHQpLHhhLmluZm8oXCJzdGFydGluZ1wiKSk6dGhpcy5zdG9wUmVjb3JkaW5nKCl9fVNzKHQpe3ZhciBpLGUscjt0aGlzLnF0JiYobnVsbCE9diYmbnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZudWxsIT0oaT1pLnJyd2ViKSYmaS5yZWNvcmQmJm51bGwhPShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmZS5pbml0U2Vzc2lvblJlY29yZGluZz90aGlzLlBpKHQpOm51bGw9PShyPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ci5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxyLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsdGhpcy5SaSwoaT0+e2lmKGkpcmV0dXJuIHhhLmVycm9yKFwiY291bGQgbm90IGxvYWQgcmVjb3JkZXJcIixpKTt0aGlzLlBpKHQpfSkpKX1zdG9wUmVjb3JkaW5nKCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy53cyl8fHQuc3RvcCgpfWtpKCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHx0LnVucmVnaXN0ZXIoaGkpfUVpKHQpe2lmKHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXt2YXIgaSxlLHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Uscz0oKT0+e3ZhciBpPXQuc2Vzc2lvblJlY29yZGluZyxlPW51bGw9PWk/dm9pZCAwOmkuc2FtcGxlUmF0ZSxzPUEoZSk/bnVsbDpwYXJzZUZsb2F0KGUpO0EocykmJnRoaXMua2koKTt2YXIgbj1udWxsPT1pP3ZvaWQgMDppLm1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kcztyLnJlZ2lzdGVyKHtbdGldOmcoe2VuYWJsZWQ6ISFpfSxpLHtuZXR3b3JrUGF5bG9hZENhcHR1cmU6Zyh7Y2FwdHVyZVBlcmZvcm1hbmNlOnQuY2FwdHVyZVBlcmZvcm1hbmNlfSxudWxsPT1pP3ZvaWQgMDppLm5ldHdvcmtQYXlsb2FkQ2FwdHVyZSksY2FudmFzUmVjb3JkaW5nOntlbmFibGVkOm51bGw9PWk/dm9pZCAwOmkucmVjb3JkQ2FudmFzLGZwczpudWxsPT1pP3ZvaWQgMDppLmNhbnZhc0ZwcyxxdWFsaXR5Om51bGw9PWk/dm9pZCAwOmkuY2FudmFzUXVhbGl0eX0sc2FtcGxlUmF0ZTpzLG1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kczpDKG4pP251bGw6bixlbmRwb2ludDpudWxsPT1pP3ZvaWQgMDppLmVuZHBvaW50LHRyaWdnZXJNYXRjaFR5cGU6bnVsbD09aT92b2lkIDA6aS50cmlnZ2VyTWF0Y2hUeXBlLG1hc2tpbmc6bnVsbD09aT92b2lkIDA6aS5tYXNraW5nLHVybFRyaWdnZXJzOm51bGw9PWk/dm9pZCAwOmkudXJsVHJpZ2dlcnN9KX0pfTtzKCksbnVsbD09KGk9dGhpcy5uaSl8fGkuY2FsbCh0aGlzKSx0aGlzLm5pPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6ZS5vblNlc3Npb25JZChzKX19b25SZW1vdGVDb25maWcodCl7XCJzZXNzaW9uUmVjb3JkaW5nXCJpbiB0Pyh0aGlzLkVpKHQpLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSk6eGEuaW5mbyhcInNraXBwaW5nIHJlbW90ZSBjb25maWcgd2l0aCBubyBzZXNzaW9uUmVjb3JkaW5nXCIsdCl9bG9nKHQsaSl7dmFyIGU7dm9pZCAwPT09aSYmKGk9XCJsb2dcIiksbnVsbCE9KGU9dGhpcy53cykmJmUubG9nP3RoaXMud3MubG9nKHQsaSk6eGEud2FybihcImxvZyBjYWxsZWQgYmVmb3JlIHJlY29yZGVyIHdhcyByZWFkeVwiKX1nZXQgUmkoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0odD10LnBlcnNpc3RlbmNlKT92b2lkIDA6dC5nZXRfcHJvcGVydHkodGkpO3JldHVybihudWxsPT1lfHxudWxsPT0oaT1lLnNjcmlwdENvbmZpZyk/dm9pZCAwOmkuc2NyaXB0KXx8XCJsYXp5LXJlY29yZGVyXCJ9UGkodCl7dmFyIGksZTtpZihudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fCFpLmluaXRTZXNzaW9uUmVjb3JkaW5nKXRocm93IEVycm9yKFwiQ2FsbGVkIG9uIHNjcmlwdCBsb2FkZWQgYmVmb3JlIHNlc3Npb24gcmVjb3JkaW5nIGlzIGF2YWlsYWJsZVwiKTt0aGlzLndzfHwodGhpcy53cz1udWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyk/dm9pZCAwOmUuaW5pdFNlc3Npb25SZWNvcmRpbmcodGhpcy5faW5zdGFuY2UpLHRoaXMud3MuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZT10aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmUpO3RoaXMud3Muc3RhcnQodCl9b25SUndlYkVtaXQodCl7dmFyIGk7bnVsbD09KGk9dGhpcy53cyl8fG51bGw9PWkub25SUndlYkVtaXR8fGkub25SUndlYkVtaXQodCl9b3ZlcnJpZGVMaW5rZWRGbGFnKCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy53cyl8fHQub3ZlcnJpZGVMaW5rZWRGbGFnKCl9b3ZlcnJpZGVTYW1wbGluZygpe3ZhciB0O251bGw9PSh0PXRoaXMud3MpfHx0Lm92ZXJyaWRlU2FtcGxpbmcoKX1vdmVycmlkZVRyaWdnZXIodCl7dmFyIGk7bnVsbD09KGk9dGhpcy53cyl8fGkub3ZlcnJpZGVUcmlnZ2VyKHQpfWdldCBzZGtEZWJ1Z1Byb3BlcnRpZXMoKXt2YXIgdDtyZXR1cm4obnVsbD09KHQ9dGhpcy53cyk/dm9pZCAwOnQuc2RrRGVidWdQcm9wZXJ0aWVzKXx8eyRyZWNvcmRpbmdfc3RhdHVzOnRoaXMuc3RhdHVzfX10cnlBZGRDdXN0b21FdmVudCh0LGkpe3ZhciBlO3JldHVybiEobnVsbD09KGU9dGhpcy53cyl8fCFlLnRyeUFkZEN1c3RvbUV2ZW50KHQsaSkpfX12YXIgUGE9e30sUmE9KCk9Pnt9LElhPVwicG9zdGhvZ1wiLFRhPSFLcyYmLTE9PT0obnVsbD09ZD92b2lkIDA6ZC5pbmRleE9mKFwiTVNJRVwiKSkmJi0xPT09KG51bGw9PWQ/dm9pZCAwOmQuaW5kZXhPZihcIk1vemlsbGFcIikpLENhPWk9Pnt2YXIgZTtyZXR1cm57YXBpX2hvc3Q6XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIix1aV9ob3N0Om51bGwsdG9rZW46XCJcIixhdXRvY2FwdHVyZTohMCxyYWdlY2xpY2s6ITAsY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZTpVdChudWxsPT1vP3ZvaWQgMDpvLmxvY2F0aW9uKSxwZXJzaXN0ZW5jZTpcImxvY2FsU3RvcmFnZStjb29raWVcIixwZXJzaXN0ZW5jZV9uYW1lOlwiXCIsbG9hZGVkOlJhLHNhdmVfY2FtcGFpZ25fcGFyYW1zOiEwLGN1c3RvbV9jYW1wYWlnbl9wYXJhbXM6W10sY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50czpbXSxzYXZlX3JlZmVycmVyOiEwLGNhcHR1cmVfcGFnZXZpZXc6XCIyMDI1LTA1LTI0XCIhPT1pfHxcImhpc3RvcnlfY2hhbmdlXCIsY2FwdHVyZV9wYWdlbGVhdmU6XCJpZl9jYXB0dXJlX3BhZ2V2aWV3XCIsZGVmYXVsdHM6bnVsbCE9aT9pOlwidW5zZXRcIixkZWJ1ZzphJiZNKG51bGw9PWE/dm9pZCAwOmEuc2VhcmNoKSYmLTEhPT1hLnNlYXJjaC5pbmRleE9mKFwiX19wb3N0aG9nX2RlYnVnPXRydWVcIil8fCExLGNvb2tpZV9leHBpcmF0aW9uOjM2NSx1cGdyYWRlOiExLGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITEsZGlzYWJsZV9wZXJzaXN0ZW5jZTohMSxkaXNhYmxlX3dlYl9leHBlcmltZW50czohMCxkaXNhYmxlX3N1cnZleXM6ITEsZGlzYWJsZV9zdXJ2ZXlzX2F1dG9tYXRpY19kaXNwbGF5OiExLGRpc2FibGVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9sb2FkaW5nOiExLGVuYWJsZV9yZWNvcmRpbmdfY29uc29sZV9sb2c6dm9pZCAwLHNlY3VyZV9jb29raWU6XCJodHRwczpcIj09PShudWxsPT10fHxudWxsPT0oZT10LmxvY2F0aW9uKT92b2lkIDA6ZS5wcm90b2NvbCksaXA6ITEsb3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQ6ITEsb3B0X291dF91c2VyYWdlbnRfZmlsdGVyOiExLG9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU6XCJsb2NhbFN0b3JhZ2VcIixjb25zZW50X3BlcnNpc3RlbmNlX25hbWU6bnVsbCxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4Om51bGwsb3B0X2luX3NpdGVfYXBwczohMSxwcm9wZXJ0eV9kZW55bGlzdDpbXSxyZXNwZWN0X2RudDohMSxzYW5pdGl6ZV9wcm9wZXJ0aWVzOm51bGwscmVxdWVzdF9oZWFkZXJzOnt9LHJlcXVlc3RfYmF0Y2hpbmc6ITAscHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aDo2NTUzNSxzZXNzaW9uX3JlY29yZGluZzp7fSxtYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXM6ITEsbWFza19hbGxfdGV4dDohMSxtYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczohMSxjdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOltdLGFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M6ITEsYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGU6ITEsYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkOiExLGFkdmFuY2VkX29ubHlfZXZhbHVhdGVfc3VydmV5X2ZlYXR1cmVfZmxhZ3M6ITEsYWR2YW5jZWRfZW5hYmxlX3N1cnZleXM6ITEsYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3M6ITEsZmVhdHVyZV9mbGFnX3JlcXVlc3RfdGltZW91dF9tczozZTMsc3VydmV5c19yZXF1ZXN0X3RpbWVvdXRfbXM6MWU0LG9uX3JlcXVlc3RfZXJyb3I6dD0+e3ZhciBpPVwiQmFkIEhUVFAgc3RhdHVzOiBcIit0LnN0YXR1c0NvZGUrXCIgXCIrdC50ZXh0O3h0LmVycm9yKGkpfSxnZXRfZGV2aWNlX2lkOnQ9PnQsY2FwdHVyZV9wZXJmb3JtYW5jZTp2b2lkIDAsbmFtZTpcInBvc3Rob2dcIixib290c3RyYXA6e30sZGlzYWJsZV9jb21wcmVzc2lvbjohMSxzZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzOjE4MDAscGVyc29uX3Byb2ZpbGVzOlwiaWRlbnRpZmllZF9vbmx5XCIsYmVmb3JlX3NlbmQ6dm9pZCAwLHJlcXVlc3RfcXVldWVfY29uZmlnOntmbHVzaF9pbnRlcnZhbF9tczppYX0sZXJyb3JfdHJhY2tpbmc6e30sX29uQ2FwdHVyZTpSYSxfX3ByZXZpZXdfZWFnZXJfbG9hZF9yZXBsYXk6ITB9fSxNYT10PT57dmFyIGk9e307Qyh0LnByb2Nlc3NfcGVyc29uKXx8KGkucGVyc29uX3Byb2ZpbGVzPXQucHJvY2Vzc19wZXJzb24pLEModC54aHJfaGVhZGVycyl8fChpLnJlcXVlc3RfaGVhZGVycz10Lnhocl9oZWFkZXJzKSxDKHQuY29va2llX25hbWUpfHwoaS5wZXJzaXN0ZW5jZV9uYW1lPXQuY29va2llX25hbWUpLEModC5kaXNhYmxlX2Nvb2tpZSl8fChpLmRpc2FibGVfcGVyc2lzdGVuY2U9dC5kaXNhYmxlX2Nvb2tpZSksQyh0LnN0b3JlX2dvb2dsZSl8fChpLnNhdmVfY2FtcGFpZ25fcGFyYW1zPXQuc3RvcmVfZ29vZ2xlKSxDKHQudmVyYm9zZSl8fChpLmRlYnVnPXQudmVyYm9zZSk7dmFyIGU9TXQoe30saSx0KTtyZXR1cm4gUCh0LnByb3BlcnR5X2JsYWNrbGlzdCkmJihDKHQucHJvcGVydHlfZGVueWxpc3QpP2UucHJvcGVydHlfZGVueWxpc3Q9dC5wcm9wZXJ0eV9ibGFja2xpc3Q6UCh0LnByb3BlcnR5X2RlbnlsaXN0KT9lLnByb3BlcnR5X2RlbnlsaXN0PVsuLi50LnByb3BlcnR5X2JsYWNrbGlzdCwuLi50LnByb3BlcnR5X2RlbnlsaXN0XTp4dC5lcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHByb3BlcnR5X2RlbnlsaXN0IGNvbmZpZzogXCIrdC5wcm9wZXJ0eV9kZW55bGlzdCkpLGV9O2NsYXNzIE9he2NvbnN0cnVjdG9yKCl7dGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3Q9ITF9Z2V0IGtzKCl7cmV0dXJuIHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0fXNldCBrcyh0KXt4dC5lcnJvcihcIldlYlBlcmZvcm1hbmNlT2JzZXJ2ZXIgaXMgZGVwcmVjYXRlZCBhbmQgaGFzIG5vIGltcGFjdCBvbiBuZXR3b3JrIGNhcHR1cmUuIFVzZSBgX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZWAgb24gYHBvc3Rob2cuc2Vzc2lvblJlY29yZGluZ2BcIiksdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3Q9dH19Y2xhc3MgRmF7Z2V0IGRlY2lkZUVuZHBvaW50V2FzSGl0KCl7dmFyIHQsaTtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PShpPXRoaXMuZmVhdHVyZUZsYWdzKT92b2lkIDA6aS5oYXNMb2FkZWRGbGFncykmJnZvaWQgMCE9PXQmJnR9Z2V0IGZsYWdzRW5kcG9pbnRXYXNIaXQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDppLmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09dCYmdH1jb25zdHJ1Y3Rvcigpe3RoaXMud2ViUGVyZm9ybWFuY2U9bmV3IE9hLHRoaXMuJHM9ITEsdGhpcy52ZXJzaW9uPWMuTElCX1ZFUlNJT04sdGhpcy54cz1uZXcgem8sdGhpcy5fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXM9dGhpcy5jYWxjdWxhdGVFdmVudFByb3BlcnRpZXMuYmluZCh0aGlzKSx0aGlzLmNvbmZpZz1DYSgpLHRoaXMuU2VudHJ5SW50ZWdyYXRpb249T3MsdGhpcy5zZW50cnlJbnRlZ3JhdGlvbj10PT5mdW5jdGlvbih0LGkpe3ZhciBlPU1zKHQsaSk7cmV0dXJue25hbWU6Q3MscHJvY2Vzc0V2ZW50OnQ9PmUodCl9fSh0aGlzLHQpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX19sb2FkZWQ9ITEsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9XCIvZS9cIix0aGlzLkVzPSExLHRoaXMuUHM9bnVsbCx0aGlzLlJzPW51bGwsdGhpcy5Jcz1udWxsLHRoaXMuZmVhdHVyZUZsYWdzPW5ldyBJbyh0aGlzKSx0aGlzLnRvb2xiYXI9bmV3IExzKHRoaXMpLHRoaXMuc2Nyb2xsTWFuYWdlcj1uZXcgbmEodGhpcyksdGhpcy5wYWdlVmlld01hbmFnZXI9bmV3IFZzKHRoaXMpLHRoaXMuc3VydmV5cz1uZXcgWW8odGhpcyksdGhpcy5leHBlcmltZW50cz1uZXcgYmEodGhpcyksdGhpcy5leGNlcHRpb25zPW5ldyBhbih0aGlzKSx0aGlzLnJhdGVMaW1pdGVyPW5ldyBRbyh0aGlzKSx0aGlzLnJlcXVlc3RSb3V0ZXI9bmV3IG1hKHRoaXMpLHRoaXMuY29uc2VudD1uZXcgR2UodGhpcyksdGhpcy5leHRlcm5hbEludGVncmF0aW9ucz1uZXcga2EodGhpcyksdGhpcy5wZW9wbGU9e3NldDoodCxpLGUpPT57dmFyIHI9TSh0KT97W3RdOml9OnQ7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHIpLG51bGw9PWV8fGUoe30pfSxzZXRfb25jZToodCxpLGUpPT57dmFyIHI9TSh0KT97W3RdOml9OnQ7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHZvaWQgMCxyKSxudWxsPT1lfHxlKHt9KX19LHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9Pnh0LmluZm8oJ3NlbmQgXCInKyhudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSsnXCInLHQpKSl9aW5pdCh0LGksZSl7aWYoZSYmZSE9PUlhKXt2YXIgcixzPW51bGwhPT0ocj1QYVtlXSkmJnZvaWQgMCE9PXI/cjpuZXcgRmE7cmV0dXJuIHMuX2luaXQodCxpLGUpLFBhW2VdPXMsUGFbSWFdW2VdPXMsc31yZXR1cm4gdGhpcy5faW5pdCh0LGksZSl9X2luaXQoaSxlLHIpe3ZhciBzLG47aWYodm9pZCAwPT09ZSYmKGU9e30pLEMoaSl8fE8oaSkpcmV0dXJuIHh0LmNyaXRpY2FsKFwiUG9zdEhvZyB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIHRva2VuLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBtaXNjb25maWd1cmF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBwb3N0aG9nLmluaXQoKVwiKSx0aGlzO2lmKHRoaXMuX19sb2FkZWQpcmV0dXJuIHh0Lndhcm4oXCJZb3UgaGF2ZSBhbHJlYWR5IGluaXRpYWxpemVkIFBvc3RIb2chIFJlLWluaXRpYWxpemluZyBpcyBhIG5vLW9wXCIpLHRoaXM7dGhpcy5fX2xvYWRlZD0hMCx0aGlzLmNvbmZpZz17fSx0aGlzLlRzPWUsdGhpcy5Dcz1bXSxlLnBlcnNvbl9wcm9maWxlcyYmKHRoaXMuUnM9ZS5wZXJzb25fcHJvZmlsZXMpLHRoaXMuc2V0X2NvbmZpZyhNdCh7fSxDYShlLmRlZmF1bHRzKSxNYShlKSx7bmFtZTpyLHRva2VuOml9KSksdGhpcy5jb25maWcub25feGhyX2Vycm9yJiZ4dC5lcnJvcihcIm9uX3hocl9lcnJvciBpcyBkZXByZWNhdGVkLiBVc2Ugb25fcmVxdWVzdF9lcnJvciBpbnN0ZWFkXCIpLHRoaXMuY29tcHJlc3Npb249ZS5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDpkZS5HWmlwSlM7dmFyIG89dGhpcy5NcygpO3RoaXMucGVyc2lzdGVuY2U9bmV3IENvKHRoaXMuY29uZmlnLG8pLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgQ28oZyh7fSx0aGlzLmNvbmZpZyx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSksbyk7dmFyIGE9Zyh7fSx0aGlzLnBlcnNpc3RlbmNlLnByb3BzKSxsPWcoe30sdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcHMpO3RoaXMucmVnaXN0ZXIoeyRpbml0aWFsaXphdGlvbl90aW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0pLHRoaXMuT3M9bmV3IGVhKCh0PT50aGlzLkZzKHQpKSx0aGlzLmNvbmZpZy5yZXF1ZXN0X3F1ZXVlX2NvbmZpZyksdGhpcy5Bcz1uZXcgc2EodGhpcyksdGhpcy5fX3JlcXVlc3RfcXVldWU9W107dmFyIHU9XCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8XCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCk7aWYodXx8KHRoaXMuc2Vzc2lvbk1hbmFnZXI9bmV3IHVhKHRoaXMpLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj1uZXcgYWEodGhpcyx0aGlzLnNlc3Npb25NYW5hZ2VyLHRoaXMucGVyc2lzdGVuY2UpKSxuZXcgVXModGhpcykuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSx0aGlzLnNpdGVBcHBzPW5ldyB2YSh0aGlzKSxudWxsPT0ocz10aGlzLnNpdGVBcHBzKXx8cy5pbml0KCksdXx8KHRoaXMuY29uZmlnLl9fcHJldmlld19lYWdlcl9sb2FkX3JlcGxheT90aGlzLnNlc3Npb25SZWNvcmRpbmc9bmV3IFJzKHRoaXMpOnRoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgRWEodGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCkpLHRoaXMuY29uZmlnLmRpc2FibGVfc2Nyb2xsX3Byb3BlcnRpZXN8fHRoaXMuc2Nyb2xsTWFuYWdlci5zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCksdGhpcy5hdXRvY2FwdHVyZT1uZXcgJGUodGhpcyksdGhpcy5hdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksdGhpcy5oZWF0bWFwcz1uZXcgR3ModGhpcyksdGhpcy5oZWF0bWFwcy5zdGFydElmRW5hYmxlZCgpLHRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmU9bmV3IEJzKHRoaXMpLHRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXI9bmV3IFFlKHRoaXMpLHRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZT1uZXcgWWUodGhpcyxLZSksdGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLmhpc3RvcnlBdXRvY2FwdHVyZT1uZXcgdHIodGhpcyksdGhpcy5oaXN0b3J5QXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSxjLkRFQlVHPWMuREVCVUd8fHRoaXMuY29uZmlnLmRlYnVnLGMuREVCVUcmJnh0LmluZm8oXCJTdGFydGluZyBpbiBkZWJ1ZyBtb2RlXCIse3RoaXM6dGhpcyxjb25maWc6ZSx0aGlzQzpnKHt9LHRoaXMuY29uZmlnKSxwOmEsczpsfSksdm9pZCAwIT09KG51bGw9PShuPWUuYm9vdHN0cmFwKT92b2lkIDA6bi5kaXN0aW5jdElEKSl7dmFyIGgsZCx2PXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoQ2UoKSksZj1udWxsIT0oaD1lLmJvb3RzdHJhcCkmJmguaXNJZGVudGlmaWVkSUQ/djplLmJvb3RzdHJhcC5kaXN0aW5jdElEO3RoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KHdpLG51bGwhPShkPWUuYm9vdHN0cmFwKSYmZC5pc0lkZW50aWZpZWRJRD9cImlkZW50aWZpZWRcIjpcImFub255bW91c1wiKSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplLmJvb3RzdHJhcC5kaXN0aW5jdElELCRkZXZpY2VfaWQ6Zn0pfWlmKHRoaXMuRHMoKSl7dmFyIHAsXyxtPU9iamVjdC5rZXlzKChudWxsPT0ocD1lLmJvb3RzdHJhcCk/dm9pZCAwOnAuZmVhdHVyZUZsYWdzKXx8e30pLmZpbHRlcigodD0+e3ZhciBpO3JldHVybiEobnVsbD09KGk9ZS5ib290c3RyYXApfHxudWxsPT0oaT1pLmZlYXR1cmVGbGFncyl8fCFpW3RdKX0pKS5yZWR1Y2UoKCh0LGkpPT57dmFyIHI7cmV0dXJuIHRbaV09KG51bGw9PShyPWUuYm9vdHN0cmFwKXx8bnVsbD09KHI9ci5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDpyW2ldKXx8ITEsdH0pLHt9KSx5PU9iamVjdC5rZXlzKChudWxsPT0oXz1lLmJvb3RzdHJhcCk/dm9pZCAwOl8uZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHt9KS5maWx0ZXIoKHQ9Pm1bdF0pKS5yZWR1Y2UoKCh0LGkpPT57dmFyIHIscztudWxsIT0ocj1lLmJvb3RzdHJhcCkmJm51bGwhPShyPXIuZmVhdHVyZUZsYWdQYXlsb2FkcykmJnJbaV0mJih0W2ldPW51bGw9PShzPWUuYm9vdHN0cmFwKXx8bnVsbD09KHM9cy5mZWF0dXJlRmxhZ1BheWxvYWRzKT92b2lkIDA6c1tpXSk7cmV0dXJuIHR9KSx7fSk7dGhpcy5mZWF0dXJlRmxhZ3MucmVjZWl2ZWRGZWF0dXJlRmxhZ3Moe2ZlYXR1cmVGbGFnczptLGZlYXR1cmVGbGFnUGF5bG9hZHM6eX0pfWlmKHUpdGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDpJaSwkZGV2aWNlX2lkOm51bGx9LFwiXCIpO2Vsc2UgaWYoIXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCkpe3ZhciBiPXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoQ2UoKSk7dGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDpiLCRkZXZpY2VfaWQ6Yn0sXCJcIiksdGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkod2ksXCJhbm9ueW1vdXNcIil9cmV0dXJuIHF0KHQsXCJvbnBhZ2VoaWRlXCJpbiBzZWxmP1wicGFnZWhpZGVcIjpcInVubG9hZFwiLHRoaXMuX2hhbmRsZV91bmxvYWQuYmluZCh0aGlzKSx7cGFzc2l2ZTohMX0pLHRoaXMudG9vbGJhci5tYXliZUxvYWRUb29sYmFyKCksZS5zZWdtZW50P1RzKHRoaXMsKCgpPT50aGlzLmpzKCkpKTp0aGlzLmpzKCksUih0aGlzLmNvbmZpZy5fb25DYXB0dXJlKSYmdGhpcy5jb25maWcuX29uQ2FwdHVyZSE9PVJhJiYoeHQud2FybihcIm9uQ2FwdHVyZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBiZWZvcmVfc2VuZGAgaW5zdGVhZFwiKSx0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT50aGlzLmNvbmZpZy5fb25DYXB0dXJlKHQuZXZlbnQsdCkpKSksdGhpcy5jb25maWcuaXAmJnh0Lndhcm4oJ1RoZSBgaXBgIGNvbmZpZyBvcHRpb24gaGFzIE5PIEVGRkVDVCBBVCBBTEwgYW5kIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBhIGN1c3RvbSB0cmFuc2Zvcm1hdGlvbiBvciBcIkRpc2NhcmQgSVAgZGF0YVwiIHByb2plY3Qgc2V0dGluZyBpbnN0ZWFkLiBTZWUgaHR0cHM6Ly9wb3N0aG9nLmNvbS90dXRvcmlhbHMvd2ViLXJlZGFjdC1wcm9wZXJ0aWVzI2hpZGluZy1jdXN0b21lci1pcC1hZGRyZXNzIGZvciBtb3JlIGluZm9ybWF0aW9uLicpLHRoaXN9Q2UodCl7dmFyIGksZSxyLHMsbixhLGwsdTtpZighb3x8IW8uYm9keSlyZXR1cm4geHQuaW5mbyhcImRvY3VtZW50IG5vdCByZWFkeSB5ZXQsIHRyeWluZyBhZ2FpbiBpbiA1MDAgbWlsbGlzZWNvbmRzLi4uXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLkNlKHQpfSksNTAwKTt0aGlzLmNvbXByZXNzaW9uPXZvaWQgMCx0LnN1cHBvcnRlZENvbXByZXNzaW9uJiYhdGhpcy5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbiYmKHRoaXMuY29tcHJlc3Npb249eSh0LnN1cHBvcnRlZENvbXByZXNzaW9uLGRlLkdaaXBKUyk/ZGUuR1ppcEpTOnkodC5zdXBwb3J0ZWRDb21wcmVzc2lvbixkZS5CYXNlNjQpP2RlLkJhc2U2NDp2b2lkIDApLG51bGwhPShpPXQuYW5hbHl0aWNzKSYmaS5lbmRwb2ludCYmKHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50PXQuYW5hbHl0aWNzLmVuZHBvaW50KSx0aGlzLnNldF9jb25maWcoe3BlcnNvbl9wcm9maWxlczp0aGlzLlJzP3RoaXMuUnM6XCJpZGVudGlmaWVkX29ubHlcIn0pLG51bGw9PShlPXRoaXMuc2l0ZUFwcHMpfHxlLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShyPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHIub25SZW1vdGVDb25maWcodCksbnVsbD09KHM9dGhpcy5hdXRvY2FwdHVyZSl8fHMub25SZW1vdGVDb25maWcodCksbnVsbD09KG49dGhpcy5oZWF0bWFwcyl8fG4ub25SZW1vdGVDb25maWcodCksdGhpcy5zdXJ2ZXlzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShhPXRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmUpfHxhLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShsPXRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIpfHxsLm9uUmVtb3RlQ29uZmlnKHQpLHRoaXMuZXhjZXB0aW9ucy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0odT10aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZSl8fHUub25SZW1vdGVDb25maWcodCl9anMoKXt0cnl7dGhpcy5jb25maWcubG9hZGVkKHRoaXMpfWNhdGNoKHQpe3h0LmNyaXRpY2FsKFwiYGxvYWRlZGAgZnVuY3Rpb24gZmFpbGVkXCIsdCl9dGhpcy5McygpLHRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnNldFRpbWVvdXQoKCgpPT57KHRoaXMuY29uc2VudC5pc09wdGVkSW4oKXx8XCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSkmJnRoaXMuTnMoKX0pLDEpLG5ldyB0YSh0aGlzKS5sb2FkKCksdGhpcy5mZWF0dXJlRmxhZ3MuZmxhZ3MoKX1Mcygpe3ZhciB0O3RoaXMuaXNfY2FwdHVyaW5nKCkmJih0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nJiYobnVsbD09KHQ9dGhpcy5Pcyl8fHQuZW5hYmxlKCkpKX1fZG9tX2xvYWRlZCgpe3RoaXMuaXNfY2FwdHVyaW5nKCkmJlR0KHRoaXMuX19yZXF1ZXN0X3F1ZXVlLCh0PT50aGlzLkZzKHQpKSksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5McygpfV9oYW5kbGVfdW5sb2FkKCl7dmFyIHQsaTt0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nPyh0aGlzLlVzKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIiksbnVsbD09KHQ9dGhpcy5Pcyl8fHQudW5sb2FkKCksbnVsbD09KGk9dGhpcy5Bcyl8fGkudW5sb2FkKCkpOnRoaXMuVXMoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiLG51bGwse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pfVRlKHQpe3RoaXMuX19sb2FkZWQmJihUYT90aGlzLl9fcmVxdWVzdF9xdWV1ZS5wdXNoKHQpOnRoaXMucmF0ZUxpbWl0ZXIuaXNTZXJ2ZXJSYXRlTGltaXRlZCh0LmJhdGNoS2V5KXx8KHQudHJhbnNwb3J0PXQudHJhbnNwb3J0fHx0aGlzLmNvbmZpZy5hcGlfdHJhbnNwb3J0LHQudXJsPVhzKHQudXJsLHtpcDp0aGlzLmNvbmZpZy5pcD8xOjB9KSx0LmhlYWRlcnM9Zyh7fSx0aGlzLmNvbmZpZy5yZXF1ZXN0X2hlYWRlcnMpLHQuY29tcHJlc3Npb249XCJiZXN0LWF2YWlsYWJsZVwiPT09dC5jb21wcmVzc2lvbj90aGlzLmNvbXByZXNzaW9uOnQuY29tcHJlc3Npb24sdC5kaXNhYmxlWEhSQ3JlZGVudGlhbHM9dGhpcy5jb25maWcuX19wcmV2aWV3X2Rpc2FibGVfeGhyX2NyZWRlbnRpYWxzLHRoaXMuY29uZmlnLl9fcHJldmlld19kaXNhYmxlX2JlYWNvbiYmKHQuZGlzYWJsZVRyYW5zcG9ydD1bXCJzZW5kQmVhY29uXCJdKSx0LmZldGNoT3B0aW9ucz10LmZldGNoT3B0aW9uc3x8dGhpcy5jb25maWcuZmV0Y2hfb3B0aW9ucywodD0+e3ZhciBpLGUscixzPWcoe30sdCk7cy50aW1lb3V0PXMudGltZW91dHx8NmU0LHMudXJsPVhzKHMudXJsLHtfOihuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksdmVyOmMuTElCX1ZFUlNJT04sY29tcHJlc3Npb246cy5jb21wcmVzc2lvbn0pO3ZhciBuPW51bGwhPT0oaT1zLnRyYW5zcG9ydCkmJnZvaWQgMCE9PWk/aTpcImZldGNoXCIsbz10bi5maWx0ZXIoKHQ9PiFzLmRpc2FibGVUcmFuc3BvcnR8fCF0LnRyYW5zcG9ydHx8IXMuZGlzYWJsZVRyYW5zcG9ydC5pbmNsdWRlcyh0LnRyYW5zcG9ydCkpKSxhPW51bGwhPT0oZT1udWxsPT0ocj16dChvLCh0PT50LnRyYW5zcG9ydD09PW4pKSk/dm9pZCAwOnIubWV0aG9kKSYmdm9pZCAwIT09ZT9lOm9bMF0ubWV0aG9kO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIk5vIGF2YWlsYWJsZSB0cmFuc3BvcnQgbWV0aG9kXCIpO2Eocyl9KShnKHt9LHQse2NhbGxiYWNrOmk9Pnt2YXIgZSxyOyh0aGlzLnJhdGVMaW1pdGVyLmNoZWNrRm9yTGltaXRpbmcoaSksaS5zdGF0dXNDb2RlPj00MDApJiYobnVsbD09KGU9KHI9dGhpcy5jb25maWcpLm9uX3JlcXVlc3RfZXJyb3IpfHxlLmNhbGwocixpKSk7bnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayhpKX19KSkpKX1Gcyh0KXt0aGlzLkFzP3RoaXMuQXMucmV0cmlhYmxlUmVxdWVzdCh0KTp0aGlzLlRlKHQpfV9leGVjdXRlX2FycmF5KHQpe3ZhciBpLGU9W10scj1bXSxzPVtdO1R0KHQsKHQ9Pnt0JiYoaT10WzBdLFAoaSk/cy5wdXNoKHQpOlIodCk/dC5jYWxsKHRoaXMpOlAodCkmJlwiYWxpYXNcIj09PWk/ZS5wdXNoKHQpOlAodCkmJi0xIT09aS5pbmRleE9mKFwiY2FwdHVyZVwiKSYmUih0aGlzW2ldKT9zLnB1c2godCk6ci5wdXNoKHQpKX0pKTt2YXIgbj1mdW5jdGlvbih0LGkpe1R0KHQsKGZ1bmN0aW9uKHQpe2lmKFAodFswXSkpe3ZhciBlPWk7Q3QodCwoZnVuY3Rpb24odCl7ZT1lW3RbMF1dLmFwcGx5KGUsdC5zbGljZSgxKSl9KSl9ZWxzZSB0aGlzW3RbMF1dLmFwcGx5KHRoaXMsdC5zbGljZSgxKSl9KSxpKX07bihlLHRoaXMpLG4ocix0aGlzKSxuKHMsdGhpcyl9RHMoKXt2YXIgdCxpO3JldHVybihudWxsPT0odD10aGlzLmNvbmZpZy5ib290c3RyYXApP3ZvaWQgMDp0LmZlYXR1cmVGbGFncykmJk9iamVjdC5rZXlzKG51bGw9PShpPXRoaXMuY29uZmlnLmJvb3RzdHJhcCk/dm9pZCAwOmkuZmVhdHVyZUZsYWdzKS5sZW5ndGg+MHx8ITF9cHVzaCh0KXt0aGlzLl9leGVjdXRlX2FycmF5KFt0XSl9Y2FwdHVyZSh0LGksZSl7dmFyIHI7aWYodGhpcy5fX2xvYWRlZCYmdGhpcy5wZXJzaXN0ZW5jZSYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UmJnRoaXMuT3Mpe2lmKHRoaXMuaXNfY2FwdHVyaW5nKCkpaWYoIUModCkmJk0odCkpe2lmKHRoaXMuY29uZmlnLm9wdF9vdXRfdXNlcmFnZW50X2ZpbHRlcnx8IXRoaXMuX2lzX2JvdCgpKXt2YXIgcz1udWxsIT1lJiZlLnNraXBfY2xpZW50X3JhdGVfbGltaXRpbmc/dm9pZCAwOnRoaXMucmF0ZUxpbWl0ZXIuY2xpZW50UmF0ZUxpbWl0Q29udGV4dCgpO2lmKG51bGw9PXN8fCFzLmlzUmF0ZUxpbWl0ZWQpe251bGwhPWkmJmkuJGN1cnJlbnRfdXJsJiYhTShudWxsPT1pP3ZvaWQgMDppLiRjdXJyZW50X3VybCkmJih4dC5lcnJvcihcIkludmFsaWQgYCRjdXJyZW50X3VybGAgcHJvcGVydHkgcHJvdmlkZWQgdG8gYHBvc3Rob2cuY2FwdHVyZWAuIElucHV0IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIHByb3ZpZGVkIHZhbHVlLlwiKSxudWxsPT1pfHxkZWxldGUgaS4kY3VycmVudF91cmwpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpLHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCksdGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlciYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3JlZmVycmVyX2luZm8oKSwodGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXN8fHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXIpJiZ0aGlzLnBlcnNpc3RlbmNlLnNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCk7dmFyIG49bmV3IERhdGUsbz0obnVsbD09ZT92b2lkIDA6ZS50aW1lc3RhbXApfHxuLGE9Q2UoKSxsPXt1dWlkOmEsZXZlbnQ6dCxwcm9wZXJ0aWVzOnRoaXMuY2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzKHQsaXx8e30sbyxhKX07cyYmKGwucHJvcGVydGllcy4kbGliX3JhdGVfbGltaXRfcmVtYWluaW5nX3Rva2Vucz1zLnJlbWFpbmluZ1Rva2VucyksKG51bGw9PWU/dm9pZCAwOmUuJHNldCkmJihsLiRzZXQ9bnVsbD09ZT92b2lkIDA6ZS4kc2V0KTt2YXIgdSxoPXRoaXMuenMobnVsbD09ZT92b2lkIDA6ZS4kc2V0X29uY2UpO2lmKGgmJihsLiRzZXRfb25jZT1oKSwobD1MdChsLG51bGwhPWUmJmUuX25vVHJ1bmNhdGU/bnVsbDp0aGlzLmNvbmZpZy5wcm9wZXJ0aWVzX3N0cmluZ19tYXhfbGVuZ3RoKSkudGltZXN0YW1wPW8sQyhudWxsPT1lP3ZvaWQgMDplLnRpbWVzdGFtcCl8fChsLnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfcHJvdmlkZWQ9ITAsbC5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3N5c3RlbV90aW1lPW4pLHQ9PT1Mby5ESVNNSVNTRUR8fHQ9PT1Mby5TRU5UKXt2YXIgZD1udWxsPT1pP3ZvaWQgMDppW05vLlNVUlZFWV9JRF0sdj1udWxsPT1pP3ZvaWQgMDppW05vLlNVUlZFWV9JVEVSQVRJT05dO3U9e2lkOmQsY3VycmVudF9pdGVyYXRpb246dn0sbG9jYWxTdG9yYWdlLmdldEl0ZW0oR28odSkpfHxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShHbyh1KSxcInRydWVcIiksbC4kc2V0PWcoe30sbC4kc2V0LHtbV28oe2lkOmQsY3VycmVudF9pdGVyYXRpb246dn0sdD09PUxvLlNFTlQ/XCJyZXNwb25kZWRcIjpcImRpc21pc3NlZFwiKV06ITB9KX12YXIgYz1nKHt9LGwucHJvcGVydGllcy4kc2V0LGwuJHNldCk7aWYoVChjKXx8dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoYyksIUEodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXt2YXIgZj10aGlzLnFzKGwpO2lmKCFmKXJldHVybjtsPWZ9dGhpcy54cy5lbWl0KFwiZXZlbnRDYXB0dXJlZFwiLGwpO3ZhciBwPXttZXRob2Q6XCJQT1NUXCIsdXJsOm51bGwhPT0ocj1udWxsPT1lP3ZvaWQgMDplLl91cmwpJiZ2b2lkIDAhPT1yP3I6dGhpcy5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQpLGRhdGE6bCxjb21wcmVzc2lvbjpcImJlc3QtYXZhaWxhYmxlXCIsYmF0Y2hLZXk6bnVsbD09ZT92b2lkIDA6ZS5fYmF0Y2hLZXl9O3JldHVybiF0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nfHxlJiYobnVsbD09ZXx8IWUuX2JhdGNoS2V5KXx8bnVsbCE9ZSYmZS5zZW5kX2luc3RhbnRseT90aGlzLkZzKHApOnRoaXMuT3MuZW5xdWV1ZShwKSxsfXh0LmNyaXRpY2FsKFwiVGhpcyBjYXB0dXJlIGNhbGwgaXMgaWdub3JlZCBkdWUgdG8gY2xpZW50IHJhdGUgbGltaXRpbmcuXCIpfX1lbHNlIHh0LmVycm9yKFwiTm8gZXZlbnQgbmFtZSBwcm92aWRlZCB0byBwb3N0aG9nLmNhcHR1cmVcIil9ZWxzZSB4dC51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuY2FwdHVyZVwiKX1ZZSh0KXtyZXR1cm4gdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwoaT0+dChpLmV2ZW50LGkpKSl9Y2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzKHQsaSxlLHIscyl7aWYoZT1lfHxuZXcgRGF0ZSwhdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXJldHVybiBpO3ZhciBuPXM/dm9pZCAwOnRoaXMucGVyc2lzdGVuY2UucmVtb3ZlX2V2ZW50X3RpbWVyKHQpLGE9Zyh7fSxpKTtpZihhLnRva2VuPXRoaXMuY29uZmlnLnRva2VuLGEuJGNvbmZpZ19kZWZhdWx0cz10aGlzLmNvbmZpZy5kZWZhdWx0cywoXCJhbHdheXNcIj09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlfHxcIm9uX3JlamVjdFwiPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpKSYmKGEuJGNvb2tpZWxlc3NfbW9kZT0hMCksXCIkc25hcHNob3RcIj09PXQpe3ZhciBsPWcoe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcGVydGllcygpKTtyZXR1cm4gYS5kaXN0aW5jdF9pZD1sLmRpc3RpbmN0X2lkLCghTShhLmRpc3RpbmN0X2lkKSYmIUQoYS5kaXN0aW5jdF9pZCl8fE8oYS5kaXN0aW5jdF9pZCkpJiZ4dC5lcnJvcihcIkludmFsaWQgZGlzdGluY3RfaWQgZm9yIHJlcGxheSBldmVudC4gVGhpcyBpbmRpY2F0ZXMgYSBidWcgaW4geW91ciBpbXBsZW1lbnRhdGlvblwiKSxhfXZhciB1LGg9eW8odGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsdGhpcy5jb25maWcuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyk7aWYodGhpcy5zZXNzaW9uTWFuYWdlcil7dmFye3Nlc3Npb25JZDp2LHdpbmRvd0lkOmN9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQocyxlLmdldFRpbWUoKSk7YS4kc2Vzc2lvbl9pZD12LGEuJHdpbmRvd19pZD1jfXRoaXMuc2Vzc2lvblByb3BzTWFuYWdlciYmTXQoYSx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXIuZ2V0U2Vzc2lvblByb3BzKCkpO3RyeXt2YXIgZjt0aGlzLnNlc3Npb25SZWNvcmRpbmcmJk10KGEsdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnNka0RlYnVnUHJvcGVydGllcyksYS4kc2RrX2RlYnVnX3JldHJ5X3F1ZXVlX3NpemU9bnVsbD09KGY9dGhpcy5Bcyk/dm9pZCAwOmYubGVuZ3RofWNhdGNoKHQpe2EuJHNka19kZWJ1Z19lcnJvcl9jYXB0dXJpbmdfcHJvcGVydGllcz1TdHJpbmcodCl9aWYodGhpcy5yZXF1ZXN0Um91dGVyLnJlZ2lvbj09PWdhLkNVU1RPTSYmKGEuJGxpYl9jdXN0b21fYXBpX2hvc3Q9dGhpcy5jb25maWcuYXBpX2hvc3QpLHU9XCIkcGFnZXZpZXdcIiE9PXR8fHM/XCIkcGFnZWxlYXZlXCIhPT10fHxzP3RoaXMucGFnZVZpZXdNYW5hZ2VyLmRvRXZlbnQoKTp0aGlzLnBhZ2VWaWV3TWFuYWdlci5kb1BhZ2VMZWF2ZShlKTp0aGlzLnBhZ2VWaWV3TWFuYWdlci5kb1BhZ2VWaWV3KGUsciksYT1NdChhLHUpLFwiJHBhZ2V2aWV3XCI9PT10JiZvJiYoYS50aXRsZT1vLnRpdGxlKSwhQyhuKSl7dmFyIHA9ZS5nZXRUaW1lKCktbjthLiRkdXJhdGlvbj1wYXJzZUZsb2F0KChwLzFlMykudG9GaXhlZCgzKSl9ZCYmdGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyJiYoYS4kYnJvd3Nlcl90eXBlPXRoaXMuX2lzX2JvdCgpP1wiYm90XCI6XCJicm93c2VyXCIpLChhPU10KHt9LGgsdGhpcy5wZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcGVydGllcygpLGEpKS4kaXNfaWRlbnRpZmllZD10aGlzLl9pc0lkZW50aWZpZWQoKSxQKHRoaXMuY29uZmlnLnByb3BlcnR5X2RlbnlsaXN0KT9DdCh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCwoZnVuY3Rpb24odCl7ZGVsZXRlIGFbdF19KSk6eHQuZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK3RoaXMuY29uZmlnLnByb3BlcnR5X2RlbnlsaXN0K1wiIG9yIHByb3BlcnR5X2JsYWNrbGlzdCBjb25maWc6IFwiK3RoaXMuY29uZmlnLnByb3BlcnR5X2JsYWNrbGlzdCk7dmFyIF89dGhpcy5jb25maWcuc2FuaXRpemVfcHJvcGVydGllcztfJiYoeHQuZXJyb3IoXCJzYW5pdGl6ZV9wcm9wZXJ0aWVzIGlzIGRlcHJlY2F0ZWQuIFVzZSBiZWZvcmVfc2VuZCBpbnN0ZWFkXCIpLGE9XyhhLHQpKTt2YXIgbT10aGlzLkJzKCk7cmV0dXJuIGEuJHByb2Nlc3NfcGVyc29uX3Byb2ZpbGU9bSxtJiYhcyYmdGhpcy5IcyhcIl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllc1wiKSxhfXpzKHQpe3ZhciBpO2lmKCF0aGlzLnBlcnNpc3RlbmNlfHwhdGhpcy5CcygpKXJldHVybiB0O2lmKHRoaXMuJHMpcmV0dXJuIHQ7dmFyIGU9dGhpcy5wZXJzaXN0ZW5jZS5nZXRfaW5pdGlhbF9wcm9wcygpLHI9bnVsbD09KGk9dGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyKT92b2lkIDA6aS5nZXRTZXRPbmNlUHJvcHMoKSxzPU10KHt9LGUscnx8e30sdHx8e30pLG49dGhpcy5jb25maWcuc2FuaXRpemVfcHJvcGVydGllcztyZXR1cm4gbiYmKHh0LmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxzPW4ocyxcIiRzZXRfb25jZVwiKSksdGhpcy4kcz0hMCxUKHMpP3ZvaWQgMDpzfXJlZ2lzdGVyKHQsaSl7dmFyIGU7bnVsbD09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fGUucmVnaXN0ZXIodCxpKX1yZWdpc3Rlcl9vbmNlKHQsaSxlKXt2YXIgcjtudWxsPT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8ci5yZWdpc3Rlcl9vbmNlKHQsaSxlKX1yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih0KXt2YXIgaTtudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fGkucmVnaXN0ZXIodCl9dW5yZWdpc3Rlcih0KXt2YXIgaTtudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8aS51bnJlZ2lzdGVyKHQpfXVucmVnaXN0ZXJfZm9yX3Nlc3Npb24odCl7dmFyIGk7bnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxpLnVucmVnaXN0ZXIodCl9V3ModCxpKXt0aGlzLnJlZ2lzdGVyKHtbdF06aX0pfWdldEZlYXR1cmVGbGFnKHQsaSl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmdldEZlYXR1cmVGbGFnKHQsaSl9Z2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpe3ZhciBpPXRoaXMuZmVhdHVyZUZsYWdzLmdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KTt0cnl7cmV0dXJuIEpTT04ucGFyc2UoaSl9Y2F0Y2godCl7cmV0dXJuIGl9fWlzRmVhdHVyZUVuYWJsZWQodCxpKXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuaXNGZWF0dXJlRW5hYmxlZCh0LGkpfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuZmVhdHVyZUZsYWdzLnJlbG9hZEZlYXR1cmVGbGFncygpfXVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQodCxpLGUpe3RoaXMuZmVhdHVyZUZsYWdzLnVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQodCxpLGUpfWdldEVhcmx5QWNjZXNzRmVhdHVyZXModCxpLGUpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RWFybHlBY2Nlc3NGZWF0dXJlcyh0LGksZSl9b24odCxpKXtyZXR1cm4gdGhpcy54cy5vbih0LGkpfW9uRmVhdHVyZUZsYWdzKHQpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5vbkZlYXR1cmVGbGFncyh0KX1vblN1cnZleXNMb2FkZWQodCl7cmV0dXJuIHRoaXMuc3VydmV5cy5vblN1cnZleXNMb2FkZWQodCl9b25TZXNzaW9uSWQodCl7dmFyIGksZTtyZXR1cm4gbnVsbCE9PShpPW51bGw9PShlPXRoaXMuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDplLm9uU2Vzc2lvbklkKHQpKSYmdm9pZCAwIT09aT9pOigpPT57fX1nZXRTdXJ2ZXlzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuc3VydmV5cy5nZXRTdXJ2ZXlzKHQsaSl9Z2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuc3VydmV5cy5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXModCxpKX1yZW5kZXJTdXJ2ZXkodCxpKXt0aGlzLnN1cnZleXMucmVuZGVyU3VydmV5KHQsaSl9ZGlzcGxheVN1cnZleSh0LGkpe3ZvaWQgMD09PWkmJihpPUpvKSx0aGlzLnN1cnZleXMuZGlzcGxheVN1cnZleSh0LGkpfWNhblJlbmRlclN1cnZleSh0KXtyZXR1cm4gdGhpcy5zdXJ2ZXlzLmNhblJlbmRlclN1cnZleSh0KX1jYW5SZW5kZXJTdXJ2ZXlBc3luYyh0LGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5zdXJ2ZXlzLmNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl9aWRlbnRpZnkodCxpLGUpe2lmKCF0aGlzLl9fbG9hZGVkfHwhdGhpcy5wZXJzaXN0ZW5jZSlyZXR1cm4geHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmlkZW50aWZ5XCIpO2lmKEQodCkmJih0PXQudG9TdHJpbmcoKSx4dC53YXJuKFwiVGhlIGZpcnN0IGFyZ3VtZW50IHRvIHBvc3Rob2cuaWRlbnRpZnkgd2FzIGEgbnVtYmVyLCBidXQgaXQgc2hvdWxkIGJlIGEgc3RyaW5nLiBJdCBoYXMgYmVlbiBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXCIpKSx0KWlmKFtcImRpc3RpbmN0X2lkXCIsXCJkaXN0aW5jdGlkXCJdLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSkpeHQuY3JpdGljYWwoJ1RoZSBzdHJpbmcgXCInK3QrJ1wiIHdhcyBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeSB3aGljaCBpbmRpY2F0ZXMgYW4gZXJyb3IuIFRoaXMgSUQgc2hvdWxkIGJlIHVuaXF1ZSB0byB0aGUgdXNlciBhbmQgbm90IGEgaGFyZGNvZGVkIHN0cmluZy4nKTtlbHNlIGlmKHQhPT1JaSl7aWYodGhpcy5IcyhcInBvc3Rob2cuaWRlbnRpZnlcIikpe3ZhciByPXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCk7aWYodGhpcy5yZWdpc3Rlcih7JHVzZXJfaWQ6dH0pLCF0aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIikpe3ZhciBzPXI7dGhpcy5yZWdpc3Rlcl9vbmNlKHskaGFkX3BlcnNpc3RlZF9kaXN0aW5jdF9pZDohMCwkZGV2aWNlX2lkOnN9LFwiXCIpfXQhPT1yJiZ0IT09dGhpcy5nZXRfcHJvcGVydHkoSHQpJiYodGhpcy51bnJlZ2lzdGVyKEh0KSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDp0fSkpO3ZhciBuPVwiYW5vbnltb3VzXCI9PT0odGhpcy5wZXJzaXN0ZW5jZS5nZXRfcHJvcGVydHkod2kpfHxcImFub255bW91c1wiKTt0IT09ciYmbj8odGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkod2ksXCJpZGVudGlmaWVkXCIpLHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGcoe30sZXx8e30saXx8e30pLCExKSx0aGlzLmNhcHR1cmUoXCIkaWRlbnRpZnlcIix7ZGlzdGluY3RfaWQ6dCwkYW5vbl9kaXN0aW5jdF9pZDpyfSx7JHNldDppfHx7fSwkc2V0X29uY2U6ZXx8e319KSx0aGlzLklzPXJuKHQsaSxlKSx0aGlzLmZlYXR1cmVGbGFncy5zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHIpKTooaXx8ZSkmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyhpLGUpLHQhPT1yJiYodGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKSx0aGlzLnVucmVnaXN0ZXIoYmkpKX19ZWxzZSB4dC5jcml0aWNhbCgnVGhlIHN0cmluZyBcIicrSWkrJ1wiIHdhcyBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeSB3aGljaCBpbmRpY2F0ZXMgYW4gZXJyb3IuIFRoaXMgSUQgaXMgb25seSB1c2VkIGFzIGEgc2VudGluZWwgdmFsdWUuJyk7ZWxzZSB4dC5lcnJvcihcIlVuaXF1ZSB1c2VyIGlkIGhhcyBub3QgYmVlbiBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeVwiKX1zZXRQZXJzb25Qcm9wZXJ0aWVzKHQsaSl7aWYoKHR8fGkpJiZ0aGlzLkhzKFwicG9zdGhvZy5zZXRQZXJzb25Qcm9wZXJ0aWVzXCIpKXt2YXIgZT1ybih0aGlzLmdldF9kaXN0aW5jdF9pZCgpLHQsaSk7dGhpcy5JcyE9PWU/KHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGcoe30saXx8e30sdHx8e30pKSx0aGlzLmNhcHR1cmUoXCIkc2V0XCIseyRzZXQ6dHx8e30sJHNldF9vbmNlOml8fHt9fSksdGhpcy5Jcz1lKTp4dC5pbmZvKFwiQSBkdXBsaWNhdGUgc2V0UGVyc29uUHJvcGVydGllcyBjYWxsIHdhcyBtYWRlIHdpdGggdGhlIHNhbWUgcHJvcGVydGllcy4gSXQgaGFzIGJlZW4gaWdub3JlZC5cIil9fWdyb3VwKHQsaSxlKXtpZih0JiZpKXtpZih0aGlzLkhzKFwicG9zdGhvZy5ncm91cFwiKSl7dmFyIHI9dGhpcy5nZXRHcm91cHMoKTtyW3RdIT09aSYmdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpLHRoaXMucmVnaXN0ZXIoeyRncm91cHM6Zyh7fSxyLHtbdF06aX0pfSksZSYmKHRoaXMuY2FwdHVyZShcIiRncm91cGlkZW50aWZ5XCIseyRncm91cF90eXBlOnQsJGdyb3VwX2tleTppLCRncm91cF9zZXQ6ZX0pLHRoaXMuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3Moe1t0XTplfSkpLHJbdF09PT1pfHxlfHx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfX1lbHNlIHh0LmVycm9yKFwicG9zdGhvZy5ncm91cCByZXF1aXJlcyBhIGdyb3VwIHR5cGUgYW5kIGdyb3VwIGtleVwiKX1yZXNldEdyb3Vwcygpe3RoaXMucmVnaXN0ZXIoeyRncm91cHM6e319KSx0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoKSx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKSx0aGlzLmZlYXR1cmVGbGFncy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCksdGhpcy5IcyhcInBvc3Rob2cuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3NcIikmJnRoaXMuZmVhdHVyZUZsYWdzLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQsaSl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpfXJlc2V0KHQpe3ZhciBpLGUscixzO2lmKHh0LmluZm8oXCJyZXNldFwiKSwhdGhpcy5fX2xvYWRlZClyZXR1cm4geHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLnJlc2V0XCIpO3ZhciBuPXRoaXMuZ2V0X3Byb3BlcnR5KFwiJGRldmljZV9pZFwiKTtpZih0aGlzLmNvbnNlbnQucmVzZXQoKSxudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8aS5jbGVhcigpLG51bGw9PShlPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8ZS5jbGVhcigpLHRoaXMuc3VydmV5cy5yZXNldCgpLHRoaXMuZmVhdHVyZUZsYWdzLnJlc2V0KCksbnVsbD09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHIuc2V0X3Byb3BlcnR5KHdpLFwiYW5vbnltb3VzXCIpLG51bGw9PShzPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHxzLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5Jcz1udWxsLFwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpdGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDpJaSwkZGV2aWNlX2lkOm51bGx9LFwiXCIpO2Vsc2V7dmFyIG89dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChDZSgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOm8sJGRldmljZV9pZDp0P286bn0sXCJcIil9dGhpcy5yZWdpc3Rlcih7JGxhc3RfcG9zdGhvZ19yZXNldDoobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9LDEpfWdldF9kaXN0aW5jdF9pZCgpe3JldHVybiB0aGlzLmdldF9wcm9wZXJ0eShcImRpc3RpbmN0X2lkXCIpfWdldEdyb3Vwcygpe3JldHVybiB0aGlzLmdldF9wcm9wZXJ0eShcIiRncm91cHNcIil8fHt9fWdldF9zZXNzaW9uX2lkKCl7dmFyIHQsaTtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PShpPXRoaXMuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDppLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKS5zZXNzaW9uSWQpJiZ2b2lkIDAhPT10P3Q6XCJcIn1nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKHQpe2lmKCF0aGlzLnNlc3Npb25NYW5hZ2VyKXJldHVyblwiXCI7dmFye3Nlc3Npb25JZDppLHNlc3Npb25TdGFydFRpbWVzdGFtcDplfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKSxyPXRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIit0aGlzLmNvbmZpZy50b2tlbitcIi9yZXBsYXkvXCIraSk7aWYobnVsbCE9dCYmdC53aXRoVGltZXN0YW1wJiZlKXt2YXIgcyxuPW51bGwhPT0ocz10LnRpbWVzdGFtcExvb2tCYWNrKSYmdm9pZCAwIT09cz9zOjEwO2lmKCFlKXJldHVybiByO3IrPVwiP3Q9XCIrTWF0aC5tYXgoTWF0aC5mbG9vcigoKG5ldyBEYXRlKS5nZXRUaW1lKCktZSkvMWUzKS1uLDApfXJldHVybiByfWFsaWFzKHQsaSl7cmV0dXJuIHQ9PT10aGlzLmdldF9wcm9wZXJ0eShCdCk/KHh0LmNyaXRpY2FsKFwiQXR0ZW1wdGluZyB0byBjcmVhdGUgYWxpYXMgZm9yIGV4aXN0aW5nIFBlb3BsZSB1c2VyIC0gYWJvcnRpbmcuXCIpLC0yKTp0aGlzLkhzKFwicG9zdGhvZy5hbGlhc1wiKT8oQyhpKSYmKGk9dGhpcy5nZXRfZGlzdGluY3RfaWQoKSksdCE9PWk/KHRoaXMuV3MoSHQsdCksdGhpcy5jYXB0dXJlKFwiJGNyZWF0ZV9hbGlhc1wiLHthbGlhczp0LGRpc3RpbmN0X2lkOml9KSk6KHh0Lndhcm4oXCJhbGlhcyBtYXRjaGVzIGN1cnJlbnQgZGlzdGluY3RfaWQgLSBza2lwcGluZyBhcGkgY2FsbC5cIiksdGhpcy5pZGVudGlmeSh0KSwtMSkpOnZvaWQgMH1zZXRfY29uZmlnKHQpe3ZhciBpPWcoe30sdGhpcy5jb25maWcpO2lmKEkodCkpe3ZhciBlLHIscyxuLG87TXQodGhpcy5jb25maWcsTWEodCkpO3ZhciBhPXRoaXMuTXMoKTtudWxsPT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8ZS51cGRhdGVfY29uZmlnKHRoaXMuY29uZmlnLGksYSksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2U9XCJzZXNzaW9uU3RvcmFnZVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2V8fFwibWVtb3J5XCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZT90aGlzLnBlcnNpc3RlbmNlOm5ldyBDbyhnKHt9LHRoaXMuY29uZmlnLHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSxhKSxMZS5HKCkmJlwidHJ1ZVwiPT09TGUuSihcInBoX2RlYnVnXCIpJiYodGhpcy5jb25maWcuZGVidWc9ITApLHRoaXMuY29uZmlnLmRlYnVnJiYoYy5ERUJVRz0hMCx4dC5pbmZvKFwic2V0X2NvbmZpZ1wiLHtjb25maWc6dCxvbGRDb25maWc6aSxuZXdDb25maWc6Zyh7fSx0aGlzLmNvbmZpZyl9KSksbnVsbD09KHI9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8ci5zdGFydElmRW5hYmxlZE9yU3RvcCgpLG51bGw9PShzPXRoaXMuYXV0b2NhcHR1cmUpfHxzLnN0YXJ0SWZFbmFibGVkKCksbnVsbD09KG49dGhpcy5oZWF0bWFwcyl8fG4uc3RhcnRJZkVuYWJsZWQoKSx0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpLHRoaXMuR3MoKSxudWxsPT0obz10aGlzLmV4dGVybmFsSW50ZWdyYXRpb25zKXx8by5zdGFydElmRW5hYmxlZE9yU3RvcCgpfX1zdGFydFNlc3Npb25SZWNvcmRpbmcodCl7dmFyIGk9ITA9PT10LGU9e3NhbXBsaW5nOml8fCEobnVsbD09dHx8IXQuc2FtcGxpbmcpLGxpbmtlZF9mbGFnOml8fCEobnVsbD09dHx8IXQubGlua2VkX2ZsYWcpLHVybF90cmlnZ2VyOml8fCEobnVsbD09dHx8IXQudXJsX3RyaWdnZXIpLGV2ZW50X3RyaWdnZXI6aXx8IShudWxsPT10fHwhdC5ldmVudF90cmlnZ2VyKX07aWYoT2JqZWN0LnZhbHVlcyhlKS5zb21lKEJvb2xlYW4pKXt2YXIgcixzLG4sbyxhO2lmKG51bGw9PShyPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHxyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCksZS5zYW1wbGluZyludWxsPT0ocz10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxzLm92ZXJyaWRlU2FtcGxpbmcoKTtpZihlLmxpbmtlZF9mbGFnKW51bGw9PShuPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fG4ub3ZlcnJpZGVMaW5rZWRGbGFnKCk7aWYoZS51cmxfdHJpZ2dlciludWxsPT0obz10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxvLm92ZXJyaWRlVHJpZ2dlcihcInVybFwiKTtpZihlLmV2ZW50X3RyaWdnZXIpbnVsbD09KGE9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8YS5vdmVycmlkZVRyaWdnZXIoXCJldmVudFwiKX10aGlzLnNldF9jb25maWcoe2Rpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITF9KX1zdG9wU2Vzc2lvblJlY29yZGluZygpe3RoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMH0pfXNlc3Npb25SZWNvcmRpbmdTdGFydGVkKCl7dmFyIHQ7cmV0dXJuIShudWxsPT0odD10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHwhdC5zdGFydGVkKX1jYXB0dXJlRXhjZXB0aW9uKHQsaSl7dmFyIGU9bmV3IEVycm9yKFwiUG9zdEhvZyBzeW50aGV0aWNFeGNlcHRpb25cIikscj10aGlzLmV4Y2VwdGlvbnMuYnVpbGRQcm9wZXJ0aWVzKHQse2hhbmRsZWQ6ITAsc3ludGhldGljRXhjZXB0aW9uOmV9KTtyZXR1cm4gdGhpcy5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChnKHt9LHIsaSkpfWxvYWRUb29sYmFyKHQpe3JldHVybiB0aGlzLnRvb2xiYXIubG9hZFRvb2xiYXIodCl9Z2V0X3Byb3BlcnR5KHQpe3ZhciBpO3JldHVybiBudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1t0XX1nZXRTZXNzaW9uUHJvcGVydHkodCl7dmFyIGk7cmV0dXJuIG51bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1t0XX10b1N0cmluZygpe3ZhciB0LGk9bnVsbCE9PSh0PXRoaXMuY29uZmlnLm5hbWUpJiZ2b2lkIDAhPT10P3Q6SWE7cmV0dXJuIGkhPT1JYSYmKGk9SWErXCIuXCIraSksaX1faXNJZGVudGlmaWVkKCl7dmFyIHQsaTtyZXR1cm5cImlkZW50aWZpZWRcIj09PShudWxsPT0odD10aGlzLnBlcnNpc3RlbmNlKT92b2lkIDA6dC5nZXRfcHJvcGVydHkod2kpKXx8XCJpZGVudGlmaWVkXCI9PT0obnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpP3ZvaWQgMDppLmdldF9wcm9wZXJ0eSh3aSkpfUJzKCl7dmFyIHQsaTtyZXR1cm4hKFwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlc3x8XCJpZGVudGlmaWVkX29ubHlcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcyYmIXRoaXMuX2lzSWRlbnRpZmllZCgpJiZUKHRoaXMuZ2V0R3JvdXBzKCkpJiYobnVsbD09KHQ9dGhpcy5wZXJzaXN0ZW5jZSl8fG51bGw9PSh0PXQucHJvcHMpfHwhdFtIdF0pJiYobnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fG51bGw9PShpPWkucHJvcHMpfHwhaVtQaV0pKX1Vcygpe3JldHVybiEwPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmV8fFwiaWZfY2FwdHVyZV9wYWdldmlld1wiPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmUmJighMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXd8fFwiaGlzdG9yeV9jaGFuZ2VcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcpfWNyZWF0ZVBlcnNvblByb2ZpbGUoKXt0aGlzLkJzKCl8fHRoaXMuSHMoXCJwb3N0aG9nLmNyZWF0ZVBlcnNvblByb2ZpbGVcIikmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyh7fSx7fSl9SHModCl7cmV0dXJuXCJuZXZlclwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzPyh4dC5lcnJvcih0Kycgd2FzIGNhbGxlZCwgYnV0IHByb2Nlc3NfcGVyc29uIGlzIHNldCB0byBcIm5ldmVyXCIuIFRoaXMgY2FsbCB3aWxsIGJlIGlnbm9yZWQuJyksITEpOih0aGlzLldzKFBpLCEwKSwhMCl9TXMoKXtpZihcImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKXJldHVybiEwO3ZhciB0PXRoaXMuY29uc2VudC5pc09wdGVkT3V0KCksaT10aGlzLmNvbmZpZy5vcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHR8fFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU7cmV0dXJuIHRoaXMuY29uZmlnLmRpc2FibGVfcGVyc2lzdGVuY2V8fHQmJiEhaX1Hcygpe3ZhciB0LGksZSxyLHM9dGhpcy5NcygpOyhudWxsPT0odD10aGlzLnBlcnNpc3RlbmNlKT92b2lkIDA6dC5qZSkhPT1zJiYobnVsbD09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fGUuc2V0X2Rpc2FibGVkKHMpKTsobnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpP3ZvaWQgMDppLmplKSE9PXMmJihudWxsPT0ocj10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHIuc2V0X2Rpc2FibGVkKHMpKTtyZXR1cm4gc31vcHRfaW5fY2FwdHVyaW5nKHQpe2lmKFwiYWx3YXlzXCIhPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpe3ZhciBpO2lmKFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpJiYodGhpcy5yZXNldCghMCksdGhpcy5zZXNzaW9uTWFuYWdlcj1uZXcgdWEodGhpcyksdGhpcy5wZXJzaXN0ZW5jZSYmKHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj1uZXcgYWEodGhpcyx0aGlzLnNlc3Npb25NYW5hZ2VyLHRoaXMucGVyc2lzdGVuY2UpKSx0aGlzLnNlc3Npb25SZWNvcmRpbmc9bmV3IFJzKHRoaXMpLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zdGFydElmRW5hYmxlZE9yU3RvcCgpKSx0aGlzLmNvbnNlbnQub3B0SW5PdXQoITApLHRoaXMuR3MoKSxcIm9uX3JlamVjdFwiPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksQyhudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVFdmVudE5hbWUpfHxudWxsIT10JiZ0LmNhcHR1cmVFdmVudE5hbWUpdGhpcy5jYXB0dXJlKG51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVFdmVudE5hbWUpJiZ2b2lkIDAhPT1pP2k6XCIkb3B0X2luXCIsbnVsbD09dD92b2lkIDA6dC5jYXB0dXJlUHJvcGVydGllcyx7c2VuZF9pbnN0YW50bHk6ITB9KTt0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0aGlzLk5zKCl9ZWxzZSB4dC53YXJuKCdDb25zZW50IG9wdCBpbi9vdXQgaXMgbm90IHZhbGlkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCIgYW5kIHdpbGwgYmUgaWdub3JlZCcpfW9wdF9vdXRfY2FwdHVyaW5nKCl7dmFyIHQ7XCJhbHdheXNcIiE9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZT8oXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzT3B0ZWRJbigpJiZ0aGlzLnJlc2V0KCEwKSx0aGlzLmNvbnNlbnQub3B0SW5PdXQoITEpLHRoaXMuR3MoKSxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiYodGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6SWksJGRldmljZV9pZDpudWxsfSksdGhpcy5zZXNzaW9uTWFuYWdlcj12b2lkIDAsdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPXZvaWQgMCxudWxsPT0odD10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx0LnN0b3BSZWNvcmRpbmcoKSx0aGlzLnNlc3Npb25SZWNvcmRpbmc9dm9pZCAwLHRoaXMuTnMoKSkpOnh0Lndhcm4oJ0NvbnNlbnQgb3B0IGluL291dCBpcyBub3QgdmFsaWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIiBhbmQgd2lsbCBiZSBpZ25vcmVkJyl9aGFzX29wdGVkX2luX2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl9aGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKX1nZXRfZXhwbGljaXRfY29uc2VudF9zdGF0dXMoKXt2YXIgdD10aGlzLmNvbnNlbnQuY29uc2VudDtyZXR1cm4gdD09PVdlLkdSQU5URUQ/XCJncmFudGVkXCI6dD09PVdlLkRFTklFRD9cImRlbmllZFwiOlwicGVuZGluZ1wifWlzX2NhcHR1cmluZygpe3JldHVyblwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGV8fChcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlP3RoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpfHx0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCk6IXRoaXMuaGFzX29wdGVkX291dF9jYXB0dXJpbmcoKSl9Y2xlYXJfb3B0X2luX291dF9jYXB0dXJpbmcoKXt0aGlzLmNvbnNlbnQucmVzZXQoKSx0aGlzLkdzKCl9X2lzX2JvdCgpe3JldHVybiBuP3BhKG4sdGhpcy5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfU5zKCl7byYmKFwidmlzaWJsZVwiPT09by52aXNpYmlsaXR5U3RhdGU/dGhpcy5Fc3x8KHRoaXMuRXM9ITAsdGhpcy5jYXB0dXJlKFwiJHBhZ2V2aWV3XCIse3RpdGxlOm8udGl0bGV9LHtzZW5kX2luc3RhbnRseTohMH0pLHRoaXMuUHMmJihvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5QcyksdGhpcy5Qcz1udWxsKSk6dGhpcy5Qc3x8KHRoaXMuUHM9dGhpcy5Ocy5iaW5kKHRoaXMpLHF0KG8sXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5QcykpKX1kZWJ1ZyhpKXshMT09PWk/KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UndmUgZGlzYWJsZWQgZGVidWcgbW9kZS5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInBoX2RlYnVnXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITF9KSk6KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UncmUgbm93IGluIGRlYnVnIG1vZGUuIEFsbCBjYWxscyB0byBQb3N0SG9nIHdpbGwgYmUgbG9nZ2VkIGluIHlvdXIgY29uc29sZS5cXG5Zb3UgY2FuIGRpc2FibGUgdGhpcyB3aXRoIGBwb3N0aG9nLmRlYnVnKGZhbHNlKWAuXCIpLGxvY2FsU3RvcmFnZSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaF9kZWJ1Z1wiLFwidHJ1ZVwiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiEwfSkpfUwoKXt2YXIgdCxpLGUscixzLG4sbyxhPXRoaXMuVHN8fHt9O3JldHVyblwiYWR2YW5jZWRfZGlzYWJsZV9mbGFnc1wiaW4gYT8hIWEuYWR2YW5jZWRfZGlzYWJsZV9mbGFnczohMSE9PXRoaXMuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M/ISF0aGlzLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiEwPT09dGhpcy5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGU/KHh0Lndhcm4oXCJDb25maWcgZmllbGQgJ2FkdmFuY2VkX2Rpc2FibGVfZGVjaWRlJyBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICdhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzJyBpbnN0ZWFkLiBUaGUgb2xkIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciB2ZXJzaW9uLlwiKSwhMCk6KGU9XCJhZHZhbmNlZF9kaXNhYmxlX2RlY2lkZVwiLHI9ITEscz14dCxuPShpPVwiYWR2YW5jZWRfZGlzYWJsZV9mbGFnc1wiKWluKHQ9YSkmJiFDKHRbaV0pLG89ZSBpbiB0JiYhQyh0W2VdKSxuP3RbaV06bz8ocyYmcy53YXJuKFwiQ29uZmlnIGZpZWxkICdcIitlK1wiJyBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICdcIitpK1wiJyBpbnN0ZWFkLiBUaGUgb2xkIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciB2ZXJzaW9uLlwiKSx0W2VdKTpyKX1xcyh0KXtpZihBKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSlyZXR1cm4gdDt2YXIgaT1QKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKT90aGlzLmNvbmZpZy5iZWZvcmVfc2VuZDpbdGhpcy5jb25maWcuYmVmb3JlX3NlbmRdLGU9dDtmb3IodmFyIHIgb2YgaSl7aWYoZT1yKGUpLEEoZSkpe3ZhciBzPVwiRXZlbnQgJ1wiK3QuZXZlbnQrXCInIHdhcyByZWplY3RlZCBpbiBiZWZvcmVTZW5kIGZ1bmN0aW9uXCI7cmV0dXJuIE4odC5ldmVudCk/eHQud2FybihzK1wiLiBUaGlzIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLlwiKTp4dC5pbmZvKHMpLG51bGx9ZS5wcm9wZXJ0aWVzJiYhVChlLnByb3BlcnRpZXMpfHx4dC53YXJuKFwiRXZlbnQgJ1wiK3QuZXZlbnQrXCInIGhhcyBubyBwcm9wZXJ0aWVzIGFmdGVyIGJlZm9yZVNlbmQgZnVuY3Rpb24sIHRoaXMgaXMgbGlrZWx5IGFuIGVycm9yLlwiKX1yZXR1cm4gZX1nZXRQYWdlVmlld0lkKCl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXRoaXMucGFnZVZpZXdNYW5hZ2VyLmZlKT92b2lkIDA6dC5wYWdlVmlld0lkfWNhcHR1cmVUcmFjZUZlZWRiYWNrKHQsaSl7dGhpcy5jYXB0dXJlKFwiJGFpX2ZlZWRiYWNrXCIseyRhaV90cmFjZV9pZDpTdHJpbmcodCksJGFpX2ZlZWRiYWNrX3RleHQ6aX0pfWNhcHR1cmVUcmFjZU1ldHJpYyh0LGksZSl7dGhpcy5jYXB0dXJlKFwiJGFpX21ldHJpY1wiLHskYWlfdHJhY2VfaWQ6U3RyaW5nKHQpLCRhaV9tZXRyaWNfbmFtZTppLCRhaV9tZXRyaWNfdmFsdWU6U3RyaW5nKGUpfSl9fSFmdW5jdGlvbih0LGkpe2Zvcih2YXIgZT0wO2U8aS5sZW5ndGg7ZSsrKXQucHJvdG90eXBlW2lbZV1dPUR0KHQucHJvdG90eXBlW2lbZV1dKX0oRmEsW1wiaWRlbnRpZnlcIl0pO3ZhciBBYSxEYT0oQWE9UGFbSWFdPW5ldyBGYSxmdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXtpLmRvbmV8fChpLmRvbmU9ITAsVGE9ITEsQ3QoUGEsKGZ1bmN0aW9uKHQpe3QuX2RvbV9sb2FkZWQoKX0pKSl9bnVsbCE9byYmby5hZGRFdmVudExpc3RlbmVyP1wiY29tcGxldGVcIj09PW8ucmVhZHlTdGF0ZT9pKCk6cXQobyxcIkRPTUNvbnRlbnRMb2FkZWRcIixpLHtjYXB0dXJlOiExfSk6dCYmeHQuZXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgc28gUG9zdEhvZyBjb3VsZG4ndCBiZSBpbml0aWFsaXplZFwiKX0oKSxBYSk7ZXhwb3J0e2hlIGFzIENPUFlfQVVUT0NBUFRVUkVfRVZFTlQsZGUgYXMgQ29tcHJlc3Npb24sVW8gYXMgRGlzcGxheVN1cnZleVR5cGUsRmEgYXMgUG9zdEhvZyxMbyBhcyBTdXJ2ZXlFdmVudE5hbWUsTm8gYXMgU3VydmV5RXZlbnRQcm9wZXJ0aWVzLE9vIGFzIFN1cnZleVBvc2l0aW9uLERvIGFzIFN1cnZleVF1ZXN0aW9uQnJhbmNoaW5nVHlwZSxBbyBhcyBTdXJ2ZXlRdWVzdGlvblR5cGUsam8gYXMgU3VydmV5U2NoZWR1bGUsRm8gYXMgU3VydmV5VHlwZSxNbyBhcyBTdXJ2ZXlXaWRnZXRUeXBlLERhIGFzIGRlZmF1bHQsRGEgYXMgcG9zdGhvZyx2ZSBhcyBzZXZlcml0eUxldmVsc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/posthog-js/dist/module.js\n");

/***/ })

};
;